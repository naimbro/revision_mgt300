var nT=Object.defineProperty;var rT=(n,e,t)=>e in n?nT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Kn=(n,e,t)=>rT(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Gg={exports:{}},Af={},Kg={exports:{}},pn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function iT(){if(Vv)return pn;Vv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),w=Symbol.iterator;function _(ne){return ne===null||typeof ne!="object"?null:(ne=w&&ne[w]||ne["@@iterator"],typeof ne=="function"?ne:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,I={};function N(ne,M,Q){this.props=ne,this.context=M,this.refs=I,this.updater=Q||v}N.prototype.isReactComponent={},N.prototype.setState=function(ne,M){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,M,"setState")},N.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function L(){}L.prototype=N.prototype;function K(ne,M,Q){this.props=ne,this.context=M,this.refs=I,this.updater=Q||v}var W=K.prototype=new L;W.constructor=K,C(W,N.prototype),W.isPureReactComponent=!0;var G=Array.isArray,ie=Object.prototype.hasOwnProperty,pe={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function R(ne,M,Q){var re,ue={},he=null,ve=null;if(M!=null)for(re in M.ref!==void 0&&(ve=M.ref),M.key!==void 0&&(he=""+M.key),M)ie.call(M,re)&&!q.hasOwnProperty(re)&&(ue[re]=M[re]);var Ee=arguments.length-2;if(Ee===1)ue.children=Q;else if(1<Ee){for(var Te=Array(Ee),Fe=0;Fe<Ee;Fe++)Te[Fe]=arguments[Fe+2];ue.children=Te}if(ne&&ne.defaultProps)for(re in Ee=ne.defaultProps,Ee)ue[re]===void 0&&(ue[re]=Ee[re]);return{$$typeof:n,type:ne,key:he,ref:ve,props:ue,_owner:pe.current}}function k(ne,M){return{$$typeof:n,type:ne.type,key:M,ref:ne.ref,props:ne.props,_owner:ne._owner}}function U(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===n}function P(ne){var M={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(Q){return M[Q]})}var F=/\/+/g;function O(ne,M){return typeof ne=="object"&&ne!==null&&ne.key!=null?P(""+ne.key):M.toString(36)}function ae(ne,M,Q,re,ue){var he=typeof ne;(he==="undefined"||he==="boolean")&&(ne=null);var ve=!1;if(ne===null)ve=!0;else switch(he){case"string":case"number":ve=!0;break;case"object":switch(ne.$$typeof){case n:case e:ve=!0}}if(ve)return ve=ne,ue=ue(ve),ne=re===""?"."+O(ve,0):re,G(ue)?(Q="",ne!=null&&(Q=ne.replace(F,"$&/")+"/"),ae(ue,M,Q,"",function(Fe){return Fe})):ue!=null&&(U(ue)&&(ue=k(ue,Q+(!ue.key||ve&&ve.key===ue.key?"":(""+ue.key).replace(F,"$&/")+"/")+ne)),M.push(ue)),1;if(ve=0,re=re===""?".":re+":",G(ne))for(var Ee=0;Ee<ne.length;Ee++){he=ne[Ee];var Te=re+O(he,Ee);ve+=ae(he,M,Q,Te,ue)}else if(Te=_(ne),typeof Te=="function")for(ne=Te.call(ne),Ee=0;!(he=ne.next()).done;)he=he.value,Te=re+O(he,Ee++),ve+=ae(he,M,Q,Te,ue);else if(he==="object")throw M=String(ne),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return ve}function Pe(ne,M,Q){if(ne==null)return ne;var re=[],ue=0;return ae(ne,re,"","",function(he){return M.call(Q,he,ue++)}),re}function Le(ne){if(ne._status===-1){var M=ne._result;M=M(),M.then(function(Q){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=Q)},function(Q){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=Q)}),ne._status===-1&&(ne._status=0,ne._result=M)}if(ne._status===1)return ne._result.default;throw ne._result}var xe={current:null},le={transition:null},_e={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:le,ReactCurrentOwner:pe};function ke(){throw Error("act(...) is not supported in production builds of React.")}return pn.Children={map:Pe,forEach:function(ne,M,Q){Pe(ne,function(){M.apply(this,arguments)},Q)},count:function(ne){var M=0;return Pe(ne,function(){M++}),M},toArray:function(ne){return Pe(ne,function(M){return M})||[]},only:function(ne){if(!U(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}},pn.Component=N,pn.Fragment=t,pn.Profiler=i,pn.PureComponent=K,pn.StrictMode=r,pn.Suspense=c,pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,pn.act=ke,pn.cloneElement=function(ne,M,Q){if(ne==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ne+".");var re=C({},ne.props),ue=ne.key,he=ne.ref,ve=ne._owner;if(M!=null){if(M.ref!==void 0&&(he=M.ref,ve=pe.current),M.key!==void 0&&(ue=""+M.key),ne.type&&ne.type.defaultProps)var Ee=ne.type.defaultProps;for(Te in M)ie.call(M,Te)&&!q.hasOwnProperty(Te)&&(re[Te]=M[Te]===void 0&&Ee!==void 0?Ee[Te]:M[Te])}var Te=arguments.length-2;if(Te===1)re.children=Q;else if(1<Te){Ee=Array(Te);for(var Fe=0;Fe<Te;Fe++)Ee[Fe]=arguments[Fe+2];re.children=Ee}return{$$typeof:n,type:ne.type,key:ue,ref:he,props:re,_owner:ve}},pn.createContext=function(ne){return ne={$$typeof:l,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ne.Provider={$$typeof:s,_context:ne},ne.Consumer=ne},pn.createElement=R,pn.createFactory=function(ne){var M=R.bind(null,ne);return M.type=ne,M},pn.createRef=function(){return{current:null}},pn.forwardRef=function(ne){return{$$typeof:u,render:ne}},pn.isValidElement=U,pn.lazy=function(ne){return{$$typeof:p,_payload:{_status:-1,_result:ne},_init:Le}},pn.memo=function(ne,M){return{$$typeof:f,type:ne,compare:M===void 0?null:M}},pn.startTransition=function(ne){var M=le.transition;le.transition={};try{ne()}finally{le.transition=M}},pn.unstable_act=ke,pn.useCallback=function(ne,M){return xe.current.useCallback(ne,M)},pn.useContext=function(ne){return xe.current.useContext(ne)},pn.useDebugValue=function(){},pn.useDeferredValue=function(ne){return xe.current.useDeferredValue(ne)},pn.useEffect=function(ne,M){return xe.current.useEffect(ne,M)},pn.useId=function(){return xe.current.useId()},pn.useImperativeHandle=function(ne,M,Q){return xe.current.useImperativeHandle(ne,M,Q)},pn.useInsertionEffect=function(ne,M){return xe.current.useInsertionEffect(ne,M)},pn.useLayoutEffect=function(ne,M){return xe.current.useLayoutEffect(ne,M)},pn.useMemo=function(ne,M){return xe.current.useMemo(ne,M)},pn.useReducer=function(ne,M,Q){return xe.current.useReducer(ne,M,Q)},pn.useRef=function(ne){return xe.current.useRef(ne)},pn.useState=function(ne){return xe.current.useState(ne)},pn.useSyncExternalStore=function(ne,M,Q){return xe.current.useSyncExternalStore(ne,M,Q)},pn.useTransition=function(){return xe.current.useTransition()},pn.version="18.3.1",pn}var Uv;function J1(){return Uv||(Uv=1,Kg.exports=iT()),Kg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function sT(){if(Bv)return Af;Bv=1;var n=J1(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,c,f){var p,w={},_=null,v=null;f!==void 0&&(_=""+f),c.key!==void 0&&(_=""+c.key),c.ref!==void 0&&(v=c.ref);for(p in c)r.call(c,p)&&!s.hasOwnProperty(p)&&(w[p]=c[p]);if(u&&u.defaultProps)for(p in c=u.defaultProps,c)w[p]===void 0&&(w[p]=c[p]);return{$$typeof:e,type:u,key:_,ref:v,props:w,_owner:i.current}}return Af.Fragment=t,Af.jsx=l,Af.jsxs=l,Af}var zv;function oT(){return zv||(zv=1,Gg.exports=sT()),Gg.exports}var $=oT(),ye=J1(),lp={},Yg={exports:{}},Hs={},Jg={exports:{}},Xg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function aT(){return qv||(qv=1,(function(n){function e(le,_e){var ke=le.length;le.push(_e);e:for(;0<ke;){var ne=ke-1>>>1,M=le[ne];if(0<i(M,_e))le[ne]=_e,le[ke]=M,ke=ne;else break e}}function t(le){return le.length===0?null:le[0]}function r(le){if(le.length===0)return null;var _e=le[0],ke=le.pop();if(ke!==_e){le[0]=ke;e:for(var ne=0,M=le.length,Q=M>>>1;ne<Q;){var re=2*(ne+1)-1,ue=le[re],he=re+1,ve=le[he];if(0>i(ue,ke))he<M&&0>i(ve,ue)?(le[ne]=ve,le[he]=ke,ne=he):(le[ne]=ue,le[re]=ke,ne=re);else if(he<M&&0>i(ve,ke))le[ne]=ve,le[he]=ke,ne=he;else break e}}return _e}function i(le,_e){var ke=le.sortIndex-_e.sortIndex;return ke!==0?ke:le.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var c=[],f=[],p=1,w=null,_=3,v=!1,C=!1,I=!1,N=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(le){for(var _e=t(f);_e!==null;){if(_e.callback===null)r(f);else if(_e.startTime<=le)r(f),_e.sortIndex=_e.expirationTime,e(c,_e);else break;_e=t(f)}}function G(le){if(I=!1,W(le),!C)if(t(c)!==null)C=!0,Le(ie);else{var _e=t(f);_e!==null&&xe(G,_e.startTime-le)}}function ie(le,_e){C=!1,I&&(I=!1,L(R),R=-1),v=!0;var ke=_;try{for(W(_e),w=t(c);w!==null&&(!(w.expirationTime>_e)||le&&!P());){var ne=w.callback;if(typeof ne=="function"){w.callback=null,_=w.priorityLevel;var M=ne(w.expirationTime<=_e);_e=n.unstable_now(),typeof M=="function"?w.callback=M:w===t(c)&&r(c),W(_e)}else r(c);w=t(c)}if(w!==null)var Q=!0;else{var re=t(f);re!==null&&xe(G,re.startTime-_e),Q=!1}return Q}finally{w=null,_=ke,v=!1}}var pe=!1,q=null,R=-1,k=5,U=-1;function P(){return!(n.unstable_now()-U<k)}function F(){if(q!==null){var le=n.unstable_now();U=le;var _e=!0;try{_e=q(!0,le)}finally{_e?O():(pe=!1,q=null)}}else pe=!1}var O;if(typeof K=="function")O=function(){K(F)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Pe=ae.port2;ae.port1.onmessage=F,O=function(){Pe.postMessage(null)}}else O=function(){N(F,0)};function Le(le){q=le,pe||(pe=!0,O())}function xe(le,_e){R=N(function(){le(n.unstable_now())},_e)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_continueExecution=function(){C||v||(C=!0,Le(ie))},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(le){switch(_){case 1:case 2:case 3:var _e=3;break;default:_e=_}var ke=_;_=_e;try{return le()}finally{_=ke}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(le,_e){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var ke=_;_=le;try{return _e()}finally{_=ke}},n.unstable_scheduleCallback=function(le,_e,ke){var ne=n.unstable_now();switch(typeof ke=="object"&&ke!==null?(ke=ke.delay,ke=typeof ke=="number"&&0<ke?ne+ke:ne):ke=ne,le){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ke+M,le={id:p++,callback:_e,priorityLevel:le,startTime:ke,expirationTime:M,sortIndex:-1},ke>ne?(le.sortIndex=ke,e(f,le),t(c)===null&&le===t(f)&&(I?(L(R),R=-1):I=!0,xe(G,ke-ne))):(le.sortIndex=M,e(c,le),C||v||(C=!0,Le(ie))),le},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(le){var _e=_;return function(){var ke=_;_=_e;try{return le.apply(this,arguments)}finally{_=ke}}}})(Xg)),Xg}var $v;function lT(){return $v||($v=1,Jg.exports=aT()),Jg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function uT(){if(Hv)return Hs;Hv=1;var n=J1(),e=lT();function t(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(i[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},w={};function _(o){return c.call(w,o)?!0:c.call(p,o)?!1:f.test(o)?w[o]=!0:(p[o]=!0,!1)}function v(o,a,h,g){if(h!==null&&h.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function C(o,a,h,g){if(a===null||typeof a>"u"||v(o,a,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function I(o,a,h,g,x,E,B){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=h,this.propertyName=o,this.type=a,this.sanitizeURL=E,this.removeEmptyString=B}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){N[o]=new I(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];N[a]=new I(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){N[o]=new I(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){N[o]=new I(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){N[o]=new I(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){N[o]=new I(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){N[o]=new I(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){N[o]=new I(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){N[o]=new I(o,5,!1,o.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function K(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(L,K);N[a]=new I(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(L,K);N[a]=new I(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(L,K);N[a]=new I(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){N[o]=new I(o,1,!1,o.toLowerCase(),null,!1,!1)}),N.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){N[o]=new I(o,1,!1,o.toLowerCase(),null,!0,!0)});function W(o,a,h,g){var x=N.hasOwnProperty(a)?N[a]:null;(x!==null?x.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(C(a,h,x,g)&&(h=null),g||x===null?_(a)&&(h===null?o.removeAttribute(a):o.setAttribute(a,""+h)):x.mustUseProperty?o[x.propertyName]=h===null?x.type===3?!1:"":h:(a=x.attributeName,g=x.attributeNamespace,h===null?o.removeAttribute(a):(x=x.type,h=x===3||x===4&&h===!0?"":""+h,g?o.setAttributeNS(g,a,h):o.setAttribute(a,h))))}var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),pe=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),P=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),Le=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),le=Symbol.iterator;function _e(o){return o===null||typeof o!="object"?null:(o=le&&o[le]||o["@@iterator"],typeof o=="function"?o:null)}var ke=Object.assign,ne;function M(o){if(ne===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);ne=a&&a[1]||""}return`
`+ne+o}var Q=!1;function re(o,a){if(!o||Q)return"";Q=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(De){var g=De}Reflect.construct(o,[],a)}else{try{a.call()}catch(De){g=De}o.call(a.prototype)}else{try{throw Error()}catch(De){g=De}o()}}catch(De){if(De&&g&&typeof De.stack=="string"){for(var x=De.stack.split(`
`),E=g.stack.split(`
`),B=x.length-1,oe=E.length-1;1<=B&&0<=oe&&x[B]!==E[oe];)oe--;for(;1<=B&&0<=oe;B--,oe--)if(x[B]!==E[oe]){if(B!==1||oe!==1)do if(B--,oe--,0>oe||x[B]!==E[oe]){var de=`
`+x[B].replace(" at new "," at ");return o.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",o.displayName)),de}while(1<=B&&0<=oe);break}}}finally{Q=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?M(o):""}function ue(o){switch(o.tag){case 5:return M(o.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return o=re(o.type,!1),o;case 11:return o=re(o.type.render,!1),o;case 1:return o=re(o.type,!0),o;default:return""}}function he(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case q:return"Fragment";case pe:return"Portal";case k:return"Profiler";case R:return"StrictMode";case O:return"Suspense";case ae:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case P:return(o.displayName||"Context")+".Consumer";case U:return(o._context.displayName||"Context")+".Provider";case F:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Pe:return a=o.displayName||null,a!==null?a:he(o.type)||"Memo";case Le:a=o._payload,o=o._init;try{return he(o(a))}catch{}}return null}function ve(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(a);case 8:return a===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ee(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Te(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Fe(o){var a=Te(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),g=""+o[a];if(!o.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var x=h.get,E=h.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return x.call(this)},set:function(B){g=""+B,E.call(this,B)}}),Object.defineProperty(o,a,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(B){g=""+B},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function He(o){o._valueTracker||(o._valueTracker=Fe(o))}function nt(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var h=a.getValue(),g="";return o&&(g=Te(o)?o.checked?"true":"false":o.value),o=g,o!==h?(a.setValue(o),!0):!1}function tt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Me(o,a){var h=a.checked;return ke({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function se(o,a){var h=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;h=Ee(a.value!=null?a.value:h),o._wrapperState={initialChecked:g,initialValue:h,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function nn(o,a){a=a.checked,a!=null&&W(o,"checked",a,!1)}function zt(o,a){nn(o,a);var h=Ee(a.value),g=a.type;if(h!=null)g==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?Ye(o,a.type,h):a.hasOwnProperty("defaultValue")&&Ye(o,a.type,Ee(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function St(o,a,h){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,h||a===o.value||(o.value=a),o.defaultValue=a}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function Ye(o,a,h){(a!=="number"||tt(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var lt=Array.isArray;function Ze(o,a,h,g){if(o=o.options,a){a={};for(var x=0;x<h.length;x++)a["$"+h[x]]=!0;for(h=0;h<o.length;h++)x=a.hasOwnProperty("$"+o[h].value),o[h].selected!==x&&(o[h].selected=x),x&&g&&(o[h].defaultSelected=!0)}else{for(h=""+Ee(h),a=null,x=0;x<o.length;x++){if(o[x].value===h){o[x].selected=!0,g&&(o[x].defaultSelected=!0);return}a!==null||o[x].disabled||(a=o[x])}a!==null&&(a.selected=!0)}}function qt(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return ke({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function vt(o,a){var h=a.value;if(h==null){if(h=a.children,a=a.defaultValue,h!=null){if(a!=null)throw Error(t(92));if(lt(h)){if(1<h.length)throw Error(t(93));h=h[0]}a=h}a==null&&(a=""),h=a}o._wrapperState={initialValue:Ee(h)}}function cn(o,a){var h=Ee(a.value),g=Ee(a.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),a.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),g!=null&&(o.defaultValue=""+g)}function jt(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function mt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $t(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?mt(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var kt,wt=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,h,g,x){MSApp.execUnsafeLocalFunction(function(){return o(a,h,g,x)})}:o})(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(kt=kt||document.createElement("div"),kt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=kt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function Et(o,a){if(a){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=a;return}}o.textContent=a}var gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bn=["Webkit","ms","Moz","O"];Object.keys(gt).forEach(function(o){bn.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),gt[a]=gt[o]})});function mn(o,a,h){return a==null||typeof a=="boolean"||a===""?"":h||typeof a!="number"||a===0||gt.hasOwnProperty(o)&&gt[o]?(""+a).trim():a+"px"}function ht(o,a){o=o.style;for(var h in a)if(a.hasOwnProperty(h)){var g=h.indexOf("--")===0,x=mn(h,a[h],g);h==="float"&&(h="cssFloat"),g?o.setProperty(h,x):o[h]=x}}var Vt=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function An(o,a){if(a){if(Vt[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Tt(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var en=null;function Mt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Jn=null,Nn=null,hn=null;function Ct(o){if(o=iu(o)){if(typeof Jn!="function")throw Error(t(280));var a=o.stateNode;a&&(a=ic(a),Jn(o.stateNode,o.type,a))}}function rn(o){Nn?hn?hn.push(o):hn=[o]:Nn=o}function Js(){if(Nn){var o=Nn,a=hn;if(hn=Nn=null,Ct(o),a)for(o=0;o<a.length;o++)Ct(a[o])}}function fr(o,a){return o(a)}function Ss(){}var ti=!1;function It(o,a,h){if(ti)return o(a,h);ti=!0;try{return fr(o,a,h)}finally{ti=!1,(Nn!==null||hn!==null)&&(Ss(),Js())}}function Rn(o,a){var h=o.stateNode;if(h===null)return null;var g=ic(h);if(g===null)return null;h=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(t(231,a,typeof h));return h}var Zi=!1;if(u)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){Zi=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{Zi=!1}function ni(o,a,h,g,x,E,B,oe,de){var De=Array.prototype.slice.call(arguments,3);try{a.apply(h,De)}catch(Ke){this.onError(Ke)}}var Mn=!1,sr=null,qn=!1,Xs=null,_o={onError:function(o){Mn=!0,sr=o}};function Pi(o,a,h,g,x,E,B,oe,de){Mn=!1,sr=null,ni.apply(_o,arguments)}function Es(o,a,h,g,x,E,B,oe,de){if(Pi.apply(this,arguments),Mn){if(Mn){var De=sr;Mn=!1,sr=null}else throw Error(t(198));qn||(qn=!0,Xs=De)}}function Er(o){var a=o,h=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(h=a.return),o=a.return;while(o)}return a.tag===3?h:null}function fi(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function pr(o){if(Er(o)!==o)throw Error(t(188))}function bo(o){var a=o.alternate;if(!a){if(a=Er(o),a===null)throw Error(t(188));return a!==o?null:o}for(var h=o,g=a;;){var x=h.return;if(x===null)break;var E=x.alternate;if(E===null){if(g=x.return,g!==null){h=g;continue}break}if(x.child===E.child){for(E=x.child;E;){if(E===h)return pr(x),o;if(E===g)return pr(x),a;E=E.sibling}throw Error(t(188))}if(h.return!==g.return)h=x,g=E;else{for(var B=!1,oe=x.child;oe;){if(oe===h){B=!0,h=x,g=E;break}if(oe===g){B=!0,g=x,h=E;break}oe=oe.sibling}if(!B){for(oe=E.child;oe;){if(oe===h){B=!0,h=E,g=x;break}if(oe===g){B=!0,g=E,h=x;break}oe=oe.sibling}if(!B)throw Error(t(189))}}if(h.alternate!==g)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?o:a}function es(o){return o=bo(o),o!==null?Ls(o):null}function Ls(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=Ls(o);if(a!==null)return a;o=o.sibling}return null}var Qs=e.unstable_scheduleCallback,xo=e.unstable_cancelCallback,Go=e.unstable_shouldYield,Gu=e.unstable_requestPaint,kn=e.unstable_now,sl=e.unstable_getCurrentPriorityLevel,Ao=e.unstable_ImmediatePriority,$r=e.unstable_UserBlockingPriority,Ni=e.unstable_NormalPriority,ba=e.unstable_LowPriority,xa=e.unstable_IdlePriority,So=null,ki=null;function ol(o){if(ki&&typeof ki.onCommitFiberRoot=="function")try{ki.onCommitFiberRoot(So,o,void 0,(o.current.flags&128)===128)}catch{}}var Or=Math.clz32?Math.clz32:ll,al=Math.log,or=Math.LN2;function ll(o){return o>>>=0,o===0?32:31-(al(o)/or|0)|0}var Ko=64,ts=4194304;function ns(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function di(o,a){var h=o.pendingLanes;if(h===0)return 0;var g=0,x=o.suspendedLanes,E=o.pingedLanes,B=h&268435455;if(B!==0){var oe=B&~x;oe!==0?g=ns(oe):(E&=B,E!==0&&(g=ns(E)))}else B=h&~x,B!==0?g=ns(B):E!==0&&(g=ns(E));if(g===0)return 0;if(a!==0&&a!==g&&(a&x)===0&&(x=g&-g,E=a&-a,x>=E||x===16&&(E&4194240)!==0))return a;if((g&4)!==0&&(g|=h&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=g;0<a;)h=31-Or(a),x=1<<h,g|=o[h],a&=~x;return g}function Yo(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ln(o,a){for(var h=o.suspendedLanes,g=o.pingedLanes,x=o.expirationTimes,E=o.pendingLanes;0<E;){var B=31-Or(E),oe=1<<B,de=x[B];de===-1?((oe&h)===0||(oe&g)!==0)&&(x[B]=Yo(oe,a)):de<=a&&(o.expiredLanes|=oe),E&=~oe}}function pi(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Jo(){var o=Ko;return Ko<<=1,(Ko&4194240)===0&&(Ko=64),o}function Eo(o){for(var a=[],h=0;31>h;h++)a.push(o);return a}function To(o,a,h){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-Or(a),o[a]=h}function fn(o,a){var h=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<h;){var x=31-Or(h),E=1<<x;a[x]=0,g[x]=-1,o[x]=-1,h&=~E}}function Zs(o,a){var h=o.entangledLanes|=a;for(o=o.entanglements;h;){var g=31-Or(h),x=1<<g;x&a|o[g]&a&&(o[g]|=a),h&=~x}}var on=0;function Bi(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Aa,Sa,$l,Hl,Ea,eo=!1,mi=[],Hr=null,gi=null,zi=null,Pt=new Map,rs=new Map,Ds=[],Ku="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wl(o,a){switch(o){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":Pt.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(a.pointerId)}}function mr(o,a,h,g,x,E){return o===null||o.nativeEvent!==E?(o={blockedOn:a,domEventName:h,eventSystemFlags:g,nativeEvent:E,targetContainers:[x]},a!==null&&(a=iu(a),a!==null&&Sa(a)),o):(o.eventSystemFlags|=g,a=o.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),o)}function to(o,a,h,g,x){switch(a){case"focusin":return Hr=mr(Hr,o,a,h,g,x),!0;case"dragenter":return gi=mr(gi,o,a,h,g,x),!0;case"mouseover":return zi=mr(zi,o,a,h,g,x),!0;case"pointerover":var E=x.pointerId;return Pt.set(E,mr(Pt.get(E)||null,o,a,h,g,x)),!0;case"gotpointercapture":return E=x.pointerId,rs.set(E,mr(rs.get(E)||null,o,a,h,g,x)),!0}return!1}function Gl(o){var a=Da(o.target);if(a!==null){var h=Er(a);if(h!==null){if(a=h.tag,a===13){if(a=fi(h),a!==null){o.blockedOn=a,Ea(o.priority,function(){$l(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function no(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var h=Po(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var g=new h.constructor(h.type,h);en=g,h.target.dispatchEvent(g),en=null}else return a=iu(h),a!==null&&Sa(a),o.blockedOn=h,!1;a.shift()}return!0}function Os(o,a,h){no(o)&&h.delete(a)}function Ta(){eo=!1,Hr!==null&&no(Hr)&&(Hr=null),gi!==null&&no(gi)&&(gi=null),zi!==null&&no(zi)&&(zi=null),Pt.forEach(Os),rs.forEach(Os)}function yi(o,a){o.blockedOn===a&&(o.blockedOn=null,eo||(eo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ta)))}function Ci(o){function a(x){return yi(x,o)}if(0<mi.length){yi(mi[0],o);for(var h=1;h<mi.length;h++){var g=mi[h];g.blockedOn===o&&(g.blockedOn=null)}}for(Hr!==null&&yi(Hr,o),gi!==null&&yi(gi,o),zi!==null&&yi(zi,o),Pt.forEach(a),rs.forEach(a),h=0;h<Ds.length;h++)g=Ds[h],g.blockedOn===o&&(g.blockedOn=null);for(;0<Ds.length&&(h=Ds[0],h.blockedOn===null);)Gl(h),h.blockedOn===null&&Ds.shift()}var is=G.ReactCurrentBatchConfig,Io=!0;function Fn(o,a,h,g){var x=on,E=is.transition;is.transition=null;try{on=1,ro(o,a,h,g)}finally{on=x,is.transition=E}}function ul(o,a,h,g){var x=on,E=is.transition;is.transition=null;try{on=4,ro(o,a,h,g)}finally{on=x,is.transition=E}}function ro(o,a,h,g){if(Io){var x=Po(o,a,h,g);if(x===null)tc(o,a,g,Ts,h),Wl(o,g);else if(to(x,o,a,h,g))g.stopPropagation();else if(Wl(o,g),a&4&&-1<Ku.indexOf(o)){for(;x!==null;){var E=iu(x);if(E!==null&&Aa(E),E=Po(o,a,h,g),E===null&&tc(o,a,g,Ts,h),E===x)break;x=E}x!==null&&g.stopPropagation()}else tc(o,a,g,null,h)}}var Ts=null;function Po(o,a,h,g){if(Ts=null,o=Mt(g),o=Da(o),o!==null)if(a=Er(o),a===null)o=null;else if(h=a.tag,h===13){if(o=fi(a),o!==null)return o;o=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return Ts=o,null}function No(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sl()){case Ao:return 1;case $r:return 4;case Ni:case ba:return 16;case xa:return 536870912;default:return 16}default:return 16}}var vi=null,Ms=null,wi=null;function Ia(){if(wi)return wi;var o,a=Ms,h=a.length,g,x="value"in vi?vi.value:vi.textContent,E=x.length;for(o=0;o<h&&a[o]===x[o];o++);var B=h-o;for(g=1;g<=B&&a[h-g]===x[E-g];g++);return wi=x.slice(o,1<g?1-g:void 0)}function ss(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function ri(){return!0}function Pa(){return!1}function Mr(o){function a(h,g,x,E,B){this._reactName=h,this._targetInst=x,this.type=g,this.nativeEvent=E,this.target=B,this.currentTarget=null;for(var oe in o)o.hasOwnProperty(oe)&&(h=o[oe],this[oe]=h?h(E):E[oe]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?ri:Pa,this.isPropagationStopped=Pa,this}return ke(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),a}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xo=Mr(_i),b=ke({},_i,{view:0,detail:0}),j=Mr(b),te,ce,we,Ue=ke({},b,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qi,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==we&&(we&&o.type==="mousemove"?(te=o.screenX-we.screenX,ce=o.screenY-we.screenY):ce=te=0,we=o),te)},movementY:function(o){return"movementY"in o?o.movementY:ce}}),qe=Mr(Ue),it=ke({},Ue,{dataTransfer:0}),ft=Mr(it),Nt=ke({},b,{relatedTarget:0}),Ot=Mr(Nt),vn=ke({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),Sn=Mr(vn),ar=ke({},_i,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Dn=Mr(ar),gr=ke({},_i,{data:0}),tr=Mr(gr),yr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cl(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=bi[o])?!!a[o]:!1}function qi(){return cl}var m=ke({},b,{key:function(o){if(o.key){var a=yr[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=ss(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Xn[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qi,charCode:function(o){return o.type==="keypress"?ss(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ss(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),S=Mr(m),D=ke({},Ue,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J=Mr(D),be=ke({},b,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qi}),Re=Mr(be),Xe=ke({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),gn=Mr(Xe),lr=ke({},Ue,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),an=Mr(lr),sn=[9,13,27,32],jn=u&&"CompositionEvent"in window,xi=null;u&&"documentMode"in document&&(xi=document.documentMode);var Ri=u&&"TextEvent"in window&&!xi,ii=u&&(!jn||xi&&8<xi&&11>=xi),Fs=" ",Kl=!1;function Yl(o,a){switch(o){case"keyup":return sn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qo(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var js=!1;function Is(o,a){switch(o){case"compositionend":return Qo(a);case"keypress":return a.which!==32?null:(Kl=!0,Fs);case"textInput":return o=a.data,o===Fs&&Kl?null:o;default:return null}}function Ps(o,a){if(js)return o==="compositionend"||!jn&&Yl(o,a)?(o=Ia(),wi=Ms=vi=null,js=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ii&&a.locale!=="ko"?null:a.data;default:return null}}var Na={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ko(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!Na[o.type]:a==="textarea"}function Zo(o,a,h,g){rn(g),a=qc(a,"onChange"),0<a.length&&(h=new Xo("onChange","change",null,h,g),o.push({event:h,listeners:a}))}var ea=null,Co=null;function Tr(o){Zu(o,0)}function hl(o){var a=bl(o);if(nt(a))return o}function Ro(o,a){if(o==="change")return a}var io=!1;if(u){var fl;if(u){var dl="oninput"in document;if(!dl){var Jl=document.createElement("div");Jl.setAttribute("oninput","return;"),dl=typeof Jl.oninput=="function"}fl=dl}else fl=!1;io=fl&&(!document.documentMode||9<document.documentMode)}function Xl(){ea&&(ea.detachEvent("onpropertychange",ta),Co=ea=null)}function ta(o){if(o.propertyName==="value"&&hl(Co)){var a=[];Zo(a,Co,o,Mt(o)),It(Tr,a)}}function ka(o,a,h){o==="focusin"?(Xl(),ea=a,Co=h,ea.attachEvent("onpropertychange",ta)):o==="focusout"&&Xl()}function Ca(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return hl(Co)}function pl(o,a){if(o==="click")return hl(a)}function Ra(o,a){if(o==="input"||o==="change")return hl(a)}function ml(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var vr=typeof Object.is=="function"?Object.is:ml;function os(o,a){if(vr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var h=Object.keys(o),g=Object.keys(a);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var x=h[g];if(!c.call(a,x)||!vr(o[x],a[x]))return!1}return!0}function En(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Vn(o,a){var h=En(o);o=0;for(var g;h;){if(h.nodeType===3){if(g=o+h.textContent.length,o<=a&&g>=a)return{node:h,offset:a-o};o=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=En(h)}}function wr(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?wr(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function Fr(){for(var o=window,a=tt();a instanceof o.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)o=a.contentWindow;else break;a=tt(o.document)}return a}function so(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function Yu(o){var a=Fr(),h=o.focusedElem,g=o.selectionRange;if(a!==h&&h&&h.ownerDocument&&wr(h.ownerDocument.documentElement,h)){if(g!==null&&so(h)){if(a=g.start,o=g.end,o===void 0&&(o=a),"selectionStart"in h)h.selectionStart=a,h.selectionEnd=Math.min(o,h.value.length);else if(o=(a=h.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var x=h.textContent.length,E=Math.min(g.start,x);g=g.end===void 0?E:Math.min(g.end,x),!o.extend&&E>g&&(x=g,g=E,E=x),x=Vn(h,E);var B=Vn(h,g);x&&B&&(o.rangeCount!==1||o.anchorNode!==x.node||o.anchorOffset!==x.offset||o.focusNode!==B.node||o.focusOffset!==B.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),o.removeAllRanges(),E>g?(o.addRange(a),o.extend(B.node,B.offset)):(a.setEnd(B.node,B.offset),o.addRange(a)))}}for(a=[],o=h;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<a.length;h++)o=a[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Ql=u&&"documentMode"in document&&11>=document.documentMode,na=null,Vc=null,Zl=null,Uc=!1;function Qh(o,a,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Uc||na==null||na!==tt(g)||(g=na,"selectionStart"in g&&so(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Zl&&os(Zl,g)||(Zl=g,g=qc(Vc,"onSelect"),0<g.length&&(a=new Xo("onSelect","select",null,a,h),o.push({event:a,listeners:g}),a.target=na)))}function Ju(o,a){var h={};return h[o.toLowerCase()]=a.toLowerCase(),h["Webkit"+o]="webkit"+a,h["Moz"+o]="moz"+a,h}var gl={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionend:Ju("Transition","TransitionEnd")},yl={},Zh={};u&&(Zh=document.createElement("div").style,"AnimationEvent"in window||(delete gl.animationend.animation,delete gl.animationiteration.animation,delete gl.animationstart.animation),"TransitionEvent"in window||delete gl.transitionend.transition);function Xu(o){if(yl[o])return yl[o];if(!gl[o])return o;var a=gl[o],h;for(h in a)if(a.hasOwnProperty(h)&&h in Zh)return yl[o]=a[h];return o}var ef=Xu("animationend"),tf=Xu("animationiteration"),nf=Xu("animationstart"),rf=Xu("transitionend"),sf=new Map,of="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lo(o,a){sf.set(o,a),s(a,[o])}for(var eu=0;eu<of.length;eu++){var $i=of[eu],Vs=$i.toLowerCase(),Bc=$i[0].toUpperCase()+$i.slice(1);Lo(Vs,"on"+Bc)}Lo(ef,"onAnimationEnd"),Lo(tf,"onAnimationIteration"),Lo(nf,"onAnimationStart"),Lo("dblclick","onDoubleClick"),Lo("focusin","onFocus"),Lo("focusout","onBlur"),Lo(rf,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pd=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function Qu(o,a,h){var g=o.type||"unknown-event";o.currentTarget=h,Es(g,a,void 0,o),o.currentTarget=null}function Zu(o,a){a=(a&4)!==0;for(var h=0;h<o.length;h++){var g=o[h],x=g.event;g=g.listeners;e:{var E=void 0;if(a)for(var B=g.length-1;0<=B;B--){var oe=g[B],de=oe.instance,De=oe.currentTarget;if(oe=oe.listener,de!==E&&x.isPropagationStopped())break e;Qu(x,oe,De),E=de}else for(B=0;B<g.length;B++){if(oe=g[B],de=oe.instance,De=oe.currentTarget,oe=oe.listener,de!==E&&x.isPropagationStopped())break e;Qu(x,oe,De),E=de}}}if(qn)throw o=Xs,qn=!1,Xs=null,o}function $n(o,a){var h=a[ls];h===void 0&&(h=a[ls]=new Set);var g=o+"__bubble";h.has(g)||(ec(a,o,2,!1),h.add(g))}function zc(o,a,h){var g=0;a&&(g|=4),ec(h,o,g,a)}var tu="_reactListening"+Math.random().toString(36).slice(2);function vl(o){if(!o[tu]){o[tu]=!0,r.forEach(function(h){h!=="selectionchange"&&(Pd.has(h)||zc(h,!1,o),zc(h,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[tu]||(a[tu]=!0,zc("selectionchange",!1,a))}}function ec(o,a,h,g){switch(No(a)){case 1:var x=Fn;break;case 4:x=ul;break;default:x=ro}h=x.bind(null,a,h,o),x=void 0,!Zi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),g?x!==void 0?o.addEventListener(a,h,{capture:!0,passive:x}):o.addEventListener(a,h,!0):x!==void 0?o.addEventListener(a,h,{passive:x}):o.addEventListener(a,h,!1)}function tc(o,a,h,g,x){var E=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var B=g.tag;if(B===3||B===4){var oe=g.stateNode.containerInfo;if(oe===x||oe.nodeType===8&&oe.parentNode===x)break;if(B===4)for(B=g.return;B!==null;){var de=B.tag;if((de===3||de===4)&&(de=B.stateNode.containerInfo,de===x||de.nodeType===8&&de.parentNode===x))return;B=B.return}for(;oe!==null;){if(B=Da(oe),B===null)return;if(de=B.tag,de===5||de===6){g=E=B;continue e}oe=oe.parentNode}}g=g.return}It(function(){var De=E,Ke=Mt(h),Je=[];e:{var We=sf.get(o);if(We!==void 0){var rt=Xo,dt=o;switch(o){case"keypress":if(ss(h)===0)break e;case"keydown":case"keyup":rt=S;break;case"focusin":dt="focus",rt=Ot;break;case"focusout":dt="blur",rt=Ot;break;case"beforeblur":case"afterblur":rt=Ot;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=qe;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=ft;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Re;break;case ef:case tf:case nf:rt=Sn;break;case rf:rt=gn;break;case"scroll":rt=j;break;case"wheel":rt=an;break;case"copy":case"cut":case"paste":rt=Dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=J}var yt=(a&4)!==0,Kr=!yt&&o==="scroll",Ie=yt?We!==null?We+"Capture":null:We;yt=[];for(var ge=De,Ce;ge!==null;){Ce=ge;var Qe=Ce.stateNode;if(Ce.tag===5&&Qe!==null&&(Ce=Qe,Ie!==null&&(Qe=Rn(ge,Ie),Qe!=null&&yt.push(nc(ge,Qe,Ce)))),Kr)break;ge=ge.return}0<yt.length&&(We=new rt(We,dt,null,h,Ke),Je.push({event:We,listeners:yt}))}}if((a&7)===0){e:{if(We=o==="mouseover"||o==="pointerover",rt=o==="mouseout"||o==="pointerout",We&&h!==en&&(dt=h.relatedTarget||h.fromElement)&&(Da(dt)||dt[Li]))break e;if((rt||We)&&(We=Ke.window===Ke?Ke:(We=Ke.ownerDocument)?We.defaultView||We.parentWindow:window,rt?(dt=h.relatedTarget||h.toElement,rt=De,dt=dt?Da(dt):null,dt!==null&&(Kr=Er(dt),dt!==Kr||dt.tag!==5&&dt.tag!==6)&&(dt=null)):(rt=null,dt=De),rt!==dt)){if(yt=qe,Qe="onMouseLeave",Ie="onMouseEnter",ge="mouse",(o==="pointerout"||o==="pointerover")&&(yt=J,Qe="onPointerLeave",Ie="onPointerEnter",ge="pointer"),Kr=rt==null?We:bl(rt),Ce=dt==null?We:bl(dt),We=new yt(Qe,ge+"leave",rt,h,Ke),We.target=Kr,We.relatedTarget=Ce,Qe=null,Da(Ke)===De&&(yt=new yt(Ie,ge+"enter",dt,h,Ke),yt.target=Ce,yt.relatedTarget=Kr,Qe=yt),Kr=Qe,rt&&dt)t:{for(yt=rt,Ie=dt,ge=0,Ce=yt;Ce;Ce=wl(Ce))ge++;for(Ce=0,Qe=Ie;Qe;Qe=wl(Qe))Ce++;for(;0<ge-Ce;)yt=wl(yt),ge--;for(;0<Ce-ge;)Ie=wl(Ie),Ce--;for(;ge--;){if(yt===Ie||Ie!==null&&yt===Ie.alternate)break t;yt=wl(yt),Ie=wl(Ie)}yt=null}else yt=null;rt!==null&&Nd(Je,We,rt,yt,!1),dt!==null&&Kr!==null&&Nd(Je,Kr,dt,yt,!0)}}e:{if(We=De?bl(De):window,rt=We.nodeName&&We.nodeName.toLowerCase(),rt==="select"||rt==="input"&&We.type==="file")var bt=Ro;else if(ko(We))if(io)bt=Ra;else{bt=Ca;var Rt=ka}else(rt=We.nodeName)&&rt.toLowerCase()==="input"&&(We.type==="checkbox"||We.type==="radio")&&(bt=pl);if(bt&&(bt=bt(o,De))){Zo(Je,bt,h,Ke);break e}Rt&&Rt(o,We,De),o==="focusout"&&(Rt=We._wrapperState)&&Rt.controlled&&We.type==="number"&&Ye(We,"number",We.value)}switch(Rt=De?bl(De):window,o){case"focusin":(ko(Rt)||Rt.contentEditable==="true")&&(na=Rt,Vc=De,Zl=null);break;case"focusout":Zl=Vc=na=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,Qh(Je,h,Ke);break;case"selectionchange":if(Ql)break;case"keydown":case"keyup":Qh(Je,h,Ke)}var Lt;if(jn)e:{switch(o){case"compositionstart":var Ht="onCompositionStart";break e;case"compositionend":Ht="onCompositionEnd";break e;case"compositionupdate":Ht="onCompositionUpdate";break e}Ht=void 0}else js?Yl(o,h)&&(Ht="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Ht="onCompositionStart");Ht&&(ii&&h.locale!=="ko"&&(js||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&js&&(Lt=Ia()):(vi=Ke,Ms="value"in vi?vi.value:vi.textContent,js=!0)),Rt=qc(De,Ht),0<Rt.length&&(Ht=new tr(Ht,o,null,h,Ke),Je.push({event:Ht,listeners:Rt}),Lt?Ht.data=Lt:(Lt=Qo(h),Lt!==null&&(Ht.data=Lt)))),(Lt=Ri?Is(o,h):Ps(o,h))&&(De=qc(De,"onBeforeInput"),0<De.length&&(Ke=new tr("onBeforeInput","beforeinput",null,h,Ke),Je.push({event:Ke,listeners:De}),Ke.data=Lt))}Zu(Je,a)})}function nc(o,a,h){return{instance:o,listener:a,currentTarget:h}}function qc(o,a){for(var h=a+"Capture",g=[];o!==null;){var x=o,E=x.stateNode;x.tag===5&&E!==null&&(x=E,E=Rn(o,h),E!=null&&g.unshift(nc(o,E,x)),E=Rn(o,a),E!=null&&g.push(nc(o,E,x))),o=o.return}return g}function wl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Nd(o,a,h,g,x){for(var E=a._reactName,B=[];h!==null&&h!==g;){var oe=h,de=oe.alternate,De=oe.stateNode;if(de!==null&&de===g)break;oe.tag===5&&De!==null&&(oe=De,x?(de=Rn(h,E),de!=null&&B.unshift(nc(h,de,oe))):x||(de=Rn(h,E),de!=null&&B.push(nc(h,de,oe)))),h=h.return}B.length!==0&&o.push({event:a,listeners:B})}var ag=/\r\n?/g,lg=/\u0000|\uFFFD/g;function kd(o){return(typeof o=="string"?o:""+o).replace(ag,`
`).replace(lg,"")}function $c(o,a,h){if(a=kd(a),kd(o)!==a&&h)throw Error(t(425))}function nu(){}var rc=null,_l=null;function af(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var lf=typeof setTimeout=="function"?setTimeout:void 0,Cd=typeof clearTimeout=="function"?clearTimeout:void 0,Rd=typeof Promise=="function"?Promise:void 0,ug=typeof queueMicrotask=="function"?queueMicrotask:typeof Rd<"u"?function(o){return Rd.resolve(null).then(o).catch(cg)}:lf;function cg(o){setTimeout(function(){throw o})}function uf(o,a){var h=a,g=0;do{var x=h.nextSibling;if(o.removeChild(h),x&&x.nodeType===8)if(h=x.data,h==="/$"){if(g===0){o.removeChild(x),Ci(a);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=x}while(h);Ci(a)}function Hi(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function Us(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(a===0)return o;a--}else h==="/$"&&a++}o=o.previousSibling}return null}var as=Math.random().toString(36).slice(2),Do="__reactFiber$"+as,ru="__reactProps$"+as,Li="__reactContainer$"+as,ls="__reactEvents$"+as,hg="__reactListeners$"+as,fg="__reactHandles$"+as;function Da(o){var a=o[Do];if(a)return a;for(var h=o.parentNode;h;){if(a=h[Li]||h[Do]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(o=Us(o);o!==null;){if(h=o[Do])return h;o=Us(o)}return a}o=h,h=o.parentNode}return null}function iu(o){return o=o[Do]||o[Li],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function bl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function ic(o){return o[ru]||null}var cf=[],ra=-1;function oo(o){return{current:o}}function On(o){0>ra||(o.current=cf[ra],cf[ra]=null,ra--)}function Un(o,a){ra++,cf[ra]=o.current,o.current=a}var Oa={},Ai=oo(Oa),us=oo(!1),xl=Oa;function su(o,a){var h=o.type.contextTypes;if(!h)return Oa;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var x={},E;for(E in h)x[E]=a[E];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=x),x}function cs(o){return o=o.childContextTypes,o!=null}function Hc(){On(us),On(Ai)}function Ld(o,a,h){if(Ai.current!==Oa)throw Error(t(168));Un(Ai,a),Un(us,h)}function hf(o,a,h){var g=o.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var x in g)if(!(x in a))throw Error(t(108,ve(o)||"Unknown",x));return ke({},h,g)}function Al(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Oa,xl=Ai.current,Un(Ai,o),Un(us,us.current),!0}function Dd(o,a,h){var g=o.stateNode;if(!g)throw Error(t(169));h?(o=hf(o,a,xl),g.__reactInternalMemoizedMergedChildContext=o,On(us),On(Ai),Un(Ai,o)):On(us),Un(us,h)}var ia=null,sc=!1,d=!1;function y(o){ia===null?ia=[o]:ia.push(o)}function A(o){sc=!0,y(o)}function T(){if(!d&&ia!==null){d=!0;var o=0,a=on;try{var h=ia;for(on=1;o<h.length;o++){var g=h[o];do g=g(!0);while(g!==null)}ia=null,sc=!1}catch(x){throw ia!==null&&(ia=ia.slice(o+1)),Qs(Ao,T),x}finally{on=a,d=!1}}return null}var V=[],z=0,H=null,Y=0,X=[],Z=0,fe=null,Se=1,ee="";function me(o,a){V[z++]=Y,V[z++]=H,H=o,Y=a}function Ae(o,a,h){X[Z++]=Se,X[Z++]=ee,X[Z++]=fe,fe=o;var g=Se;o=ee;var x=32-Or(g)-1;g&=~(1<<x),h+=1;var E=32-Or(a)+x;if(30<E){var B=x-x%5;E=(g&(1<<B)-1).toString(32),g>>=B,x-=B,Se=1<<32-Or(a)+x|h<<x|g,ee=E+o}else Se=1<<E|h<<x|g,ee=o}function Ve(o){o.return!==null&&(me(o,1),Ae(o,1,0))}function Ne(o){for(;o===H;)H=V[--z],V[z]=null,Y=V[--z],V[z]=null;for(;o===fe;)fe=X[--Z],X[Z]=null,ee=X[--Z],X[Z]=null,Se=X[--Z],X[Z]=null}var Oe=null,je=null,Be=!1,ze=null;function _t(o,a){var h=Vo(5,null,null,0);h.elementType="DELETED",h.stateNode=a,h.return=o,a=o.deletions,a===null?(o.deletions=[h],o.flags|=16):a.push(h)}function ot(o,a){switch(o.tag){case 5:var h=o.type;return a=a.nodeType!==1||h.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,Oe=o,je=Hi(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,Oe=o,je=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(h=fe!==null?{id:Se,overflow:ee}:null,o.memoizedState={dehydrated:a,treeContext:h,retryLane:1073741824},h=Vo(18,null,null,0),h.stateNode=a,h.return=o,o.child=h,Oe=o,je=null,!0):!1;default:return!1}}function Kt(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ct(o){if(Be){var a=je;if(a){var h=a;if(!ot(o,a)){if(Kt(o))throw Error(t(418));a=Hi(h.nextSibling);var g=Oe;a&&ot(o,a)?_t(g,h):(o.flags=o.flags&-4097|2,Be=!1,Oe=o)}}else{if(Kt(o))throw Error(t(418));o.flags=o.flags&-4097|2,Be=!1,Oe=o}}}function dn(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Oe=o}function _r(o){if(o!==Oe)return!1;if(!Be)return dn(o),Be=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!af(o.type,o.memoizedProps)),a&&(a=je)){if(Kt(o))throw Jt(),Error(t(418));for(;a;)_t(o,a),a=Hi(a.nextSibling)}if(dn(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(a===0){je=Hi(o.nextSibling);break e}a--}else h!=="$"&&h!=="$!"&&h!=="$?"||a++}o=o.nextSibling}je=null}}else je=Oe?Hi(o.stateNode.nextSibling):null;return!0}function Jt(){for(var o=je;o;)o=Hi(o.nextSibling)}function at(){je=Oe=null,Be=!1}function et(o){ze===null?ze=[o]:ze.push(o)}var Ir=G.ReactCurrentBatchConfig;function Ut(o,a,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var g=h.stateNode}if(!g)throw Error(t(147,o));var x=g,E=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===E?a.ref:(a=function(B){var oe=x.refs;B===null?delete oe[E]:oe[E]=B},a._stringRef=E,a)}if(typeof o!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,o))}return o}function ln(o,a){throw o=Object.prototype.toString.call(a),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function Qn(o){var a=o._init;return a(o._payload)}function si(o){function a(Ie,ge){if(o){var Ce=Ie.deletions;Ce===null?(Ie.deletions=[ge],Ie.flags|=16):Ce.push(ge)}}function h(Ie,ge){if(!o)return null;for(;ge!==null;)a(Ie,ge),ge=ge.sibling;return null}function g(Ie,ge){for(Ie=new Map;ge!==null;)ge.key!==null?Ie.set(ge.key,ge):Ie.set(ge.index,ge),ge=ge.sibling;return Ie}function x(Ie,ge){return Ie=mu(Ie,ge),Ie.index=0,Ie.sibling=null,Ie}function E(Ie,ge,Ce){return Ie.index=Ce,o?(Ce=Ie.alternate,Ce!==null?(Ce=Ce.index,Ce<ge?(Ie.flags|=2,ge):Ce):(Ie.flags|=2,ge)):(Ie.flags|=1048576,ge)}function B(Ie){return o&&Ie.alternate===null&&(Ie.flags|=2),Ie}function oe(Ie,ge,Ce,Qe){return ge===null||ge.tag!==6?(ge=Bg(Ce,Ie.mode,Qe),ge.return=Ie,ge):(ge=x(ge,Ce),ge.return=Ie,ge)}function de(Ie,ge,Ce,Qe){var bt=Ce.type;return bt===q?Ke(Ie,ge,Ce.props.children,Qe,Ce.key):ge!==null&&(ge.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Le&&Qn(bt)===ge.type)?(Qe=x(ge,Ce.props),Qe.ref=Ut(Ie,ge,Ce),Qe.return=Ie,Qe):(Qe=ep(Ce.type,Ce.key,Ce.props,null,Ie.mode,Qe),Qe.ref=Ut(Ie,ge,Ce),Qe.return=Ie,Qe)}function De(Ie,ge,Ce,Qe){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Ce.containerInfo||ge.stateNode.implementation!==Ce.implementation?(ge=zg(Ce,Ie.mode,Qe),ge.return=Ie,ge):(ge=x(ge,Ce.children||[]),ge.return=Ie,ge)}function Ke(Ie,ge,Ce,Qe,bt){return ge===null||ge.tag!==7?(ge=dc(Ce,Ie.mode,Qe,bt),ge.return=Ie,ge):(ge=x(ge,Ce),ge.return=Ie,ge)}function Je(Ie,ge,Ce){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=Bg(""+ge,Ie.mode,Ce),ge.return=Ie,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case ie:return Ce=ep(ge.type,ge.key,ge.props,null,Ie.mode,Ce),Ce.ref=Ut(Ie,null,ge),Ce.return=Ie,Ce;case pe:return ge=zg(ge,Ie.mode,Ce),ge.return=Ie,ge;case Le:var Qe=ge._init;return Je(Ie,Qe(ge._payload),Ce)}if(lt(ge)||_e(ge))return ge=dc(ge,Ie.mode,Ce,null),ge.return=Ie,ge;ln(Ie,ge)}return null}function We(Ie,ge,Ce,Qe){var bt=ge!==null?ge.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return bt!==null?null:oe(Ie,ge,""+Ce,Qe);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case ie:return Ce.key===bt?de(Ie,ge,Ce,Qe):null;case pe:return Ce.key===bt?De(Ie,ge,Ce,Qe):null;case Le:return bt=Ce._init,We(Ie,ge,bt(Ce._payload),Qe)}if(lt(Ce)||_e(Ce))return bt!==null?null:Ke(Ie,ge,Ce,Qe,null);ln(Ie,Ce)}return null}function rt(Ie,ge,Ce,Qe,bt){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return Ie=Ie.get(Ce)||null,oe(ge,Ie,""+Qe,bt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case ie:return Ie=Ie.get(Qe.key===null?Ce:Qe.key)||null,de(ge,Ie,Qe,bt);case pe:return Ie=Ie.get(Qe.key===null?Ce:Qe.key)||null,De(ge,Ie,Qe,bt);case Le:var Rt=Qe._init;return rt(Ie,ge,Ce,Rt(Qe._payload),bt)}if(lt(Qe)||_e(Qe))return Ie=Ie.get(Ce)||null,Ke(ge,Ie,Qe,bt,null);ln(ge,Qe)}return null}function dt(Ie,ge,Ce,Qe){for(var bt=null,Rt=null,Lt=ge,Ht=ge=0,ji=null;Lt!==null&&Ht<Ce.length;Ht++){Lt.index>Ht?(ji=Lt,Lt=null):ji=Lt.sibling;var Cn=We(Ie,Lt,Ce[Ht],Qe);if(Cn===null){Lt===null&&(Lt=ji);break}o&&Lt&&Cn.alternate===null&&a(Ie,Lt),ge=E(Cn,ge,Ht),Rt===null?bt=Cn:Rt.sibling=Cn,Rt=Cn,Lt=ji}if(Ht===Ce.length)return h(Ie,Lt),Be&&me(Ie,Ht),bt;if(Lt===null){for(;Ht<Ce.length;Ht++)Lt=Je(Ie,Ce[Ht],Qe),Lt!==null&&(ge=E(Lt,ge,Ht),Rt===null?bt=Lt:Rt.sibling=Lt,Rt=Lt);return Be&&me(Ie,Ht),bt}for(Lt=g(Ie,Lt);Ht<Ce.length;Ht++)ji=rt(Lt,Ie,Ht,Ce[Ht],Qe),ji!==null&&(o&&ji.alternate!==null&&Lt.delete(ji.key===null?Ht:ji.key),ge=E(ji,ge,Ht),Rt===null?bt=ji:Rt.sibling=ji,Rt=ji);return o&&Lt.forEach(function(gu){return a(Ie,gu)}),Be&&me(Ie,Ht),bt}function yt(Ie,ge,Ce,Qe){var bt=_e(Ce);if(typeof bt!="function")throw Error(t(150));if(Ce=bt.call(Ce),Ce==null)throw Error(t(151));for(var Rt=bt=null,Lt=ge,Ht=ge=0,ji=null,Cn=Ce.next();Lt!==null&&!Cn.done;Ht++,Cn=Ce.next()){Lt.index>Ht?(ji=Lt,Lt=null):ji=Lt.sibling;var gu=We(Ie,Lt,Cn.value,Qe);if(gu===null){Lt===null&&(Lt=ji);break}o&&Lt&&gu.alternate===null&&a(Ie,Lt),ge=E(gu,ge,Ht),Rt===null?bt=gu:Rt.sibling=gu,Rt=gu,Lt=ji}if(Cn.done)return h(Ie,Lt),Be&&me(Ie,Ht),bt;if(Lt===null){for(;!Cn.done;Ht++,Cn=Ce.next())Cn=Je(Ie,Cn.value,Qe),Cn!==null&&(ge=E(Cn,ge,Ht),Rt===null?bt=Cn:Rt.sibling=Cn,Rt=Cn);return Be&&me(Ie,Ht),bt}for(Lt=g(Ie,Lt);!Cn.done;Ht++,Cn=Ce.next())Cn=rt(Lt,Ie,Ht,Cn.value,Qe),Cn!==null&&(o&&Cn.alternate!==null&&Lt.delete(Cn.key===null?Ht:Cn.key),ge=E(Cn,ge,Ht),Rt===null?bt=Cn:Rt.sibling=Cn,Rt=Cn);return o&&Lt.forEach(function(tT){return a(Ie,tT)}),Be&&me(Ie,Ht),bt}function Kr(Ie,ge,Ce,Qe){if(typeof Ce=="object"&&Ce!==null&&Ce.type===q&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case ie:e:{for(var bt=Ce.key,Rt=ge;Rt!==null;){if(Rt.key===bt){if(bt=Ce.type,bt===q){if(Rt.tag===7){h(Ie,Rt.sibling),ge=x(Rt,Ce.props.children),ge.return=Ie,Ie=ge;break e}}else if(Rt.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Le&&Qn(bt)===Rt.type){h(Ie,Rt.sibling),ge=x(Rt,Ce.props),ge.ref=Ut(Ie,Rt,Ce),ge.return=Ie,Ie=ge;break e}h(Ie,Rt);break}else a(Ie,Rt);Rt=Rt.sibling}Ce.type===q?(ge=dc(Ce.props.children,Ie.mode,Qe,Ce.key),ge.return=Ie,Ie=ge):(Qe=ep(Ce.type,Ce.key,Ce.props,null,Ie.mode,Qe),Qe.ref=Ut(Ie,ge,Ce),Qe.return=Ie,Ie=Qe)}return B(Ie);case pe:e:{for(Rt=Ce.key;ge!==null;){if(ge.key===Rt)if(ge.tag===4&&ge.stateNode.containerInfo===Ce.containerInfo&&ge.stateNode.implementation===Ce.implementation){h(Ie,ge.sibling),ge=x(ge,Ce.children||[]),ge.return=Ie,Ie=ge;break e}else{h(Ie,ge);break}else a(Ie,ge);ge=ge.sibling}ge=zg(Ce,Ie.mode,Qe),ge.return=Ie,Ie=ge}return B(Ie);case Le:return Rt=Ce._init,Kr(Ie,ge,Rt(Ce._payload),Qe)}if(lt(Ce))return dt(Ie,ge,Ce,Qe);if(_e(Ce))return yt(Ie,ge,Ce,Qe);ln(Ie,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"?(Ce=""+Ce,ge!==null&&ge.tag===6?(h(Ie,ge.sibling),ge=x(ge,Ce),ge.return=Ie,Ie=ge):(h(Ie,ge),ge=Bg(Ce,Ie.mode,Qe),ge.return=Ie,Ie=ge),B(Ie)):h(Ie,ge)}return Kr}var jr=si(!0),ur=si(!1),Wr=oo(null),oi=null,nr=null,yn=null;function Tn(){yn=nr=oi=null}function rr(o){var a=Wr.current;On(Wr),o._currentValue=a}function In(o,a,h){for(;o!==null;){var g=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),o===h)break;o=o.return}}function br(o,a){oi=o,yn=nr=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(zs=!0),o.firstContext=null)}function xr(o){var a=o._currentValue;if(yn!==o)if(o={context:o,memoizedValue:a,next:null},nr===null){if(oi===null)throw Error(t(308));nr=o,oi.dependencies={lanes:0,firstContext:o}}else nr=nr.next=o;return a}var Hn=null;function Di(o){Hn===null?Hn=[o]:Hn.push(o)}function Bn(o,a,h,g){var x=a.interleaved;return x===null?(h.next=h,Di(a)):(h.next=x.next,x.next=h),a.interleaved=h,Wn(o,g)}function Wn(o,a){o.lanes|=a;var h=o.alternate;for(h!==null&&(h.lanes|=a),h=o,o=o.return;o!==null;)o.childLanes|=a,h=o.alternate,h!==null&&(h.childLanes|=a),h=o,o=o.return;return h.tag===3?h.stateNode:null}var Vr=!1;function Si(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hs(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Pr(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function Nr(o,a,h){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(Pn&2)!==0){var x=g.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),g.pending=a,Wn(o,h)}return x=g.interleaved,x===null?(a.next=a,Di(g)):(a.next=x.next,x.next=a),g.interleaved=a,Wn(o,h)}function Oi(o,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194240)!==0)){var g=a.lanes;g&=o.pendingLanes,h|=g,a.lanes=h,Zs(o,h)}}function Gn(o,a){var h=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var x=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var B={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};E===null?x=E=B:E=E.next=B,h=h.next}while(h!==null);E===null?x=E=a:E=E.next=a}else x=E=a;h={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:E,shared:g.shared,effects:g.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=a:o.next=a,h.lastBaseUpdate=a}function Mi(o,a,h,g){var x=o.updateQueue;Vr=!1;var E=x.firstBaseUpdate,B=x.lastBaseUpdate,oe=x.shared.pending;if(oe!==null){x.shared.pending=null;var de=oe,De=de.next;de.next=null,B===null?E=De:B.next=De,B=de;var Ke=o.alternate;Ke!==null&&(Ke=Ke.updateQueue,oe=Ke.lastBaseUpdate,oe!==B&&(oe===null?Ke.firstBaseUpdate=De:oe.next=De,Ke.lastBaseUpdate=de))}if(E!==null){var Je=x.baseState;B=0,Ke=De=de=null,oe=E;do{var We=oe.lane,rt=oe.eventTime;if((g&We)===We){Ke!==null&&(Ke=Ke.next={eventTime:rt,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var dt=o,yt=oe;switch(We=a,rt=h,yt.tag){case 1:if(dt=yt.payload,typeof dt=="function"){Je=dt.call(rt,Je,We);break e}Je=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=yt.payload,We=typeof dt=="function"?dt.call(rt,Je,We):dt,We==null)break e;Je=ke({},Je,We);break e;case 2:Vr=!0}}oe.callback!==null&&oe.lane!==0&&(o.flags|=64,We=x.effects,We===null?x.effects=[oe]:We.push(oe))}else rt={eventTime:rt,lane:We,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},Ke===null?(De=Ke=rt,de=Je):Ke=Ke.next=rt,B|=We;if(oe=oe.next,oe===null){if(oe=x.shared.pending,oe===null)break;We=oe,oe=We.next,We.next=null,x.lastBaseUpdate=We,x.shared.pending=null}}while(!0);if(Ke===null&&(de=Je),x.baseState=de,x.firstBaseUpdate=De,x.lastBaseUpdate=Ke,a=x.shared.interleaved,a!==null){x=a;do B|=x.lane,x=x.next;while(x!==a)}else E===null&&(x.shared.lanes=0);uc|=B,o.lanes=B,o.memoizedState=Je}}function Bs(o,a,h){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var g=o[a],x=g.callback;if(x!==null){if(g.callback=null,g=h,typeof x!="function")throw Error(t(191,x));x.call(g)}}}var ao={},ai=oo(ao),kr=oo(ao),Ma=oo(ao);function sa(o){if(o===ao)throw Error(t(174));return o}function ou(o,a){switch(Un(Ma,a),Un(kr,o),Un(ai,ao),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:$t(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=$t(a,o)}On(ai),Un(ai,a)}function Oo(){On(ai),On(kr),On(Ma)}function Od(o){sa(Ma.current);var a=sa(ai.current),h=$t(a,o.type);a!==h&&(Un(kr,o),Un(ai,h))}function ff(o){kr.current===o&&(On(ai),On(kr))}var Zn=oo(0);function lo(o){for(var a=o;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var df=[];function pf(){for(var o=0;o<df.length;o++)df[o]._workInProgressVersionPrimary=null;df.length=0}var Wc=G.ReactCurrentDispatcher,Gc=G.ReactCurrentBatchConfig,Mo=0,ir=null,Ur=null,Cr=null,au=!1,oa=!1,lu=0,dg=0;function Gr(){throw Error(t(321))}function Kc(o,a){if(a===null)return!1;for(var h=0;h<a.length&&h<o.length;h++)if(!vr(o[h],a[h]))return!1;return!0}function oc(o,a,h,g,x,E){if(Mo=E,ir=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Wc.current=o===null||o.memoizedState===null?IE:PE,o=h(g,x),oa){E=0;do{if(oa=!1,lu=0,25<=E)throw Error(t(301));E+=1,Cr=Ur=null,a.updateQueue=null,Wc.current=NE,o=h(g,x)}while(oa)}if(Wc.current=Ud,a=Ur!==null&&Ur.next!==null,Mo=0,Cr=Ur=ir=null,au=!1,a)throw Error(t(300));return o}function Fo(){var o=lu!==0;return lu=0,o}function uo(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?ir.memoizedState=Cr=o:Cr=Cr.next=o,Cr}function Ns(){if(Ur===null){var o=ir.alternate;o=o!==null?o.memoizedState:null}else o=Ur.next;var a=Cr===null?ir.memoizedState:Cr.next;if(a!==null)Cr=a,Ur=o;else{if(o===null)throw Error(t(310));Ur=o,o={memoizedState:Ur.memoizedState,baseState:Ur.baseState,baseQueue:Ur.baseQueue,queue:Ur.queue,next:null},Cr===null?ir.memoizedState=Cr=o:Cr=Cr.next=o}return Cr}function ac(o,a){return typeof a=="function"?a(o):a}function Yc(o){var a=Ns(),h=a.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var g=Ur,x=g.baseQueue,E=h.pending;if(E!==null){if(x!==null){var B=x.next;x.next=E.next,E.next=B}g.baseQueue=x=E,h.pending=null}if(x!==null){E=x.next,g=g.baseState;var oe=B=null,de=null,De=E;do{var Ke=De.lane;if((Mo&Ke)===Ke)de!==null&&(de=de.next={lane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),g=De.hasEagerState?De.eagerState:o(g,De.action);else{var Je={lane:Ke,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null};de===null?(oe=de=Je,B=g):de=de.next=Je,ir.lanes|=Ke,uc|=Ke}De=De.next}while(De!==null&&De!==E);de===null?B=g:de.next=oe,vr(g,a.memoizedState)||(zs=!0),a.memoizedState=g,a.baseState=B,a.baseQueue=de,h.lastRenderedState=g}if(o=h.interleaved,o!==null){x=o;do E=x.lane,ir.lanes|=E,uc|=E,x=x.next;while(x!==o)}else x===null&&(h.lanes=0);return[a.memoizedState,h.dispatch]}function Fa(o){var a=Ns(),h=a.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var g=h.dispatch,x=h.pending,E=a.memoizedState;if(x!==null){h.pending=null;var B=x=x.next;do E=o(E,B.action),B=B.next;while(B!==x);vr(E,a.memoizedState)||(zs=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),h.lastRenderedState=E}return[E,g]}function Md(){}function mf(o,a){var h=ir,g=Ns(),x=a(),E=!vr(g.memoizedState,x);if(E&&(g.memoizedState=x,zs=!0),g=g.queue,Qc(jd.bind(null,h,g,o),[o]),g.getSnapshot!==a||E||Cr!==null&&Cr.memoizedState.tag&1){if(h.flags|=2048,ks(9,gf.bind(null,h,g,x,a),void 0,null),Fi===null)throw Error(t(349));(Mo&30)!==0||Fd(h,a,x)}return x}function Fd(o,a,h){o.flags|=16384,o={getSnapshot:a,value:h},a=ir.updateQueue,a===null?(a={lastEffect:null,stores:null},ir.updateQueue=a,a.stores=[o]):(h=a.stores,h===null?a.stores=[o]:h.push(o))}function gf(o,a,h,g){a.value=h,a.getSnapshot=g,uu(a)&&Jc(o)}function jd(o,a,h){return h(function(){uu(a)&&Jc(o)})}function uu(o){var a=o.getSnapshot;o=o.value;try{var h=a();return!vr(o,h)}catch{return!0}}function Jc(o){var a=Wn(o,1);a!==null&&ha(a,o,1,-1)}function lc(o){var a=uo();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:o},a.queue=o,o=o.dispatch=TE.bind(null,ir,o),[a.memoizedState,o]}function ks(o,a,h,g){return o={tag:o,create:a,destroy:h,deps:g,next:null},a=ir.updateQueue,a===null?(a={lastEffect:null,stores:null},ir.updateQueue=a,a.lastEffect=o.next=o):(h=a.lastEffect,h===null?a.lastEffect=o.next=o:(g=h.next,h.next=o,o.next=g,a.lastEffect=o)),o}function aa(){return Ns().memoizedState}function co(o,a,h,g){var x=uo();ir.flags|=o,x.memoizedState=ks(1|a,h,void 0,g===void 0?null:g)}function Sl(o,a,h,g){var x=Ns();g=g===void 0?null:g;var E=void 0;if(Ur!==null){var B=Ur.memoizedState;if(E=B.destroy,g!==null&&Kc(g,B.deps)){x.memoizedState=ks(a,h,E,g);return}}ir.flags|=o,x.memoizedState=ks(1|a,h,E,g)}function Xc(o,a){return co(8390656,8,o,a)}function Qc(o,a){return Sl(2048,8,o,a)}function Vd(o,a){return Sl(4,2,o,a)}function Zc(o,a){return Sl(4,4,o,a)}function eh(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function F2(o,a,h){return h=h!=null?h.concat([o]):null,Sl(4,4,eh.bind(null,a,o),h)}function pg(){}function j2(o,a){var h=Ns();a=a===void 0?null:a;var g=h.memoizedState;return g!==null&&a!==null&&Kc(a,g[1])?g[0]:(h.memoizedState=[o,a],o)}function V2(o,a){var h=Ns();a=a===void 0?null:a;var g=h.memoizedState;return g!==null&&a!==null&&Kc(a,g[1])?g[0]:(o=o(),h.memoizedState=[o,a],o)}function U2(o,a,h){return(Mo&21)===0?(o.baseState&&(o.baseState=!1,zs=!0),o.memoizedState=h):(vr(h,a)||(h=Jo(),ir.lanes|=h,uc|=h,o.baseState=!0),a)}function SE(o,a){var h=on;on=h!==0&&4>h?h:4,o(!0);var g=Gc.transition;Gc.transition={};try{o(!1),a()}finally{on=h,Gc.transition=g}}function B2(){return Ns().memoizedState}function EE(o,a,h){var g=du(o);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},z2(o))q2(a,h);else if(h=Bn(o,a,h,g),h!==null){var x=Rs();ha(h,o,g,x),$2(h,a,g)}}function TE(o,a,h){var g=du(o),x={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(z2(o))q2(a,x);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var B=a.lastRenderedState,oe=E(B,h);if(x.hasEagerState=!0,x.eagerState=oe,vr(oe,B)){var de=a.interleaved;de===null?(x.next=x,Di(a)):(x.next=de.next,de.next=x),a.interleaved=x;return}}catch{}finally{}h=Bn(o,a,x,g),h!==null&&(x=Rs(),ha(h,o,g,x),$2(h,a,g))}}function z2(o){var a=o.alternate;return o===ir||a!==null&&a===ir}function q2(o,a){oa=au=!0;var h=o.pending;h===null?a.next=a:(a.next=h.next,h.next=a),o.pending=a}function $2(o,a,h){if((h&4194240)!==0){var g=a.lanes;g&=o.pendingLanes,h|=g,a.lanes=h,Zs(o,h)}}var Ud={readContext:xr,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useInsertionEffect:Gr,useLayoutEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useMutableSource:Gr,useSyncExternalStore:Gr,useId:Gr,unstable_isNewReconciler:!1},IE={readContext:xr,useCallback:function(o,a){return uo().memoizedState=[o,a===void 0?null:a],o},useContext:xr,useEffect:Xc,useImperativeHandle:function(o,a,h){return h=h!=null?h.concat([o]):null,co(4194308,4,eh.bind(null,a,o),h)},useLayoutEffect:function(o,a){return co(4194308,4,o,a)},useInsertionEffect:function(o,a){return co(4,2,o,a)},useMemo:function(o,a){var h=uo();return a=a===void 0?null:a,o=o(),h.memoizedState=[o,a],o},useReducer:function(o,a,h){var g=uo();return a=h!==void 0?h(a):a,g.memoizedState=g.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},g.queue=o,o=o.dispatch=EE.bind(null,ir,o),[g.memoizedState,o]},useRef:function(o){var a=uo();return o={current:o},a.memoizedState=o},useState:lc,useDebugValue:pg,useDeferredValue:function(o){return uo().memoizedState=o},useTransition:function(){var o=lc(!1),a=o[0];return o=SE.bind(null,o[1]),uo().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,h){var g=ir,x=uo();if(Be){if(h===void 0)throw Error(t(407));h=h()}else{if(h=a(),Fi===null)throw Error(t(349));(Mo&30)!==0||Fd(g,a,h)}x.memoizedState=h;var E={value:h,getSnapshot:a};return x.queue=E,Xc(jd.bind(null,g,E,o),[o]),g.flags|=2048,ks(9,gf.bind(null,g,E,h,a),void 0,null),h},useId:function(){var o=uo(),a=Fi.identifierPrefix;if(Be){var h=ee,g=Se;h=(g&~(1<<32-Or(g)-1)).toString(32)+h,a=":"+a+"R"+h,h=lu++,0<h&&(a+="H"+h.toString(32)),a+=":"}else h=dg++,a=":"+a+"r"+h.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},PE={readContext:xr,useCallback:j2,useContext:xr,useEffect:Qc,useImperativeHandle:F2,useInsertionEffect:Vd,useLayoutEffect:Zc,useMemo:V2,useReducer:Yc,useRef:aa,useState:function(){return Yc(ac)},useDebugValue:pg,useDeferredValue:function(o){var a=Ns();return U2(a,Ur.memoizedState,o)},useTransition:function(){var o=Yc(ac)[0],a=Ns().memoizedState;return[o,a]},useMutableSource:Md,useSyncExternalStore:mf,useId:B2,unstable_isNewReconciler:!1},NE={readContext:xr,useCallback:j2,useContext:xr,useEffect:Qc,useImperativeHandle:F2,useInsertionEffect:Vd,useLayoutEffect:Zc,useMemo:V2,useReducer:Fa,useRef:aa,useState:function(){return Fa(ac)},useDebugValue:pg,useDeferredValue:function(o){var a=Ns();return Ur===null?a.memoizedState=o:U2(a,Ur.memoizedState,o)},useTransition:function(){var o=Fa(ac)[0],a=Ns().memoizedState;return[o,a]},useMutableSource:Md,useSyncExternalStore:mf,useId:B2,unstable_isNewReconciler:!1};function la(o,a){if(o&&o.defaultProps){a=ke({},a),o=o.defaultProps;for(var h in o)a[h]===void 0&&(a[h]=o[h]);return a}return a}function mg(o,a,h,g){a=o.memoizedState,h=h(g,a),h=h==null?a:ke({},a,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var Bd={isMounted:function(o){return(o=o._reactInternals)?Er(o)===o:!1},enqueueSetState:function(o,a,h){o=o._reactInternals;var g=Rs(),x=du(o),E=Pr(g,x);E.payload=a,h!=null&&(E.callback=h),a=Nr(o,E,x),a!==null&&(ha(a,o,x,g),Oi(a,o,x))},enqueueReplaceState:function(o,a,h){o=o._reactInternals;var g=Rs(),x=du(o),E=Pr(g,x);E.tag=1,E.payload=a,h!=null&&(E.callback=h),a=Nr(o,E,x),a!==null&&(ha(a,o,x,g),Oi(a,o,x))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var h=Rs(),g=du(o),x=Pr(h,g);x.tag=2,a!=null&&(x.callback=a),a=Nr(o,x,g),a!==null&&(ha(a,o,g,h),Oi(a,o,g))}};function H2(o,a,h,g,x,E,B){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,E,B):a.prototype&&a.prototype.isPureReactComponent?!os(h,g)||!os(x,E):!0}function W2(o,a,h){var g=!1,x=Oa,E=a.contextType;return typeof E=="object"&&E!==null?E=xr(E):(x=cs(a)?xl:Ai.current,g=a.contextTypes,E=(g=g!=null)?su(o,x):Oa),a=new a(h,E),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Bd,o.stateNode=a,a._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=x,o.__reactInternalMemoizedMaskedChildContext=E),a}function G2(o,a,h,g){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,g),a.state!==o&&Bd.enqueueReplaceState(a,a.state,null)}function gg(o,a,h,g){var x=o.stateNode;x.props=h,x.state=o.memoizedState,x.refs={},Si(o);var E=a.contextType;typeof E=="object"&&E!==null?x.context=xr(E):(E=cs(a)?xl:Ai.current,x.context=su(o,E)),x.state=o.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(mg(o,a,E,h),x.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&Bd.enqueueReplaceState(x,x.state,null),Mi(o,h,x,g),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308)}function th(o,a){try{var h="",g=a;do h+=ue(g),g=g.return;while(g);var x=h}catch(E){x=`
Error generating stack: `+E.message+`
`+E.stack}return{value:o,source:a,stack:x,digest:null}}function yg(o,a,h){return{value:o,source:null,stack:h??null,digest:a??null}}function vg(o,a){try{console.error(a.value)}catch(h){setTimeout(function(){throw h})}}var kE=typeof WeakMap=="function"?WeakMap:Map;function K2(o,a,h){h=Pr(-1,h),h.tag=3,h.payload={element:null};var g=a.value;return h.callback=function(){Kd||(Kd=!0,Lg=g),vg(o,a)},h}function Y2(o,a,h){h=Pr(-1,h),h.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var x=a.value;h.payload=function(){return g(x)},h.callback=function(){vg(o,a)}}var E=o.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(h.callback=function(){vg(o,a),typeof g!="function"&&(hu===null?hu=new Set([this]):hu.add(this));var B=a.stack;this.componentDidCatch(a.value,{componentStack:B!==null?B:""})}),h}function J2(o,a,h){var g=o.pingCache;if(g===null){g=o.pingCache=new kE;var x=new Set;g.set(a,x)}else x=g.get(a),x===void 0&&(x=new Set,g.set(a,x));x.has(h)||(x.add(h),o=$E.bind(null,o,a,h),a.then(o,o))}function X2(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function Q2(o,a,h,g,x){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(a=Pr(-1,1),a.tag=2,Nr(h,a,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=x,o)}var CE=G.ReactCurrentOwner,zs=!1;function Cs(o,a,h,g){a.child=o===null?ur(a,null,h,g):jr(a,o.child,h,g)}function Z2(o,a,h,g,x){h=h.render;var E=a.ref;return br(a,x),g=oc(o,a,h,g,E,x),h=Fo(),o!==null&&!zs?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~x,El(o,a,x)):(Be&&h&&Ve(a),a.flags|=1,Cs(o,a,g,x),a.child)}function ev(o,a,h,g,x){if(o===null){var E=h.type;return typeof E=="function"&&!Ug(E)&&E.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(a.tag=15,a.type=E,tv(o,a,E,g,x)):(o=ep(h.type,null,g,a,a.mode,x),o.ref=a.ref,o.return=a,a.child=o)}if(E=o.child,(o.lanes&x)===0){var B=E.memoizedProps;if(h=h.compare,h=h!==null?h:os,h(B,g)&&o.ref===a.ref)return El(o,a,x)}return a.flags|=1,o=mu(E,g),o.ref=a.ref,o.return=a,a.child=o}function tv(o,a,h,g,x){if(o!==null){var E=o.memoizedProps;if(os(E,g)&&o.ref===a.ref)if(zs=!1,a.pendingProps=g=E,(o.lanes&x)!==0)(o.flags&131072)!==0&&(zs=!0);else return a.lanes=o.lanes,El(o,a,x)}return wg(o,a,h,g,x)}function nv(o,a,h){var g=a.pendingProps,x=g.children,E=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Un(rh,ho),ho|=h;else{if((h&1073741824)===0)return o=E!==null?E.baseLanes|h:h,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,Un(rh,ho),ho|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=E!==null?E.baseLanes:h,Un(rh,ho),ho|=g}else E!==null?(g=E.baseLanes|h,a.memoizedState=null):g=h,Un(rh,ho),ho|=g;return Cs(o,a,x,h),a.child}function rv(o,a){var h=a.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(a.flags|=512,a.flags|=2097152)}function wg(o,a,h,g,x){var E=cs(h)?xl:Ai.current;return E=su(a,E),br(a,x),h=oc(o,a,h,g,E,x),g=Fo(),o!==null&&!zs?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~x,El(o,a,x)):(Be&&g&&Ve(a),a.flags|=1,Cs(o,a,h,x),a.child)}function iv(o,a,h,g,x){if(cs(h)){var E=!0;Al(a)}else E=!1;if(br(a,x),a.stateNode===null)qd(o,a),W2(a,h,g),gg(a,h,g,x),g=!0;else if(o===null){var B=a.stateNode,oe=a.memoizedProps;B.props=oe;var de=B.context,De=h.contextType;typeof De=="object"&&De!==null?De=xr(De):(De=cs(h)?xl:Ai.current,De=su(a,De));var Ke=h.getDerivedStateFromProps,Je=typeof Ke=="function"||typeof B.getSnapshotBeforeUpdate=="function";Je||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(oe!==g||de!==De)&&G2(a,B,g,De),Vr=!1;var We=a.memoizedState;B.state=We,Mi(a,g,B,x),de=a.memoizedState,oe!==g||We!==de||us.current||Vr?(typeof Ke=="function"&&(mg(a,h,Ke,g),de=a.memoizedState),(oe=Vr||H2(a,h,oe,g,We,de,De))?(Je||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(a.flags|=4194308)):(typeof B.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=de),B.props=g,B.state=de,B.context=De,g=oe):(typeof B.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{B=a.stateNode,hs(o,a),oe=a.memoizedProps,De=a.type===a.elementType?oe:la(a.type,oe),B.props=De,Je=a.pendingProps,We=B.context,de=h.contextType,typeof de=="object"&&de!==null?de=xr(de):(de=cs(h)?xl:Ai.current,de=su(a,de));var rt=h.getDerivedStateFromProps;(Ke=typeof rt=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(oe!==Je||We!==de)&&G2(a,B,g,de),Vr=!1,We=a.memoizedState,B.state=We,Mi(a,g,B,x);var dt=a.memoizedState;oe!==Je||We!==dt||us.current||Vr?(typeof rt=="function"&&(mg(a,h,rt,g),dt=a.memoizedState),(De=Vr||H2(a,h,De,g,We,dt,de)||!1)?(Ke||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(g,dt,de),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(g,dt,de)),typeof B.componentDidUpdate=="function"&&(a.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof B.componentDidUpdate!="function"||oe===o.memoizedProps&&We===o.memoizedState||(a.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||oe===o.memoizedProps&&We===o.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=dt),B.props=g,B.state=dt,B.context=de,g=De):(typeof B.componentDidUpdate!="function"||oe===o.memoizedProps&&We===o.memoizedState||(a.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||oe===o.memoizedProps&&We===o.memoizedState||(a.flags|=1024),g=!1)}return _g(o,a,h,g,E,x)}function _g(o,a,h,g,x,E){rv(o,a);var B=(a.flags&128)!==0;if(!g&&!B)return x&&Dd(a,h,!1),El(o,a,E);g=a.stateNode,CE.current=a;var oe=B&&typeof h.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,o!==null&&B?(a.child=jr(a,o.child,null,E),a.child=jr(a,null,oe,E)):Cs(o,a,oe,E),a.memoizedState=g.state,x&&Dd(a,h,!0),a.child}function sv(o){var a=o.stateNode;a.pendingContext?Ld(o,a.pendingContext,a.pendingContext!==a.context):a.context&&Ld(o,a.context,!1),ou(o,a.containerInfo)}function ov(o,a,h,g,x){return at(),et(x),a.flags|=256,Cs(o,a,h,g),a.child}var bg={dehydrated:null,treeContext:null,retryLane:0};function xg(o){return{baseLanes:o,cachePool:null,transitions:null}}function av(o,a,h){var g=a.pendingProps,x=Zn.current,E=!1,B=(a.flags&128)!==0,oe;if((oe=B)||(oe=o!==null&&o.memoizedState===null?!1:(x&2)!==0),oe?(E=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(x|=1),Un(Zn,x&1),o===null)return ct(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(B=g.children,o=g.fallback,E?(g=a.mode,E=a.child,B={mode:"hidden",children:B},(g&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=B):E=tp(B,g,0,null),o=dc(o,g,h,null),E.return=a,o.return=a,E.sibling=o,a.child=E,a.child.memoizedState=xg(h),a.memoizedState=bg,o):Ag(a,B));if(x=o.memoizedState,x!==null&&(oe=x.dehydrated,oe!==null))return RE(o,a,B,g,oe,x,h);if(E){E=g.fallback,B=a.mode,x=o.child,oe=x.sibling;var de={mode:"hidden",children:g.children};return(B&1)===0&&a.child!==x?(g=a.child,g.childLanes=0,g.pendingProps=de,a.deletions=null):(g=mu(x,de),g.subtreeFlags=x.subtreeFlags&14680064),oe!==null?E=mu(oe,E):(E=dc(E,B,h,null),E.flags|=2),E.return=a,g.return=a,g.sibling=E,a.child=g,g=E,E=a.child,B=o.child.memoizedState,B=B===null?xg(h):{baseLanes:B.baseLanes|h,cachePool:null,transitions:B.transitions},E.memoizedState=B,E.childLanes=o.childLanes&~h,a.memoizedState=bg,g}return E=o.child,o=E.sibling,g=mu(E,{mode:"visible",children:g.children}),(a.mode&1)===0&&(g.lanes=h),g.return=a,g.sibling=null,o!==null&&(h=a.deletions,h===null?(a.deletions=[o],a.flags|=16):h.push(o)),a.child=g,a.memoizedState=null,g}function Ag(o,a){return a=tp({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function zd(o,a,h,g){return g!==null&&et(g),jr(a,o.child,null,h),o=Ag(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function RE(o,a,h,g,x,E,B){if(h)return a.flags&256?(a.flags&=-257,g=yg(Error(t(422))),zd(o,a,B,g)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(E=g.fallback,x=a.mode,g=tp({mode:"visible",children:g.children},x,0,null),E=dc(E,x,B,null),E.flags|=2,g.return=a,E.return=a,g.sibling=E,a.child=g,(a.mode&1)!==0&&jr(a,o.child,null,B),a.child.memoizedState=xg(B),a.memoizedState=bg,E);if((a.mode&1)===0)return zd(o,a,B,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var oe=g.dgst;return g=oe,E=Error(t(419)),g=yg(E,g,void 0),zd(o,a,B,g)}if(oe=(B&o.childLanes)!==0,zs||oe){if(g=Fi,g!==null){switch(B&-B){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|B))!==0?0:x,x!==0&&x!==E.retryLane&&(E.retryLane=x,Wn(o,x),ha(g,o,x,-1))}return Vg(),g=yg(Error(t(421))),zd(o,a,B,g)}return x.data==="$?"?(a.flags|=128,a.child=o.child,a=HE.bind(null,o),x._reactRetry=a,null):(o=E.treeContext,je=Hi(x.nextSibling),Oe=a,Be=!0,ze=null,o!==null&&(X[Z++]=Se,X[Z++]=ee,X[Z++]=fe,Se=o.id,ee=o.overflow,fe=a),a=Ag(a,g.children),a.flags|=4096,a)}function lv(o,a,h){o.lanes|=a;var g=o.alternate;g!==null&&(g.lanes|=a),In(o.return,a,h)}function Sg(o,a,h,g,x){var E=o.memoizedState;E===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:x}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=g,E.tail=h,E.tailMode=x)}function uv(o,a,h){var g=a.pendingProps,x=g.revealOrder,E=g.tail;if(Cs(o,a,g.children,h),g=Zn.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&lv(o,h,a);else if(o.tag===19)lv(o,h,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(Un(Zn,g),(a.mode&1)===0)a.memoizedState=null;else switch(x){case"forwards":for(h=a.child,x=null;h!==null;)o=h.alternate,o!==null&&lo(o)===null&&(x=h),h=h.sibling;h=x,h===null?(x=a.child,a.child=null):(x=h.sibling,h.sibling=null),Sg(a,!1,x,h,E);break;case"backwards":for(h=null,x=a.child,a.child=null;x!==null;){if(o=x.alternate,o!==null&&lo(o)===null){a.child=x;break}o=x.sibling,x.sibling=h,h=x,x=o}Sg(a,!0,h,null,E);break;case"together":Sg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function qd(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function El(o,a,h){if(o!==null&&(a.dependencies=o.dependencies),uc|=a.lanes,(h&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(t(153));if(a.child!==null){for(o=a.child,h=mu(o,o.pendingProps),a.child=h,h.return=a;o.sibling!==null;)o=o.sibling,h=h.sibling=mu(o,o.pendingProps),h.return=a;h.sibling=null}return a.child}function LE(o,a,h){switch(a.tag){case 3:sv(a),at();break;case 5:Od(a);break;case 1:cs(a.type)&&Al(a);break;case 4:ou(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,x=a.memoizedProps.value;Un(Wr,g._currentValue),g._currentValue=x;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(Un(Zn,Zn.current&1),a.flags|=128,null):(h&a.child.childLanes)!==0?av(o,a,h):(Un(Zn,Zn.current&1),o=El(o,a,h),o!==null?o.sibling:null);Un(Zn,Zn.current&1);break;case 19:if(g=(h&a.childLanes)!==0,(o.flags&128)!==0){if(g)return uv(o,a,h);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Un(Zn,Zn.current),g)break;return null;case 22:case 23:return a.lanes=0,nv(o,a,h)}return El(o,a,h)}var cv,Eg,hv,fv;cv=function(o,a){for(var h=a.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Eg=function(){},hv=function(o,a,h,g){var x=o.memoizedProps;if(x!==g){o=a.stateNode,sa(ai.current);var E=null;switch(h){case"input":x=Me(o,x),g=Me(o,g),E=[];break;case"select":x=ke({},x,{value:void 0}),g=ke({},g,{value:void 0}),E=[];break;case"textarea":x=qt(o,x),g=qt(o,g),E=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=nu)}An(h,g);var B;h=null;for(De in x)if(!g.hasOwnProperty(De)&&x.hasOwnProperty(De)&&x[De]!=null)if(De==="style"){var oe=x[De];for(B in oe)oe.hasOwnProperty(B)&&(h||(h={}),h[B]="")}else De!=="dangerouslySetInnerHTML"&&De!=="children"&&De!=="suppressContentEditableWarning"&&De!=="suppressHydrationWarning"&&De!=="autoFocus"&&(i.hasOwnProperty(De)?E||(E=[]):(E=E||[]).push(De,null));for(De in g){var de=g[De];if(oe=x!=null?x[De]:void 0,g.hasOwnProperty(De)&&de!==oe&&(de!=null||oe!=null))if(De==="style")if(oe){for(B in oe)!oe.hasOwnProperty(B)||de&&de.hasOwnProperty(B)||(h||(h={}),h[B]="");for(B in de)de.hasOwnProperty(B)&&oe[B]!==de[B]&&(h||(h={}),h[B]=de[B])}else h||(E||(E=[]),E.push(De,h)),h=de;else De==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,oe=oe?oe.__html:void 0,de!=null&&oe!==de&&(E=E||[]).push(De,de)):De==="children"?typeof de!="string"&&typeof de!="number"||(E=E||[]).push(De,""+de):De!=="suppressContentEditableWarning"&&De!=="suppressHydrationWarning"&&(i.hasOwnProperty(De)?(de!=null&&De==="onScroll"&&$n("scroll",o),E||oe===de||(E=[])):(E=E||[]).push(De,de))}h&&(E=E||[]).push("style",h);var De=E;(a.updateQueue=De)&&(a.flags|=4)}},fv=function(o,a,h,g){h!==g&&(a.flags|=4)};function yf(o,a){if(!Be)switch(o.tailMode){case"hidden":a=o.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function fs(o){var a=o.alternate!==null&&o.alternate.child===o.child,h=0,g=0;if(a)for(var x=o.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=g,o.childLanes=h,a}function DE(o,a,h){var g=a.pendingProps;switch(Ne(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fs(a),null;case 1:return cs(a.type)&&Hc(),fs(a),null;case 3:return g=a.stateNode,Oo(),On(us),On(Ai),pf(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(_r(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ze!==null&&(Mg(ze),ze=null))),Eg(o,a),fs(a),null;case 5:ff(a);var x=sa(Ma.current);if(h=a.type,o!==null&&a.stateNode!=null)hv(o,a,h,g,x),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(t(166));return fs(a),null}if(o=sa(ai.current),_r(a)){g=a.stateNode,h=a.type;var E=a.memoizedProps;switch(g[Do]=a,g[ru]=E,o=(a.mode&1)!==0,h){case"dialog":$n("cancel",g),$n("close",g);break;case"iframe":case"object":case"embed":$n("load",g);break;case"video":case"audio":for(x=0;x<La.length;x++)$n(La[x],g);break;case"source":$n("error",g);break;case"img":case"image":case"link":$n("error",g),$n("load",g);break;case"details":$n("toggle",g);break;case"input":se(g,E),$n("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!E.multiple},$n("invalid",g);break;case"textarea":vt(g,E),$n("invalid",g)}An(h,E),x=null;for(var B in E)if(E.hasOwnProperty(B)){var oe=E[B];B==="children"?typeof oe=="string"?g.textContent!==oe&&(E.suppressHydrationWarning!==!0&&$c(g.textContent,oe,o),x=["children",oe]):typeof oe=="number"&&g.textContent!==""+oe&&(E.suppressHydrationWarning!==!0&&$c(g.textContent,oe,o),x=["children",""+oe]):i.hasOwnProperty(B)&&oe!=null&&B==="onScroll"&&$n("scroll",g)}switch(h){case"input":He(g),St(g,E,!0);break;case"textarea":He(g),jt(g);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(g.onclick=nu)}g=x,a.updateQueue=g,g!==null&&(a.flags|=4)}else{B=x.nodeType===9?x:x.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=mt(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=B.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=B.createElement(h,{is:g.is}):(o=B.createElement(h),h==="select"&&(B=o,g.multiple?B.multiple=!0:g.size&&(B.size=g.size))):o=B.createElementNS(o,h),o[Do]=a,o[ru]=g,cv(o,a,!1,!1),a.stateNode=o;e:{switch(B=Tt(h,g),h){case"dialog":$n("cancel",o),$n("close",o),x=g;break;case"iframe":case"object":case"embed":$n("load",o),x=g;break;case"video":case"audio":for(x=0;x<La.length;x++)$n(La[x],o);x=g;break;case"source":$n("error",o),x=g;break;case"img":case"image":case"link":$n("error",o),$n("load",o),x=g;break;case"details":$n("toggle",o),x=g;break;case"input":se(o,g),x=Me(o,g),$n("invalid",o);break;case"option":x=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},x=ke({},g,{value:void 0}),$n("invalid",o);break;case"textarea":vt(o,g),x=qt(o,g),$n("invalid",o);break;default:x=g}An(h,x),oe=x;for(E in oe)if(oe.hasOwnProperty(E)){var de=oe[E];E==="style"?ht(o,de):E==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,de!=null&&wt(o,de)):E==="children"?typeof de=="string"?(h!=="textarea"||de!=="")&&Et(o,de):typeof de=="number"&&Et(o,""+de):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?de!=null&&E==="onScroll"&&$n("scroll",o):de!=null&&W(o,E,de,B))}switch(h){case"input":He(o),St(o,g,!1);break;case"textarea":He(o),jt(o);break;case"option":g.value!=null&&o.setAttribute("value",""+Ee(g.value));break;case"select":o.multiple=!!g.multiple,E=g.value,E!=null?Ze(o,!!g.multiple,E,!1):g.defaultValue!=null&&Ze(o,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(o.onclick=nu)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return fs(a),null;case 6:if(o&&a.stateNode!=null)fv(o,a,o.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(t(166));if(h=sa(Ma.current),sa(ai.current),_r(a)){if(g=a.stateNode,h=a.memoizedProps,g[Do]=a,(E=g.nodeValue!==h)&&(o=Oe,o!==null))switch(o.tag){case 3:$c(g.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&$c(g.nodeValue,h,(o.mode&1)!==0)}E&&(a.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[Do]=a,a.stateNode=g}return fs(a),null;case 13:if(On(Zn),g=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Be&&je!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Jt(),at(),a.flags|=98560,E=!1;else if(E=_r(a),g!==null&&g.dehydrated!==null){if(o===null){if(!E)throw Error(t(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[Do]=a}else at(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;fs(a),E=!1}else ze!==null&&(Mg(ze),ze=null),E=!0;if(!E)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=h,a):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(Zn.current&1)!==0?Ei===0&&(Ei=3):Vg())),a.updateQueue!==null&&(a.flags|=4),fs(a),null);case 4:return Oo(),Eg(o,a),o===null&&vl(a.stateNode.containerInfo),fs(a),null;case 10:return rr(a.type._context),fs(a),null;case 17:return cs(a.type)&&Hc(),fs(a),null;case 19:if(On(Zn),E=a.memoizedState,E===null)return fs(a),null;if(g=(a.flags&128)!==0,B=E.rendering,B===null)if(g)yf(E,!1);else{if(Ei!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(B=lo(o),B!==null){for(a.flags|=128,yf(E,!1),g=B.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=h,h=a.child;h!==null;)E=h,o=g,E.flags&=14680066,B=E.alternate,B===null?(E.childLanes=0,E.lanes=o,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=B.childLanes,E.lanes=B.lanes,E.child=B.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=B.memoizedProps,E.memoizedState=B.memoizedState,E.updateQueue=B.updateQueue,E.type=B.type,o=B.dependencies,E.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return Un(Zn,Zn.current&1|2),a.child}o=o.sibling}E.tail!==null&&kn()>ih&&(a.flags|=128,g=!0,yf(E,!1),a.lanes=4194304)}else{if(!g)if(o=lo(B),o!==null){if(a.flags|=128,g=!0,h=o.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),yf(E,!0),E.tail===null&&E.tailMode==="hidden"&&!B.alternate&&!Be)return fs(a),null}else 2*kn()-E.renderingStartTime>ih&&h!==1073741824&&(a.flags|=128,g=!0,yf(E,!1),a.lanes=4194304);E.isBackwards?(B.sibling=a.child,a.child=B):(h=E.last,h!==null?h.sibling=B:a.child=B,E.last=B)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=kn(),a.sibling=null,h=Zn.current,Un(Zn,g?h&1|2:h&1),a):(fs(a),null);case 22:case 23:return jg(),g=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(ho&1073741824)!==0&&(fs(a),a.subtreeFlags&6&&(a.flags|=8192)):fs(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function OE(o,a){switch(Ne(a),a.tag){case 1:return cs(a.type)&&Hc(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Oo(),On(us),On(Ai),pf(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return ff(a),null;case 13:if(On(Zn),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(t(340));at()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return On(Zn),null;case 4:return Oo(),null;case 10:return rr(a.type._context),null;case 22:case 23:return jg(),null;case 24:return null;default:return null}}var $d=!1,ds=!1,ME=typeof WeakSet=="function"?WeakSet:Set,ut=null;function nh(o,a){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){Br(o,a,g)}else h.current=null}function Tg(o,a,h){try{h()}catch(g){Br(o,a,g)}}var dv=!1;function FE(o,a){if(rc=Io,o=Fr(),so(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var x=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var B=0,oe=-1,de=-1,De=0,Ke=0,Je=o,We=null;t:for(;;){for(var rt;Je!==h||x!==0&&Je.nodeType!==3||(oe=B+x),Je!==E||g!==0&&Je.nodeType!==3||(de=B+g),Je.nodeType===3&&(B+=Je.nodeValue.length),(rt=Je.firstChild)!==null;)We=Je,Je=rt;for(;;){if(Je===o)break t;if(We===h&&++De===x&&(oe=B),We===E&&++Ke===g&&(de=B),(rt=Je.nextSibling)!==null)break;Je=We,We=Je.parentNode}Je=rt}h=oe===-1||de===-1?null:{start:oe,end:de}}else h=null}h=h||{start:0,end:0}}else h=null;for(_l={focusedElem:o,selectionRange:h},Io=!1,ut=a;ut!==null;)if(a=ut,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,ut=o;else for(;ut!==null;){a=ut;try{var dt=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(dt!==null){var yt=dt.memoizedProps,Kr=dt.memoizedState,Ie=a.stateNode,ge=Ie.getSnapshotBeforeUpdate(a.elementType===a.type?yt:la(a.type,yt),Kr);Ie.__reactInternalSnapshotBeforeUpdate=ge}break;case 3:var Ce=a.stateNode.containerInfo;Ce.nodeType===1?Ce.textContent="":Ce.nodeType===9&&Ce.documentElement&&Ce.removeChild(Ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Qe){Br(a,a.return,Qe)}if(o=a.sibling,o!==null){o.return=a.return,ut=o;break}ut=a.return}return dt=dv,dv=!1,dt}function vf(o,a,h){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&o)===o){var E=x.destroy;x.destroy=void 0,E!==void 0&&Tg(a,h,E)}x=x.next}while(x!==g)}}function Hd(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&o)===o){var g=h.create;h.destroy=g()}h=h.next}while(h!==a)}}function Ig(o){var a=o.ref;if(a!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof a=="function"?a(o):a.current=o}}function pv(o){var a=o.alternate;a!==null&&(o.alternate=null,pv(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Do],delete a[ru],delete a[ls],delete a[hg],delete a[fg])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function mv(o){return o.tag===5||o.tag===3||o.tag===4}function gv(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||mv(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Pg(o,a,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,a?h.nodeType===8?h.parentNode.insertBefore(o,a):h.insertBefore(o,a):(h.nodeType===8?(a=h.parentNode,a.insertBefore(o,h)):(a=h,a.appendChild(o)),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=nu));else if(g!==4&&(o=o.child,o!==null))for(Pg(o,a,h),o=o.sibling;o!==null;)Pg(o,a,h),o=o.sibling}function Ng(o,a,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,a?h.insertBefore(o,a):h.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(Ng(o,a,h),o=o.sibling;o!==null;)Ng(o,a,h),o=o.sibling}var Wi=null,ua=!1;function cu(o,a,h){for(h=h.child;h!==null;)yv(o,a,h),h=h.sibling}function yv(o,a,h){if(ki&&typeof ki.onCommitFiberUnmount=="function")try{ki.onCommitFiberUnmount(So,h)}catch{}switch(h.tag){case 5:ds||nh(h,a);case 6:var g=Wi,x=ua;Wi=null,cu(o,a,h),Wi=g,ua=x,Wi!==null&&(ua?(o=Wi,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):Wi.removeChild(h.stateNode));break;case 18:Wi!==null&&(ua?(o=Wi,h=h.stateNode,o.nodeType===8?uf(o.parentNode,h):o.nodeType===1&&uf(o,h),Ci(o)):uf(Wi,h.stateNode));break;case 4:g=Wi,x=ua,Wi=h.stateNode.containerInfo,ua=!0,cu(o,a,h),Wi=g,ua=x;break;case 0:case 11:case 14:case 15:if(!ds&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var E=x,B=E.destroy;E=E.tag,B!==void 0&&((E&2)!==0||(E&4)!==0)&&Tg(h,a,B),x=x.next}while(x!==g)}cu(o,a,h);break;case 1:if(!ds&&(nh(h,a),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(oe){Br(h,a,oe)}cu(o,a,h);break;case 21:cu(o,a,h);break;case 22:h.mode&1?(ds=(g=ds)||h.memoizedState!==null,cu(o,a,h),ds=g):cu(o,a,h);break;default:cu(o,a,h)}}function vv(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new ME),a.forEach(function(g){var x=WE.bind(null,o,g);h.has(g)||(h.add(g),g.then(x,x))})}}function ca(o,a){var h=a.deletions;if(h!==null)for(var g=0;g<h.length;g++){var x=h[g];try{var E=o,B=a,oe=B;e:for(;oe!==null;){switch(oe.tag){case 5:Wi=oe.stateNode,ua=!1;break e;case 3:Wi=oe.stateNode.containerInfo,ua=!0;break e;case 4:Wi=oe.stateNode.containerInfo,ua=!0;break e}oe=oe.return}if(Wi===null)throw Error(t(160));yv(E,B,x),Wi=null,ua=!1;var de=x.alternate;de!==null&&(de.return=null),x.return=null}catch(De){Br(x,a,De)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)wv(a,o),a=a.sibling}function wv(o,a){var h=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ca(a,o),ja(o),g&4){try{vf(3,o,o.return),Hd(3,o)}catch(yt){Br(o,o.return,yt)}try{vf(5,o,o.return)}catch(yt){Br(o,o.return,yt)}}break;case 1:ca(a,o),ja(o),g&512&&h!==null&&nh(h,h.return);break;case 5:if(ca(a,o),ja(o),g&512&&h!==null&&nh(h,h.return),o.flags&32){var x=o.stateNode;try{Et(x,"")}catch(yt){Br(o,o.return,yt)}}if(g&4&&(x=o.stateNode,x!=null)){var E=o.memoizedProps,B=h!==null?h.memoizedProps:E,oe=o.type,de=o.updateQueue;if(o.updateQueue=null,de!==null)try{oe==="input"&&E.type==="radio"&&E.name!=null&&nn(x,E),Tt(oe,B);var De=Tt(oe,E);for(B=0;B<de.length;B+=2){var Ke=de[B],Je=de[B+1];Ke==="style"?ht(x,Je):Ke==="dangerouslySetInnerHTML"?wt(x,Je):Ke==="children"?Et(x,Je):W(x,Ke,Je,De)}switch(oe){case"input":zt(x,E);break;case"textarea":cn(x,E);break;case"select":var We=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!E.multiple;var rt=E.value;rt!=null?Ze(x,!!E.multiple,rt,!1):We!==!!E.multiple&&(E.defaultValue!=null?Ze(x,!!E.multiple,E.defaultValue,!0):Ze(x,!!E.multiple,E.multiple?[]:"",!1))}x[ru]=E}catch(yt){Br(o,o.return,yt)}}break;case 6:if(ca(a,o),ja(o),g&4){if(o.stateNode===null)throw Error(t(162));x=o.stateNode,E=o.memoizedProps;try{x.nodeValue=E}catch(yt){Br(o,o.return,yt)}}break;case 3:if(ca(a,o),ja(o),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Ci(a.containerInfo)}catch(yt){Br(o,o.return,yt)}break;case 4:ca(a,o),ja(o);break;case 13:ca(a,o),ja(o),x=o.child,x.flags&8192&&(E=x.memoizedState!==null,x.stateNode.isHidden=E,!E||x.alternate!==null&&x.alternate.memoizedState!==null||(Rg=kn())),g&4&&vv(o);break;case 22:if(Ke=h!==null&&h.memoizedState!==null,o.mode&1?(ds=(De=ds)||Ke,ca(a,o),ds=De):ca(a,o),ja(o),g&8192){if(De=o.memoizedState!==null,(o.stateNode.isHidden=De)&&!Ke&&(o.mode&1)!==0)for(ut=o,Ke=o.child;Ke!==null;){for(Je=ut=Ke;ut!==null;){switch(We=ut,rt=We.child,We.tag){case 0:case 11:case 14:case 15:vf(4,We,We.return);break;case 1:nh(We,We.return);var dt=We.stateNode;if(typeof dt.componentWillUnmount=="function"){g=We,h=We.return;try{a=g,dt.props=a.memoizedProps,dt.state=a.memoizedState,dt.componentWillUnmount()}catch(yt){Br(g,h,yt)}}break;case 5:nh(We,We.return);break;case 22:if(We.memoizedState!==null){xv(Je);continue}}rt!==null?(rt.return=We,ut=rt):xv(Je)}Ke=Ke.sibling}e:for(Ke=null,Je=o;;){if(Je.tag===5){if(Ke===null){Ke=Je;try{x=Je.stateNode,De?(E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(oe=Je.stateNode,de=Je.memoizedProps.style,B=de!=null&&de.hasOwnProperty("display")?de.display:null,oe.style.display=mn("display",B))}catch(yt){Br(o,o.return,yt)}}}else if(Je.tag===6){if(Ke===null)try{Je.stateNode.nodeValue=De?"":Je.memoizedProps}catch(yt){Br(o,o.return,yt)}}else if((Je.tag!==22&&Je.tag!==23||Je.memoizedState===null||Je===o)&&Je.child!==null){Je.child.return=Je,Je=Je.child;continue}if(Je===o)break e;for(;Je.sibling===null;){if(Je.return===null||Je.return===o)break e;Ke===Je&&(Ke=null),Je=Je.return}Ke===Je&&(Ke=null),Je.sibling.return=Je.return,Je=Je.sibling}}break;case 19:ca(a,o),ja(o),g&4&&vv(o);break;case 21:break;default:ca(a,o),ja(o)}}function ja(o){var a=o.flags;if(a&2){try{e:{for(var h=o.return;h!==null;){if(mv(h)){var g=h;break e}h=h.return}throw Error(t(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(Et(x,""),g.flags&=-33);var E=gv(o);Ng(o,E,x);break;case 3:case 4:var B=g.stateNode.containerInfo,oe=gv(o);Pg(o,oe,B);break;default:throw Error(t(161))}}catch(de){Br(o,o.return,de)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function jE(o,a,h){ut=o,_v(o)}function _v(o,a,h){for(var g=(o.mode&1)!==0;ut!==null;){var x=ut,E=x.child;if(x.tag===22&&g){var B=x.memoizedState!==null||$d;if(!B){var oe=x.alternate,de=oe!==null&&oe.memoizedState!==null||ds;oe=$d;var De=ds;if($d=B,(ds=de)&&!De)for(ut=x;ut!==null;)B=ut,de=B.child,B.tag===22&&B.memoizedState!==null?Av(x):de!==null?(de.return=B,ut=de):Av(x);for(;E!==null;)ut=E,_v(E),E=E.sibling;ut=x,$d=oe,ds=De}bv(o)}else(x.subtreeFlags&8772)!==0&&E!==null?(E.return=x,ut=E):bv(o)}}function bv(o){for(;ut!==null;){var a=ut;if((a.flags&8772)!==0){var h=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:ds||Hd(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!ds)if(h===null)g.componentDidMount();else{var x=a.elementType===a.type?h.memoizedProps:la(a.type,h.memoizedProps);g.componentDidUpdate(x,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var E=a.updateQueue;E!==null&&Bs(a,E,g);break;case 3:var B=a.updateQueue;if(B!==null){if(h=null,a.child!==null)switch(a.child.tag){case 5:h=a.child.stateNode;break;case 1:h=a.child.stateNode}Bs(a,B,h)}break;case 5:var oe=a.stateNode;if(h===null&&a.flags&4){h=oe;var de=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":de.autoFocus&&h.focus();break;case"img":de.src&&(h.src=de.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var De=a.alternate;if(De!==null){var Ke=De.memoizedState;if(Ke!==null){var Je=Ke.dehydrated;Je!==null&&Ci(Je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ds||a.flags&512&&Ig(a)}catch(We){Br(a,a.return,We)}}if(a===o){ut=null;break}if(h=a.sibling,h!==null){h.return=a.return,ut=h;break}ut=a.return}}function xv(o){for(;ut!==null;){var a=ut;if(a===o){ut=null;break}var h=a.sibling;if(h!==null){h.return=a.return,ut=h;break}ut=a.return}}function Av(o){for(;ut!==null;){var a=ut;try{switch(a.tag){case 0:case 11:case 15:var h=a.return;try{Hd(4,a)}catch(de){Br(a,h,de)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var x=a.return;try{g.componentDidMount()}catch(de){Br(a,x,de)}}var E=a.return;try{Ig(a)}catch(de){Br(a,E,de)}break;case 5:var B=a.return;try{Ig(a)}catch(de){Br(a,B,de)}}}catch(de){Br(a,a.return,de)}if(a===o){ut=null;break}var oe=a.sibling;if(oe!==null){oe.return=a.return,ut=oe;break}ut=a.return}}var VE=Math.ceil,Wd=G.ReactCurrentDispatcher,kg=G.ReactCurrentOwner,jo=G.ReactCurrentBatchConfig,Pn=0,Fi=null,li=null,Gi=0,ho=0,rh=oo(0),Ei=0,wf=null,uc=0,Gd=0,Cg=0,_f=null,qs=null,Rg=0,ih=1/0,Tl=null,Kd=!1,Lg=null,hu=null,Yd=!1,fu=null,Jd=0,bf=0,Dg=null,Xd=-1,Qd=0;function Rs(){return(Pn&6)!==0?kn():Xd!==-1?Xd:Xd=kn()}function du(o){return(o.mode&1)===0?1:(Pn&2)!==0&&Gi!==0?Gi&-Gi:Ir.transition!==null?(Qd===0&&(Qd=Jo()),Qd):(o=on,o!==0||(o=window.event,o=o===void 0?16:No(o.type)),o)}function ha(o,a,h,g){if(50<bf)throw bf=0,Dg=null,Error(t(185));To(o,h,g),((Pn&2)===0||o!==Fi)&&(o===Fi&&((Pn&2)===0&&(Gd|=h),Ei===4&&pu(o,Gi)),$s(o,g),h===1&&Pn===0&&(a.mode&1)===0&&(ih=kn()+500,sc&&T()))}function $s(o,a){var h=o.callbackNode;Ln(o,a);var g=di(o,o===Fi?Gi:0);if(g===0)h!==null&&xo(h),o.callbackNode=null,o.callbackPriority=0;else if(a=g&-g,o.callbackPriority!==a){if(h!=null&&xo(h),a===1)o.tag===0?A(Ev.bind(null,o)):y(Ev.bind(null,o)),ug(function(){(Pn&6)===0&&T()}),h=null;else{switch(Bi(g)){case 1:h=Ao;break;case 4:h=$r;break;case 16:h=Ni;break;case 536870912:h=xa;break;default:h=Ni}h=Lv(h,Sv.bind(null,o))}o.callbackPriority=a,o.callbackNode=h}}function Sv(o,a){if(Xd=-1,Qd=0,(Pn&6)!==0)throw Error(t(327));var h=o.callbackNode;if(sh()&&o.callbackNode!==h)return null;var g=di(o,o===Fi?Gi:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||a)a=Zd(o,g);else{a=g;var x=Pn;Pn|=2;var E=Iv();(Fi!==o||Gi!==a)&&(Tl=null,ih=kn()+500,hc(o,a));do try{zE();break}catch(oe){Tv(o,oe)}while(!0);Tn(),Wd.current=E,Pn=x,li!==null?a=0:(Fi=null,Gi=0,a=Ei)}if(a!==0){if(a===2&&(x=pi(o),x!==0&&(g=x,a=Og(o,x))),a===1)throw h=wf,hc(o,0),pu(o,g),$s(o,kn()),h;if(a===6)pu(o,g);else{if(x=o.current.alternate,(g&30)===0&&!UE(x)&&(a=Zd(o,g),a===2&&(E=pi(o),E!==0&&(g=E,a=Og(o,E))),a===1))throw h=wf,hc(o,0),pu(o,g),$s(o,kn()),h;switch(o.finishedWork=x,o.finishedLanes=g,a){case 0:case 1:throw Error(t(345));case 2:fc(o,qs,Tl);break;case 3:if(pu(o,g),(g&130023424)===g&&(a=Rg+500-kn(),10<a)){if(di(o,0)!==0)break;if(x=o.suspendedLanes,(x&g)!==g){Rs(),o.pingedLanes|=o.suspendedLanes&x;break}o.timeoutHandle=lf(fc.bind(null,o,qs,Tl),a);break}fc(o,qs,Tl);break;case 4:if(pu(o,g),(g&4194240)===g)break;for(a=o.eventTimes,x=-1;0<g;){var B=31-Or(g);E=1<<B,B=a[B],B>x&&(x=B),g&=~E}if(g=x,g=kn()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*VE(g/1960))-g,10<g){o.timeoutHandle=lf(fc.bind(null,o,qs,Tl),g);break}fc(o,qs,Tl);break;case 5:fc(o,qs,Tl);break;default:throw Error(t(329))}}}return $s(o,kn()),o.callbackNode===h?Sv.bind(null,o):null}function Og(o,a){var h=_f;return o.current.memoizedState.isDehydrated&&(hc(o,a).flags|=256),o=Zd(o,a),o!==2&&(a=qs,qs=h,a!==null&&Mg(a)),o}function Mg(o){qs===null?qs=o:qs.push.apply(qs,o)}function UE(o){for(var a=o;;){if(a.flags&16384){var h=a.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var x=h[g],E=x.getSnapshot;x=x.value;try{if(!vr(E(),x))return!1}catch{return!1}}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function pu(o,a){for(a&=~Cg,a&=~Gd,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var h=31-Or(a),g=1<<h;o[h]=-1,a&=~g}}function Ev(o){if((Pn&6)!==0)throw Error(t(327));sh();var a=di(o,0);if((a&1)===0)return $s(o,kn()),null;var h=Zd(o,a);if(o.tag!==0&&h===2){var g=pi(o);g!==0&&(a=g,h=Og(o,g))}if(h===1)throw h=wf,hc(o,0),pu(o,a),$s(o,kn()),h;if(h===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,fc(o,qs,Tl),$s(o,kn()),null}function Fg(o,a){var h=Pn;Pn|=1;try{return o(a)}finally{Pn=h,Pn===0&&(ih=kn()+500,sc&&T())}}function cc(o){fu!==null&&fu.tag===0&&(Pn&6)===0&&sh();var a=Pn;Pn|=1;var h=jo.transition,g=on;try{if(jo.transition=null,on=1,o)return o()}finally{on=g,jo.transition=h,Pn=a,(Pn&6)===0&&T()}}function jg(){ho=rh.current,On(rh)}function hc(o,a){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,Cd(h)),li!==null)for(h=li.return;h!==null;){var g=h;switch(Ne(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Hc();break;case 3:Oo(),On(us),On(Ai),pf();break;case 5:ff(g);break;case 4:Oo();break;case 13:On(Zn);break;case 19:On(Zn);break;case 10:rr(g.type._context);break;case 22:case 23:jg()}h=h.return}if(Fi=o,li=o=mu(o.current,null),Gi=ho=a,Ei=0,wf=null,Cg=Gd=uc=0,qs=_f=null,Hn!==null){for(a=0;a<Hn.length;a++)if(h=Hn[a],g=h.interleaved,g!==null){h.interleaved=null;var x=g.next,E=h.pending;if(E!==null){var B=E.next;E.next=x,g.next=B}h.pending=g}Hn=null}return o}function Tv(o,a){do{var h=li;try{if(Tn(),Wc.current=Ud,au){for(var g=ir.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}au=!1}if(Mo=0,Cr=Ur=ir=null,oa=!1,lu=0,kg.current=null,h===null||h.return===null){Ei=1,wf=a,li=null;break}e:{var E=o,B=h.return,oe=h,de=a;if(a=Gi,oe.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var De=de,Ke=oe,Je=Ke.tag;if((Ke.mode&1)===0&&(Je===0||Je===11||Je===15)){var We=Ke.alternate;We?(Ke.updateQueue=We.updateQueue,Ke.memoizedState=We.memoizedState,Ke.lanes=We.lanes):(Ke.updateQueue=null,Ke.memoizedState=null)}var rt=X2(B);if(rt!==null){rt.flags&=-257,Q2(rt,B,oe,E,a),rt.mode&1&&J2(E,De,a),a=rt,de=De;var dt=a.updateQueue;if(dt===null){var yt=new Set;yt.add(de),a.updateQueue=yt}else dt.add(de);break e}else{if((a&1)===0){J2(E,De,a),Vg();break e}de=Error(t(426))}}else if(Be&&oe.mode&1){var Kr=X2(B);if(Kr!==null){(Kr.flags&65536)===0&&(Kr.flags|=256),Q2(Kr,B,oe,E,a),et(th(de,oe));break e}}E=de=th(de,oe),Ei!==4&&(Ei=2),_f===null?_f=[E]:_f.push(E),E=B;do{switch(E.tag){case 3:E.flags|=65536,a&=-a,E.lanes|=a;var Ie=K2(E,de,a);Gn(E,Ie);break e;case 1:oe=de;var ge=E.type,Ce=E.stateNode;if((E.flags&128)===0&&(typeof ge.getDerivedStateFromError=="function"||Ce!==null&&typeof Ce.componentDidCatch=="function"&&(hu===null||!hu.has(Ce)))){E.flags|=65536,a&=-a,E.lanes|=a;var Qe=Y2(E,oe,a);Gn(E,Qe);break e}}E=E.return}while(E!==null)}Nv(h)}catch(bt){a=bt,li===h&&h!==null&&(li=h=h.return);continue}break}while(!0)}function Iv(){var o=Wd.current;return Wd.current=Ud,o===null?Ud:o}function Vg(){(Ei===0||Ei===3||Ei===2)&&(Ei=4),Fi===null||(uc&268435455)===0&&(Gd&268435455)===0||pu(Fi,Gi)}function Zd(o,a){var h=Pn;Pn|=2;var g=Iv();(Fi!==o||Gi!==a)&&(Tl=null,hc(o,a));do try{BE();break}catch(x){Tv(o,x)}while(!0);if(Tn(),Pn=h,Wd.current=g,li!==null)throw Error(t(261));return Fi=null,Gi=0,Ei}function BE(){for(;li!==null;)Pv(li)}function zE(){for(;li!==null&&!Go();)Pv(li)}function Pv(o){var a=Rv(o.alternate,o,ho);o.memoizedProps=o.pendingProps,a===null?Nv(o):li=a,kg.current=null}function Nv(o){var a=o;do{var h=a.alternate;if(o=a.return,(a.flags&32768)===0){if(h=DE(h,a,ho),h!==null){li=h;return}}else{if(h=OE(h,a),h!==null){h.flags&=32767,li=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Ei=6,li=null;return}}if(a=a.sibling,a!==null){li=a;return}li=a=o}while(a!==null);Ei===0&&(Ei=5)}function fc(o,a,h){var g=on,x=jo.transition;try{jo.transition=null,on=1,qE(o,a,h,g)}finally{jo.transition=x,on=g}return null}function qE(o,a,h,g){do sh();while(fu!==null);if((Pn&6)!==0)throw Error(t(327));h=o.finishedWork;var x=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var E=h.lanes|h.childLanes;if(fn(o,E),o===Fi&&(li=Fi=null,Gi=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Yd||(Yd=!0,Lv(Ni,function(){return sh(),null})),E=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||E){E=jo.transition,jo.transition=null;var B=on;on=1;var oe=Pn;Pn|=4,kg.current=null,FE(o,h),wv(h,o),Yu(_l),Io=!!rc,_l=rc=null,o.current=h,jE(h),Gu(),Pn=oe,on=B,jo.transition=E}else o.current=h;if(Yd&&(Yd=!1,fu=o,Jd=x),E=o.pendingLanes,E===0&&(hu=null),ol(h.stateNode),$s(o,kn()),a!==null)for(g=o.onRecoverableError,h=0;h<a.length;h++)x=a[h],g(x.value,{componentStack:x.stack,digest:x.digest});if(Kd)throw Kd=!1,o=Lg,Lg=null,o;return(Jd&1)!==0&&o.tag!==0&&sh(),E=o.pendingLanes,(E&1)!==0?o===Dg?bf++:(bf=0,Dg=o):bf=0,T(),null}function sh(){if(fu!==null){var o=Bi(Jd),a=jo.transition,h=on;try{if(jo.transition=null,on=16>o?16:o,fu===null)var g=!1;else{if(o=fu,fu=null,Jd=0,(Pn&6)!==0)throw Error(t(331));var x=Pn;for(Pn|=4,ut=o.current;ut!==null;){var E=ut,B=E.child;if((ut.flags&16)!==0){var oe=E.deletions;if(oe!==null){for(var de=0;de<oe.length;de++){var De=oe[de];for(ut=De;ut!==null;){var Ke=ut;switch(Ke.tag){case 0:case 11:case 15:vf(8,Ke,E)}var Je=Ke.child;if(Je!==null)Je.return=Ke,ut=Je;else for(;ut!==null;){Ke=ut;var We=Ke.sibling,rt=Ke.return;if(pv(Ke),Ke===De){ut=null;break}if(We!==null){We.return=rt,ut=We;break}ut=rt}}}var dt=E.alternate;if(dt!==null){var yt=dt.child;if(yt!==null){dt.child=null;do{var Kr=yt.sibling;yt.sibling=null,yt=Kr}while(yt!==null)}}ut=E}}if((E.subtreeFlags&2064)!==0&&B!==null)B.return=E,ut=B;else e:for(;ut!==null;){if(E=ut,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:vf(9,E,E.return)}var Ie=E.sibling;if(Ie!==null){Ie.return=E.return,ut=Ie;break e}ut=E.return}}var ge=o.current;for(ut=ge;ut!==null;){B=ut;var Ce=B.child;if((B.subtreeFlags&2064)!==0&&Ce!==null)Ce.return=B,ut=Ce;else e:for(B=ge;ut!==null;){if(oe=ut,(oe.flags&2048)!==0)try{switch(oe.tag){case 0:case 11:case 15:Hd(9,oe)}}catch(bt){Br(oe,oe.return,bt)}if(oe===B){ut=null;break e}var Qe=oe.sibling;if(Qe!==null){Qe.return=oe.return,ut=Qe;break e}ut=oe.return}}if(Pn=x,T(),ki&&typeof ki.onPostCommitFiberRoot=="function")try{ki.onPostCommitFiberRoot(So,o)}catch{}g=!0}return g}finally{on=h,jo.transition=a}}return!1}function kv(o,a,h){a=th(h,a),a=K2(o,a,1),o=Nr(o,a,1),a=Rs(),o!==null&&(To(o,1,a),$s(o,a))}function Br(o,a,h){if(o.tag===3)kv(o,o,h);else for(;a!==null;){if(a.tag===3){kv(a,o,h);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(hu===null||!hu.has(g))){o=th(h,o),o=Y2(a,o,1),a=Nr(a,o,1),o=Rs(),a!==null&&(To(a,1,o),$s(a,o));break}}a=a.return}}function $E(o,a,h){var g=o.pingCache;g!==null&&g.delete(a),a=Rs(),o.pingedLanes|=o.suspendedLanes&h,Fi===o&&(Gi&h)===h&&(Ei===4||Ei===3&&(Gi&130023424)===Gi&&500>kn()-Rg?hc(o,0):Cg|=h),$s(o,a)}function Cv(o,a){a===0&&((o.mode&1)===0?a=1:(a=ts,ts<<=1,(ts&130023424)===0&&(ts=4194304)));var h=Rs();o=Wn(o,a),o!==null&&(To(o,a,h),$s(o,h))}function HE(o){var a=o.memoizedState,h=0;a!==null&&(h=a.retryLane),Cv(o,h)}function WE(o,a){var h=0;switch(o.tag){case 13:var g=o.stateNode,x=o.memoizedState;x!==null&&(h=x.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(a),Cv(o,h)}var Rv;Rv=function(o,a,h){if(o!==null)if(o.memoizedProps!==a.pendingProps||us.current)zs=!0;else{if((o.lanes&h)===0&&(a.flags&128)===0)return zs=!1,LE(o,a,h);zs=(o.flags&131072)!==0}else zs=!1,Be&&(a.flags&1048576)!==0&&Ae(a,Y,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;qd(o,a),o=a.pendingProps;var x=su(a,Ai.current);br(a,h),x=oc(null,a,g,o,x,h);var E=Fo();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,cs(g)?(E=!0,Al(a)):E=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Si(a),x.updater=Bd,a.stateNode=x,x._reactInternals=a,gg(a,g,o,h),a=_g(null,a,g,!0,E,h)):(a.tag=0,Be&&E&&Ve(a),Cs(null,a,x,h),a=a.child),a;case 16:g=a.elementType;e:{switch(qd(o,a),o=a.pendingProps,x=g._init,g=x(g._payload),a.type=g,x=a.tag=KE(g),o=la(g,o),x){case 0:a=wg(null,a,g,o,h);break e;case 1:a=iv(null,a,g,o,h);break e;case 11:a=Z2(null,a,g,o,h);break e;case 14:a=ev(null,a,g,la(g.type,o),h);break e}throw Error(t(306,g,""))}return a;case 0:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:la(g,x),wg(o,a,g,x,h);case 1:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:la(g,x),iv(o,a,g,x,h);case 3:e:{if(sv(a),o===null)throw Error(t(387));g=a.pendingProps,E=a.memoizedState,x=E.element,hs(o,a),Mi(a,g,null,h);var B=a.memoizedState;if(g=B.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){x=th(Error(t(423)),a),a=ov(o,a,g,h,x);break e}else if(g!==x){x=th(Error(t(424)),a),a=ov(o,a,g,h,x);break e}else for(je=Hi(a.stateNode.containerInfo.firstChild),Oe=a,Be=!0,ze=null,h=ur(a,null,g,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(at(),g===x){a=El(o,a,h);break e}Cs(o,a,g,h)}a=a.child}return a;case 5:return Od(a),o===null&&ct(a),g=a.type,x=a.pendingProps,E=o!==null?o.memoizedProps:null,B=x.children,af(g,x)?B=null:E!==null&&af(g,E)&&(a.flags|=32),rv(o,a),Cs(o,a,B,h),a.child;case 6:return o===null&&ct(a),null;case 13:return av(o,a,h);case 4:return ou(a,a.stateNode.containerInfo),g=a.pendingProps,o===null?a.child=jr(a,null,g,h):Cs(o,a,g,h),a.child;case 11:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:la(g,x),Z2(o,a,g,x,h);case 7:return Cs(o,a,a.pendingProps,h),a.child;case 8:return Cs(o,a,a.pendingProps.children,h),a.child;case 12:return Cs(o,a,a.pendingProps.children,h),a.child;case 10:e:{if(g=a.type._context,x=a.pendingProps,E=a.memoizedProps,B=x.value,Un(Wr,g._currentValue),g._currentValue=B,E!==null)if(vr(E.value,B)){if(E.children===x.children&&!us.current){a=El(o,a,h);break e}}else for(E=a.child,E!==null&&(E.return=a);E!==null;){var oe=E.dependencies;if(oe!==null){B=E.child;for(var de=oe.firstContext;de!==null;){if(de.context===g){if(E.tag===1){de=Pr(-1,h&-h),de.tag=2;var De=E.updateQueue;if(De!==null){De=De.shared;var Ke=De.pending;Ke===null?de.next=de:(de.next=Ke.next,Ke.next=de),De.pending=de}}E.lanes|=h,de=E.alternate,de!==null&&(de.lanes|=h),In(E.return,h,a),oe.lanes|=h;break}de=de.next}}else if(E.tag===10)B=E.type===a.type?null:E.child;else if(E.tag===18){if(B=E.return,B===null)throw Error(t(341));B.lanes|=h,oe=B.alternate,oe!==null&&(oe.lanes|=h),In(B,h,a),B=E.sibling}else B=E.child;if(B!==null)B.return=E;else for(B=E;B!==null;){if(B===a){B=null;break}if(E=B.sibling,E!==null){E.return=B.return,B=E;break}B=B.return}E=B}Cs(o,a,x.children,h),a=a.child}return a;case 9:return x=a.type,g=a.pendingProps.children,br(a,h),x=xr(x),g=g(x),a.flags|=1,Cs(o,a,g,h),a.child;case 14:return g=a.type,x=la(g,a.pendingProps),x=la(g.type,x),ev(o,a,g,x,h);case 15:return tv(o,a,a.type,a.pendingProps,h);case 17:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:la(g,x),qd(o,a),a.tag=1,cs(g)?(o=!0,Al(a)):o=!1,br(a,h),W2(a,g,x),gg(a,g,x,h),_g(null,a,g,!0,o,h);case 19:return uv(o,a,h);case 22:return nv(o,a,h)}throw Error(t(156,a.tag))};function Lv(o,a){return Qs(o,a)}function GE(o,a,h,g){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vo(o,a,h,g){return new GE(o,a,h,g)}function Ug(o){return o=o.prototype,!(!o||!o.isReactComponent)}function KE(o){if(typeof o=="function")return Ug(o)?1:0;if(o!=null){if(o=o.$$typeof,o===F)return 11;if(o===Pe)return 14}return 2}function mu(o,a){var h=o.alternate;return h===null?(h=Vo(o.tag,a,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=a,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,a=o.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function ep(o,a,h,g,x,E){var B=2;if(g=o,typeof o=="function")Ug(o)&&(B=1);else if(typeof o=="string")B=5;else e:switch(o){case q:return dc(h.children,x,E,a);case R:B=8,x|=8;break;case k:return o=Vo(12,h,a,x|2),o.elementType=k,o.lanes=E,o;case O:return o=Vo(13,h,a,x),o.elementType=O,o.lanes=E,o;case ae:return o=Vo(19,h,a,x),o.elementType=ae,o.lanes=E,o;case xe:return tp(h,x,E,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case U:B=10;break e;case P:B=9;break e;case F:B=11;break e;case Pe:B=14;break e;case Le:B=16,g=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return a=Vo(B,h,a,x),a.elementType=o,a.type=g,a.lanes=E,a}function dc(o,a,h,g){return o=Vo(7,o,g,a),o.lanes=h,o}function tp(o,a,h,g){return o=Vo(22,o,g,a),o.elementType=xe,o.lanes=h,o.stateNode={isHidden:!1},o}function Bg(o,a,h){return o=Vo(6,o,null,a),o.lanes=h,o}function zg(o,a,h){return a=Vo(4,o.children!==null?o.children:[],o.key,a),a.lanes=h,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function YE(o,a,h,g,x){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eo(0),this.expirationTimes=Eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eo(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function qg(o,a,h,g,x,E,B,oe,de){return o=new YE(o,a,h,oe,de),a===1?(a=1,E===!0&&(a|=8)):a=0,E=Vo(3,null,null,a),o.current=E,E.stateNode=o,E.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Si(E),o}function JE(o,a,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pe,key:g==null?null:""+g,children:o,containerInfo:a,implementation:h}}function Dv(o){if(!o)return Oa;o=o._reactInternals;e:{if(Er(o)!==o||o.tag!==1)throw Error(t(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(cs(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(o.tag===1){var h=o.type;if(cs(h))return hf(o,h,a)}return a}function Ov(o,a,h,g,x,E,B,oe,de){return o=qg(h,g,!0,o,x,E,B,oe,de),o.context=Dv(null),h=o.current,g=Rs(),x=du(h),E=Pr(g,x),E.callback=a??null,Nr(h,E,x),o.current.lanes=x,To(o,x,g),$s(o,g),o}function np(o,a,h,g){var x=a.current,E=Rs(),B=du(x);return h=Dv(h),a.context===null?a.context=h:a.pendingContext=h,a=Pr(E,B),a.payload={element:o},g=g===void 0?null:g,g!==null&&(a.callback=g),o=Nr(x,a,B),o!==null&&(ha(o,x,B,E),Oi(o,x,B)),B}function rp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Mv(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<a?h:a}}function $g(o,a){Mv(o,a),(o=o.alternate)&&Mv(o,a)}function XE(){return null}var Fv=typeof reportError=="function"?reportError:function(o){console.error(o)};function Hg(o){this._internalRoot=o}ip.prototype.render=Hg.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(t(409));np(o,a,null,null)},ip.prototype.unmount=Hg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;cc(function(){np(null,o,null,null)}),a[Li]=null}};function ip(o){this._internalRoot=o}ip.prototype.unstable_scheduleHydration=function(o){if(o){var a=Hl();o={blockedOn:null,target:o,priority:a};for(var h=0;h<Ds.length&&a!==0&&a<Ds[h].priority;h++);Ds.splice(h,0,o),h===0&&Gl(o)}};function Wg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function sp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function jv(){}function QE(o,a,h,g,x){if(x){if(typeof g=="function"){var E=g;g=function(){var De=rp(B);E.call(De)}}var B=Ov(a,g,o,0,null,!1,!1,"",jv);return o._reactRootContainer=B,o[Li]=B.current,vl(o.nodeType===8?o.parentNode:o),cc(),B}for(;x=o.lastChild;)o.removeChild(x);if(typeof g=="function"){var oe=g;g=function(){var De=rp(de);oe.call(De)}}var de=qg(o,0,!1,null,null,!1,!1,"",jv);return o._reactRootContainer=de,o[Li]=de.current,vl(o.nodeType===8?o.parentNode:o),cc(function(){np(a,de,h,g)}),de}function op(o,a,h,g,x){var E=h._reactRootContainer;if(E){var B=E;if(typeof x=="function"){var oe=x;x=function(){var de=rp(B);oe.call(de)}}np(a,B,o,x)}else B=QE(h,a,o,x,g);return rp(B)}Aa=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var h=ns(a.pendingLanes);h!==0&&(Zs(a,h|1),$s(a,kn()),(Pn&6)===0&&(ih=kn()+500,T()))}break;case 13:cc(function(){var g=Wn(o,1);if(g!==null){var x=Rs();ha(g,o,1,x)}}),$g(o,1)}},Sa=function(o){if(o.tag===13){var a=Wn(o,134217728);if(a!==null){var h=Rs();ha(a,o,134217728,h)}$g(o,134217728)}},$l=function(o){if(o.tag===13){var a=du(o),h=Wn(o,a);if(h!==null){var g=Rs();ha(h,o,a,g)}$g(o,a)}},Hl=function(){return on},Ea=function(o,a){var h=on;try{return on=o,a()}finally{on=h}},Jn=function(o,a,h){switch(a){case"input":if(zt(o,h),a=h.name,h.type==="radio"&&a!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<h.length;a++){var g=h[a];if(g!==o&&g.form===o.form){var x=ic(g);if(!x)throw Error(t(90));nt(g),zt(g,x)}}}break;case"textarea":cn(o,h);break;case"select":a=h.value,a!=null&&Ze(o,!!h.multiple,a,!1)}},fr=Fg,Ss=cc;var ZE={usingClientEntryPoint:!1,Events:[iu,bl,ic,rn,Js,Fg]},xf={findFiberByHostInstance:Da,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eT={bundleType:xf.bundleType,version:xf.version,rendererPackageName:xf.rendererPackageName,rendererConfig:xf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=es(o),o===null?null:o.stateNode},findFiberByHostInstance:xf.findFiberByHostInstance||XE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ap=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ap.isDisabled&&ap.supportsFiber)try{So=ap.inject(eT),ki=ap}catch{}}return Hs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZE,Hs.createPortal=function(o,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wg(a))throw Error(t(200));return JE(o,a,null,h)},Hs.createRoot=function(o,a){if(!Wg(o))throw Error(t(299));var h=!1,g="",x=Fv;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=qg(o,1,!1,null,null,h,!1,g,x),o[Li]=a.current,vl(o.nodeType===8?o.parentNode:o),new Hg(a)},Hs.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=es(a),o=o===null?null:o.stateNode,o},Hs.flushSync=function(o){return cc(o)},Hs.hydrate=function(o,a,h){if(!sp(a))throw Error(t(200));return op(null,o,a,!0,h)},Hs.hydrateRoot=function(o,a,h){if(!Wg(o))throw Error(t(405));var g=h!=null&&h.hydratedSources||null,x=!1,E="",B=Fv;if(h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onRecoverableError!==void 0&&(B=h.onRecoverableError)),a=Ov(a,null,o,1,h??null,x,!1,E,B),o[Li]=a.current,vl(o),g)for(o=0;o<g.length;o++)h=g[o],x=h._getVersion,x=x(h._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[h,x]:a.mutableSourceEagerHydrationData.push(h,x);return new ip(a)},Hs.render=function(o,a,h){if(!sp(a))throw Error(t(200));return op(null,o,a,!1,h)},Hs.unmountComponentAtNode=function(o){if(!sp(o))throw Error(t(40));return o._reactRootContainer?(cc(function(){op(null,null,o,!1,function(){o._reactRootContainer=null,o[Li]=null})}),!0):!1},Hs.unstable_batchedUpdates=Fg,Hs.unstable_renderSubtreeIntoContainer=function(o,a,h,g){if(!sp(h))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return op(o,a,h,!1,g)},Hs.version="18.3.1-next-f1338f8080-20240426",Hs}var Wv;function cT(){if(Wv)return Yg.exports;Wv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yg.exports=uT(),Yg.exports}var Gv;function hT(){if(Gv)return lp;Gv=1;var n=cT();return lp.createRoot=n.createRoot,lp.hydrateRoot=n.hydrateRoot,lp}var fT=hT();/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Kv="popstate";function dT(n={}){function e(r,i){let{pathname:s,search:l,hash:u}=r.location;return W0("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Gf(i)}return mT(e,t,null,n)}function Sr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ho(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pT(){return Math.random().toString(36).substring(2,10)}function Yv(n,e){return{usr:n.state,key:n.key,idx:e}}function W0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Uh(e):e,state:t,key:e&&e.key||r||pT()}}function Gf({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Uh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function mT(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u="POP",c=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function w(){u="POP";let N=p(),L=N==null?null:N-f;f=N,c&&c({action:u,location:I.location,delta:L})}function _(N,L){u="PUSH";let K=W0(I.location,N,L);f=p()+1;let W=Yv(K,f),G=I.createHref(K);try{l.pushState(W,"",G)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;i.location.assign(G)}s&&c&&c({action:u,location:I.location,delta:1})}function v(N,L){u="REPLACE";let K=W0(I.location,N,L);f=p();let W=Yv(K,f),G=I.createHref(K);l.replaceState(W,"",G),s&&c&&c({action:u,location:I.location,delta:0})}function C(N){return gT(N)}let I={get action(){return u},get location(){return n(i,l)},listen(N){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Kv,w),c=N,()=>{i.removeEventListener(Kv,w),c=null}},createHref(N){return e(i,N)},createURL:C,encodeLocation(N){let L=C(N);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:_,replace:v,go(N){return l.go(N)}};return I}function gT(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Sr(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Gf(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function ox(n,e,t="/"){return yT(n,e,t,!1)}function yT(n,e,t,r){let i=typeof e=="string"?Uh(e):e,s=Fl(i.pathname||"/",t);if(s==null)return null;let l=ax(n);vT(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let f=NT(s);u=IT(l[c],f,r)}return u}function ax(n,e=[],t=[],r="",i=!1){let s=(l,u,c=i,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&c)return;Sr(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let w=Dl([r,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(Sr(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),ax(l.children,e,_,w,c)),!(l.path==null&&!l.index)&&e.push({path:w,score:ET(w,l.index),routesMeta:_})};return n.forEach((l,u)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))s(l,u);else for(let f of lx(l.path))s(l,u,!0,f)}),e}function lx(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=lx(r.join("/")),u=[];return u.push(...l.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...l),u.map(c=>n.startsWith("/")&&c===""?"/":c)}function vT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:TT(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var wT=/^:[\w-]+$/,_T=3,bT=2,xT=1,AT=10,ST=-2,Jv=n=>n==="*";function ET(n,e){let t=n.split("/"),r=t.length;return t.some(Jv)&&(r+=ST),e&&(r+=bT),t.filter(i=>!Jv(i)).reduce((i,s)=>i+(wT.test(s)?_T:s===""?xT:AT),r)}function TT(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function IT(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",l=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",w=Yp({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},p),_=c.route;if(!w&&f&&t&&!r[r.length-1].route.index&&(w=Yp({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!w)return null;Object.assign(i,w.params),l.push({params:i,pathname:Dl([s,w.pathname]),pathnameBase:DT(Dl([s,w.pathnameBase])),route:_}),w.pathnameBase!=="/"&&(s=Dl([s,w.pathnameBase]))}return l}function Yp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=PT(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:w},_)=>{if(p==="*"){let C=u[_]||"";l=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const v=u[_];return w&&!v?f[p]=void 0:f[p]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:n}}function PT(n,e=!1,t=!0){Ho(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function NT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ho(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Fl(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var kT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CT=n=>kT.test(n);function RT(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Uh(n):n,s;if(t)if(CT(t))s=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),Ho(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${t}`)}t.startsWith("/")?s=Xv(t.substring(1),"/"):s=Xv(t,e)}else s=e;return{pathname:s,search:OT(r),hash:MT(i)}}function Xv(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Qg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function X1(n){let e=LT(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Q1(n,e,t,r=!1){let i;typeof n=="string"?i=Uh(n):(i={...n},Sr(!i.pathname||!i.pathname.includes("?"),Qg("?","pathname","search",i)),Sr(!i.pathname||!i.pathname.includes("#"),Qg("#","pathname","hash",i)),Sr(!i.search||!i.search.includes("#"),Qg("#","search","hash",i)));let s=n===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=t;else{let w=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),w-=1;i.pathname=_.join("/")}u=w>=0?e[w]:"/"}let c=RT(i,u),f=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(f||p)&&(c.pathname+="/"),c}var Dl=n=>n.join("/").replace(/\/\/+/g,"/"),DT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),OT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,MT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function FT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ux=["POST","PUT","PATCH","DELETE"];new Set(ux);var jT=["GET",...ux];new Set(jT);var Bh=ye.createContext(null);Bh.displayName="DataRouter";var Nm=ye.createContext(null);Nm.displayName="DataRouterState";ye.createContext(!1);var cx=ye.createContext({isTransitioning:!1});cx.displayName="ViewTransition";var VT=ye.createContext(new Map);VT.displayName="Fetchers";var UT=ye.createContext(null);UT.displayName="Await";var ya=ye.createContext(null);ya.displayName="Navigation";var cd=ye.createContext(null);cd.displayName="Location";var va=ye.createContext({outlet:null,matches:[],isDataRoute:!1});va.displayName="Route";var Z1=ye.createContext(null);Z1.displayName="RouteError";function BT(n,{relative:e}={}){Sr(zh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=ye.useContext(ya),{hash:i,pathname:s,search:l}=hd(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:Dl([t,s])),r.createHref({pathname:u,search:l,hash:i})}function zh(){return ye.useContext(cd)!=null}function qu(){return Sr(zh(),"useLocation() may be used only in the context of a <Router> component."),ye.useContext(cd).location}var hx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fx(n){ye.useContext(ya).static||ye.useLayoutEffect(n)}function ql(){let{isDataRoute:n}=ye.useContext(va);return n?e6():zT()}function zT(){Sr(zh(),"useNavigate() may be used only in the context of a <Router> component.");let n=ye.useContext(Bh),{basename:e,navigator:t}=ye.useContext(ya),{matches:r}=ye.useContext(va),{pathname:i}=qu(),s=JSON.stringify(X1(r)),l=ye.useRef(!1);return fx(()=>{l.current=!0}),ye.useCallback((c,f={})=>{if(Ho(l.current,hx),!l.current)return;if(typeof c=="number"){t.go(c);return}let p=Q1(c,JSON.parse(s),i,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Dl([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,s,i,n])}ye.createContext(null);function dx(){let{matches:n}=ye.useContext(va),e=n[n.length-1];return e?e.params:{}}function hd(n,{relative:e}={}){let{matches:t}=ye.useContext(va),{pathname:r}=qu(),i=JSON.stringify(X1(t));return ye.useMemo(()=>Q1(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function qT(n,e){return px(n,e)}function px(n,e,t,r,i){var K;Sr(zh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=ye.useContext(ya),{matches:l}=ye.useContext(va),u=l[l.length-1],c=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",w=u&&u.route;{let W=w&&w.path||"";mx(f,!w||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let _=qu(),v;if(e){let W=typeof e=="string"?Uh(e):e;Sr(p==="/"||((K=W.pathname)==null?void 0:K.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${W.pathname}" was given in the \`location\` prop.`),v=W}else v=_;let C=v.pathname||"/",I=C;if(p!=="/"){let W=p.replace(/^\//,"").split("/");I="/"+C.replace(/^\//,"").split("/").slice(W.length).join("/")}let N=ox(n,{pathname:I});Ho(w||N!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ho(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=KT(N&&N.map(W=>Object.assign({},W,{params:Object.assign({},c,W.params),pathname:Dl([p,s.encodeLocation?s.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?p:Dl([p,s.encodeLocation?s.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),l,t,r,i);return e&&L?ye.createElement(cd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},L):L}function $T(){let n=ZT(),e=FT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=ye.createElement(ye.Fragment,null,ye.createElement("p",null," Hey developer "),ye.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ye.createElement("code",{style:s},"ErrorBoundary")," or"," ",ye.createElement("code",{style:s},"errorElement")," prop on your route.")),ye.createElement(ye.Fragment,null,ye.createElement("h2",null,"Unexpected Application Error!"),ye.createElement("h3",{style:{fontStyle:"italic"}},e),t?ye.createElement("pre",{style:i},t):null,l)}var HT=ye.createElement($T,null),WT=class extends ye.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?ye.createElement(va.Provider,{value:this.props.routeContext},ye.createElement(Z1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GT({routeContext:n,match:e,children:t}){let r=ye.useContext(Bh);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ye.createElement(va.Provider,{value:n},t)}function KT(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t==null?void 0:t.errors;if(l!=null){let p=s.findIndex(w=>w.route.id&&(l==null?void 0:l[w.route.id])!==void 0);Sr(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let u=!1,c=-1;if(t)for(let p=0;p<s.length;p++){let w=s[p];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(c=p),w.route.id){let{loaderData:_,errors:v}=t,C=w.route.loader&&!_.hasOwnProperty(w.route.id)&&(!v||v[w.route.id]===void 0);if(w.route.lazy||C){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}let f=t&&r?(p,w)=>{var _,v;r(p,{location:t.location,params:((v=(_=t.matches)==null?void 0:_[0])==null?void 0:v.params)??{},errorInfo:w})}:void 0;return s.reduceRight((p,w,_)=>{let v,C=!1,I=null,N=null;t&&(v=l&&w.route.id?l[w.route.id]:void 0,I=w.route.errorElement||HT,u&&(c<0&&_===0?(mx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,N=null):c===_&&(C=!0,N=w.route.hydrateFallbackElement||null)));let L=e.concat(s.slice(0,_+1)),K=()=>{let W;return v?W=I:C?W=N:w.route.Component?W=ye.createElement(w.route.Component,null):w.route.element?W=w.route.element:W=p,ye.createElement(GT,{match:w,routeContext:{outlet:p,matches:L,isDataRoute:t!=null},children:W})};return t&&(w.route.ErrorBoundary||w.route.errorElement||_===0)?ye.createElement(WT,{location:t.location,revalidation:t.revalidation,component:I,error:v,children:K(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:f}):K()},null)}function ey(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YT(n){let e=ye.useContext(Bh);return Sr(e,ey(n)),e}function JT(n){let e=ye.useContext(Nm);return Sr(e,ey(n)),e}function XT(n){let e=ye.useContext(va);return Sr(e,ey(n)),e}function ty(n){let e=XT(n),t=e.matches[e.matches.length-1];return Sr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function QT(){return ty("useRouteId")}function ZT(){var r;let n=ye.useContext(Z1),e=JT("useRouteError"),t=ty("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function e6(){let{router:n}=YT("useNavigate"),e=ty("useNavigate"),t=ye.useRef(!1);return fx(()=>{t.current=!0}),ye.useCallback(async(i,s={})=>{Ho(t.current,hx),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var Qv={};function mx(n,e,t){!e&&!Qv[n]&&(Qv[n]=!0,Ho(!1,t))}ye.memo(t6);function t6({routes:n,future:e,state:t,unstable_onError:r}){return px(n,void 0,t,r,e)}function n6({to:n,replace:e,state:t,relative:r}){Sr(zh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=ye.useContext(ya);Ho(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=ye.useContext(va),{pathname:l}=qu(),u=ql(),c=Q1(n,X1(s),l,r==="path"),f=JSON.stringify(c);return ye.useEffect(()=>{u(JSON.parse(f),{replace:e,state:t,relative:r})},[u,f,r,e,t]),null}function Nl(n){Sr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function r6({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){Sr(!zh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=ye.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof t=="string"&&(t=Uh(t));let{pathname:c="/",search:f="",hash:p="",state:w=null,key:_="default"}=t,v=ye.useMemo(()=>{let C=Fl(c,l);return C==null?null:{location:{pathname:C,search:f,hash:p,state:w,key:_},navigationType:r}},[l,c,f,p,w,_,r]);return Ho(v!=null,`<Router basename="${l}"> is not able to match the URL "${c}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:ye.createElement(ya.Provider,{value:u},ye.createElement(cd.Provider,{children:e,value:v}))}function i6({children:n,location:e}){return qT(G0(n),e)}function G0(n,e=[]){let t=[];return ye.Children.forEach(n,(r,i)=>{if(!ye.isValidElement(r))return;let s=[...e,i];if(r.type===ye.Fragment){t.push.apply(t,G0(r.props.children,s));return}Sr(r.type===Nl,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Sr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=G0(r.props.children,s)),t.push(l)}),t}var Pp="get",Np="application/x-www-form-urlencoded";function km(n){return n!=null&&typeof n.tagName=="string"}function s6(n){return km(n)&&n.tagName.toLowerCase()==="button"}function o6(n){return km(n)&&n.tagName.toLowerCase()==="form"}function a6(n){return km(n)&&n.tagName.toLowerCase()==="input"}function l6(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function u6(n,e){return n.button===0&&(!e||e==="_self")&&!l6(n)}var up=null;function c6(){if(up===null)try{new FormData(document.createElement("form"),0),up=!1}catch{up=!0}return up}var h6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zg(n){return n!=null&&!h6.has(n)?(Ho(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Np}"`),null):n}function f6(n,e){let t,r,i,s,l;if(o6(n)){let u=n.getAttribute("action");r=u?Fl(u,e):null,t=n.getAttribute("method")||Pp,i=Zg(n.getAttribute("enctype"))||Np,s=new FormData(n)}else if(s6(n)||a6(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||u.getAttribute("action");if(r=c?Fl(c,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Pp,i=Zg(n.getAttribute("formenctype"))||Zg(u.getAttribute("enctype"))||Np,s=new FormData(u,n),!c6()){let{name:f,type:p,value:w}=n;if(p==="image"){let _=f?`${f}.`:"";s.append(`${_}x`,"0"),s.append(`${_}y`,"0")}else f&&s.append(f,w)}}else{if(km(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Pp,r=null,i=Np,l=n}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ny(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function d6(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Fl(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function p6(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m6(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function g6(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await p6(s,t);return l.links?l.links():[]}return[]}));return _6(r.flat(1).filter(m6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Zv(n,e,t,r,i,s){let l=(c,f)=>t[f]?c.route.id!==t[f].route.id:!0,u=(c,f)=>{var p;return t[f].pathname!==c.pathname||((p=t[f].route.path)==null?void 0:p.endsWith("*"))&&t[f].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,f)=>l(c,f)||u(c,f)):s==="data"?e.filter((c,f)=>{var w;let p=r.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(l(c,f)||u(c,f))return!0;if(c.route.shouldRevalidate){let _=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function y6(n,e,{includeHydrateFallback:t}={}){return v6(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function v6(n){return[...new Set(n)]}function w6(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function _6(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(w6(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function gx(){let n=ye.useContext(Bh);return ny(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function b6(){let n=ye.useContext(Nm);return ny(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ry=ye.createContext(void 0);ry.displayName="FrameworkContext";function yx(){let n=ye.useContext(ry);return ny(n,"You must render this element inside a <HydratedRouter> element"),n}function x6(n,e){let t=ye.useContext(ry),[r,i]=ye.useState(!1),[s,l]=ye.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:f,onMouseLeave:p,onTouchStart:w}=e,_=ye.useRef(null);ye.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let I=L=>{L.forEach(K=>{l(K.isIntersecting)})},N=new IntersectionObserver(I,{threshold:.5});return _.current&&N.observe(_.current),()=>{N.disconnect()}}},[n]),ye.useEffect(()=>{if(r){let I=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(I)}}},[r]);let v=()=>{i(!0)},C=()=>{i(!1),l(!1)};return t?n!=="intent"?[s,_,{}]:[s,_,{onFocus:Sf(u,v),onBlur:Sf(c,C),onMouseEnter:Sf(f,v),onMouseLeave:Sf(p,C),onTouchStart:Sf(w,v)}]:[!1,_,{}]}function Sf(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function A6({page:n,...e}){let{router:t}=gx(),r=ye.useMemo(()=>ox(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?ye.createElement(E6,{page:n,matches:r,...e}):null}function S6(n){let{manifest:e,routeModules:t}=yx(),[r,i]=ye.useState([]);return ye.useEffect(()=>{let s=!1;return g6(n,e,t).then(l=>{s||i(l)}),()=>{s=!0}},[n,e,t]),r}function E6({page:n,matches:e,...t}){let r=qu(),{manifest:i,routeModules:s}=yx(),{basename:l}=gx(),{loaderData:u,matches:c}=b6(),f=ye.useMemo(()=>Zv(n,e,c,i,r,"data"),[n,e,c,i,r]),p=ye.useMemo(()=>Zv(n,e,c,i,r,"assets"),[n,e,c,i,r]),w=ye.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,I=!1;if(e.forEach(L=>{var W;let K=i.routes[L.route.id];!K||!K.hasLoader||(!f.some(G=>G.route.id===L.route.id)&&L.route.id in u&&((W=s[L.route.id])!=null&&W.shouldRevalidate)||K.hasClientLoader?I=!0:C.add(L.route.id))}),C.size===0)return[];let N=d6(n,l,"data");return I&&C.size>0&&N.searchParams.set("_routes",e.filter(L=>C.has(L.route.id)).map(L=>L.route.id).join(",")),[N.pathname+N.search]},[l,u,r,i,f,e,n,s]),_=ye.useMemo(()=>y6(p,i),[p,i]),v=S6(p);return ye.createElement(ye.Fragment,null,w.map(C=>ye.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),_.map(C=>ye.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),v.map(({key:C,link:I})=>ye.createElement("link",{key:C,nonce:t.nonce,...I})))}function T6(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var vx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vx&&(window.__reactRouterVersion="7.9.6")}catch{}function I6({basename:n,children:e,window:t}){let r=ye.useRef();r.current==null&&(r.current=dT({window:t,v5Compat:!0}));let i=r.current,[s,l]=ye.useState({action:i.action,location:i.location}),u=ye.useCallback(c=>{ye.startTransition(()=>l(c))},[l]);return ye.useLayoutEffect(()=>i.listen(u),[i,u]),ye.createElement(r6,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var wx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_x=ye.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:u,target:c,to:f,preventScrollReset:p,viewTransition:w,..._},v){let{basename:C}=ye.useContext(ya),I=typeof f=="string"&&wx.test(f),N,L=!1;if(typeof f=="string"&&I&&(N=f,vx))try{let k=new URL(window.location.href),U=f.startsWith("//")?new URL(k.protocol+f):new URL(f),P=Fl(U.pathname,C);U.origin===k.origin&&P!=null?f=P+U.search+U.hash:L=!0}catch{Ho(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=BT(f,{relative:i}),[W,G,ie]=x6(r,_),pe=C6(f,{replace:l,state:u,target:c,preventScrollReset:p,relative:i,viewTransition:w});function q(k){e&&e(k),k.defaultPrevented||pe(k)}let R=ye.createElement("a",{..._,...ie,href:N||K,onClick:L||s?e:q,ref:T6(v,G),target:c,"data-discover":!I&&t==="render"?"true":void 0});return W&&!I?ye.createElement(ye.Fragment,null,R,ye.createElement(A6,{page:K})):R});_x.displayName="Link";var P6=ye.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:u,children:c,...f},p){let w=hd(l,{relative:f.relative}),_=qu(),v=ye.useContext(Nm),{navigator:C,basename:I}=ye.useContext(ya),N=v!=null&&M6(w)&&u===!0,L=C.encodeLocation?C.encodeLocation(w).pathname:w.pathname,K=_.pathname,W=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(K=K.toLowerCase(),W=W?W.toLowerCase():null,L=L.toLowerCase()),W&&I&&(W=Fl(W,I)||W);const G=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let ie=K===L||!i&&K.startsWith(L)&&K.charAt(G)==="/",pe=W!=null&&(W===L||!i&&W.startsWith(L)&&W.charAt(L.length)==="/"),q={isActive:ie,isPending:pe,isTransitioning:N},R=ie?e:void 0,k;typeof r=="function"?k=r(q):k=[r,ie?"active":null,pe?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let U=typeof s=="function"?s(q):s;return ye.createElement(_x,{...f,"aria-current":R,className:k,ref:p,style:U,to:l,viewTransition:u},typeof c=="function"?c(q):c)});P6.displayName="NavLink";var N6=ye.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:l=Pp,action:u,onSubmit:c,relative:f,preventScrollReset:p,viewTransition:w,..._},v)=>{let C=D6(),I=O6(u,{relative:f}),N=l.toLowerCase()==="get"?"get":"post",L=typeof u=="string"&&wx.test(u),K=W=>{if(c&&c(W),W.defaultPrevented)return;W.preventDefault();let G=W.nativeEvent.submitter,ie=(G==null?void 0:G.getAttribute("formmethod"))||l;C(G||W.currentTarget,{fetcherKey:e,method:ie,navigate:t,replace:i,state:s,relative:f,preventScrollReset:p,viewTransition:w})};return ye.createElement("form",{ref:v,method:N,action:I,onSubmit:r?c:K,..._,"data-discover":!L&&n==="render"?"true":void 0})});N6.displayName="Form";function k6(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bx(n){let e=ye.useContext(Bh);return Sr(e,k6(n)),e}function C6(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let u=ql(),c=qu(),f=hd(n,{relative:s});return ye.useCallback(p=>{if(u6(p,e)){p.preventDefault();let w=t!==void 0?t:Gf(c)===Gf(f);u(n,{replace:w,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[c,u,f,t,r,e,n,i,s,l])}var R6=0,L6=()=>`__${String(++R6)}__`;function D6(){let{router:n}=bx("useSubmit"),{basename:e}=ye.useContext(ya),t=QT();return ye.useCallback(async(r,i={})=>{let{action:s,method:l,encType:u,formData:c,body:f}=f6(r,e);if(i.navigate===!1){let p=i.fetcherKey||L6();await n.fetch(p,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function O6(n,{relative:e}={}){let{basename:t}=ye.useContext(ya),r=ye.useContext(va);Sr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...hd(n||".",{relative:e})},l=qu();if(n==null){s.search=l.search;let u=new URLSearchParams(s.search),c=u.getAll("index");if(c.some(p=>p==="")){u.delete("index"),c.filter(w=>w).forEach(w=>u.append("index",w));let p=u.toString();s.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Dl([t,s.pathname])),Gf(s)}function M6(n,{relative:e}={}){let t=ye.useContext(cx);Sr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bx("useViewTransitionState"),i=hd(n,{relative:e});if(!t.isTransitioning)return!1;let s=Fl(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Fl(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Yp(i.pathname,l)!=null||Yp(i.pathname,s)!=null}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xx=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=ye.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...u},c)=>ye.createElement("svg",{ref:c,...j6,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:xx("lucide",i),...u},[...l.map(([f,p])=>ye.createElement(f,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=(n,e)=>{const t=ye.forwardRef(({className:r,...i},s)=>ye.createElement(V6,{ref:s,iconNode:e,className:xx(`lucide-${F6(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=ei("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=ei("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=ei("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=ei("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=ei("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=ei("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=ei("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=ei("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=ei("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=ei("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=ei("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=ei("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=ei("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=ei("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=ei("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=ei("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=ei("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=ei("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=ei("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=ei("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=ei("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Tx=ye.createContext({});function Q6(n){const e=ye.useRef(null);return e.current===null&&(e.current=n()),e.current}const oy=ye.createContext(null),Ix=ye.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Z6(n=!0){const e=ye.useContext(oy);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,s=ye.useId();ye.useEffect(()=>{n&&i(s)},[n]);const l=ye.useCallback(()=>n&&r&&r(s),[s,r,n]);return!t&&r?[!1,l]:[!0]}const ay=typeof window<"u",eI=ay?ye.useLayoutEffect:ye.useEffect,vo=n=>n;let Px=vo;function ly(n){let e;return()=>(e===void 0&&(e=n()),e)}const kh=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Ol=n=>n*1e3,Ml=n=>n/1e3,tI={useManualTiming:!1};function nI(n){let e=new Set,t=new Set,r=!1,i=!1;const s=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(f){s.has(f)&&(c.schedule(f),n()),f(l)}const c={schedule:(f,p=!1,w=!1)=>{const v=w&&r?e:t;return p&&s.add(f),v.has(f)||v.add(f),f},cancel:f=>{t.delete(f),s.delete(f)},process:f=>{if(l=f,r){i=!0;return}r=!0,[e,t]=[t,e],e.forEach(u),e.clear(),r=!1,i&&(i=!1,c.process(f))}};return c}const cp=["read","resolveKeyframes","update","preRender","render","postRender"],rI=40;function Nx(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,l=cp.reduce((L,K)=>(L[K]=nI(s),L),{}),{read:u,resolveKeyframes:c,update:f,preRender:p,render:w,postRender:_}=l,v=()=>{const L=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(L-i.timestamp,rI),1),i.timestamp=L,i.isProcessing=!0,u.process(i),c.process(i),f.process(i),p.process(i),w.process(i),_.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(v))},C=()=>{t=!0,r=!0,i.isProcessing||n(v)};return{schedule:cp.reduce((L,K)=>{const W=l[K];return L[K]=(G,ie=!1,pe=!1)=>(t||C(),W.schedule(G,ie,pe)),L},{}),cancel:L=>{for(let K=0;K<cp.length;K++)l[cp[K]].cancel(L)},state:i,steps:l}}const{schedule:hr,cancel:Cu,state:Ki,steps:e0}=Nx(typeof requestAnimationFrame<"u"?requestAnimationFrame:vo,!0),kx=ye.createContext({strict:!1}),n5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ch={};for(const n in n5)Ch[n]={isEnabled:e=>n5[n].some(t=>!!e[t])};function iI(n){for(const e in n)Ch[e]={...Ch[e],...n[e]}}const sI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jp(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||sI.has(n)}let Cx=n=>!Jp(n);function oI(n){n&&(Cx=e=>e.startsWith("on")?!Jp(e):n(e))}try{oI(require("@emotion/is-prop-valid").default)}catch{}function aI(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(Cx(i)||t===!0&&Jp(i)||!e&&!Jp(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function lI(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const Cm=ye.createContext({});function Kf(n){return typeof n=="string"||Array.isArray(n)}function Rm(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const uy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cy=["initial",...uy];function Lm(n){return Rm(n.animate)||cy.some(e=>Kf(n[e]))}function Rx(n){return!!(Lm(n)||n.variants)}function uI(n,e){if(Lm(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Kf(t)?t:void 0,animate:Kf(r)?r:void 0}}return n.inherit!==!1?e:{}}function cI(n){const{initial:e,animate:t}=uI(n,ye.useContext(Cm));return ye.useMemo(()=>({initial:e,animate:t}),[r5(e),r5(t)])}function r5(n){return Array.isArray(n)?n.join(" "):n}const hI=Symbol.for("motionComponentSymbol");function mh(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function fI(n,e,t){return ye.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):mh(t)&&(t.current=r))},[e])}const hy=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),dI="framerAppearId",Lx="data-"+hy(dI),{schedule:fy}=Nx(queueMicrotask,!1),Dx=ye.createContext({});function pI(n,e,t,r,i){var s,l;const{visualElement:u}=ye.useContext(Cm),c=ye.useContext(kx),f=ye.useContext(oy),p=ye.useContext(Ix).reducedMotion,w=ye.useRef(null);r=r||c.renderer,!w.current&&r&&(w.current=r(n,{visualState:e,parent:u,props:t,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p}));const _=w.current,v=ye.useContext(Dx);_&&!_.projection&&i&&(_.type==="html"||_.type==="svg")&&mI(w.current,t,i,v);const C=ye.useRef(!1);ye.useInsertionEffect(()=>{_&&C.current&&_.update(t,f)});const I=t[Lx],N=ye.useRef(!!I&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,I))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,I)));return eI(()=>{_&&(C.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),fy.render(_.render),N.current&&_.animationState&&_.animationState.animateChanges())}),ye.useEffect(()=>{_&&(!N.current&&_.animationState&&_.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)===null||L===void 0||L.call(window,I)}),N.current=!1))}),_}function mI(n,e,t,r){const{layoutId:i,layout:s,drag:l,dragConstraints:u,layoutScroll:c,layoutRoot:f}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:Ox(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!l||u&&mh(u),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:f})}function Ox(n){if(n)return n.options.allowProjection!==!1?n.projection:Ox(n.parent)}function gI({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){var s,l;n&&iI(n);function u(f,p){let w;const _={...ye.useContext(Ix),...f,layoutId:yI(f)},{isStatic:v}=_,C=cI(f),I=r(f,v);if(!v&&ay){vI();const N=wI(_);w=N.MeasureLayout,C.visualElement=pI(i,I,_,e,N.ProjectionNode)}return $.jsxs(Cm.Provider,{value:C,children:[w&&C.visualElement?$.jsx(w,{visualElement:C.visualElement,..._}):null,t(i,f,fI(I,C.visualElement,p),I,v,C.visualElement)]})}u.displayName=`motion.${typeof i=="string"?i:`create(${(l=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&l!==void 0?l:""})`}`;const c=ye.forwardRef(u);return c[hI]=i,c}function yI({layoutId:n}){const e=ye.useContext(Tx).id;return e&&n!==void 0?e+"-"+n:n}function vI(n,e){ye.useContext(kx).strict}function wI(n){const{drag:e,layout:t}=Ch;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const _I=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dy(n){return typeof n!="string"||n.includes("-")?!1:!!(_I.indexOf(n)>-1||/[A-Z]/u.test(n))}function i5(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function py(n,e,t,r){if(typeof e=="function"){const[i,s]=i5(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=i5(r);e=e(t!==void 0?t:n.custom,i,s)}return e}const Y0=n=>Array.isArray(n),bI=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),xI=n=>Y0(n)?n[n.length-1]||0:n,xs=n=>!!(n&&n.getVelocity);function kp(n){const e=xs(n)?n.get():n;return bI(e)?e.toValue():e}function AI({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,i,s){const l={latestValues:SI(r,i,s,n),renderState:e()};return t&&(l.onMount=u=>t({props:r,current:u,...l}),l.onUpdate=u=>t(u)),l}const Mx=n=>(e,t)=>{const r=ye.useContext(Cm),i=ye.useContext(oy),s=()=>AI(n,e,r,i);return t?s():Q6(s)};function SI(n,e,t,r){const i={},s=r(n,{});for(const _ in s)i[_]=kp(s[_]);let{initial:l,animate:u}=n;const c=Lm(n),f=Rx(n);e&&f&&!c&&n.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let p=t?t.initial===!1:!1;p=p||l===!1;const w=p?u:l;if(w&&typeof w!="boolean"&&!Rm(w)){const _=Array.isArray(w)?w:[w];for(let v=0;v<_.length;v++){const C=py(n,_[v]);if(C){const{transitionEnd:I,transition:N,...L}=C;for(const K in L){let W=L[K];if(Array.isArray(W)){const G=p?W.length-1:0;W=W[G]}W!==null&&(i[K]=W)}for(const K in I)i[K]=I[K]}}}return i}const qh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Lc=new Set(qh),Fx=n=>e=>typeof e=="string"&&e.startsWith(n),jx=Fx("--"),EI=Fx("var(--"),my=n=>EI(n)?TI.test(n.split("/*")[0].trim()):!1,TI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vx=(n,e)=>e&&typeof n=="number"?e.transform(n):n,jl=(n,e,t)=>t>e?e:t<n?n:t,$h={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Yf={...$h,transform:n=>jl(0,1,n)},hp={...$h,default:1},fd=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),_u=fd("deg"),$a=fd("%"),Ft=fd("px"),II=fd("vh"),PI=fd("vw"),s5={...$a,parse:n=>$a.parse(n)/100,transform:n=>$a.transform(n*100)},NI={borderWidth:Ft,borderTopWidth:Ft,borderRightWidth:Ft,borderBottomWidth:Ft,borderLeftWidth:Ft,borderRadius:Ft,radius:Ft,borderTopLeftRadius:Ft,borderTopRightRadius:Ft,borderBottomRightRadius:Ft,borderBottomLeftRadius:Ft,width:Ft,maxWidth:Ft,height:Ft,maxHeight:Ft,top:Ft,right:Ft,bottom:Ft,left:Ft,padding:Ft,paddingTop:Ft,paddingRight:Ft,paddingBottom:Ft,paddingLeft:Ft,margin:Ft,marginTop:Ft,marginRight:Ft,marginBottom:Ft,marginLeft:Ft,backgroundPositionX:Ft,backgroundPositionY:Ft},kI={rotate:_u,rotateX:_u,rotateY:_u,rotateZ:_u,scale:hp,scaleX:hp,scaleY:hp,scaleZ:hp,skew:_u,skewX:_u,skewY:_u,distance:Ft,translateX:Ft,translateY:Ft,translateZ:Ft,x:Ft,y:Ft,z:Ft,perspective:Ft,transformPerspective:Ft,opacity:Yf,originX:s5,originY:s5,originZ:Ft},o5={...$h,transform:Math.round},gy={...NI,...kI,zIndex:o5,size:Ft,fillOpacity:Yf,strokeOpacity:Yf,numOctaves:o5},CI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RI=qh.length;function LI(n,e,t){let r="",i=!0;for(let s=0;s<RI;s++){const l=qh[s],u=n[l];if(u===void 0)continue;let c=!0;if(typeof u=="number"?c=u===(l.startsWith("scale")?1:0):c=parseFloat(u)===0,!c||t){const f=Vx(u,gy[l]);if(!c){i=!1;const p=CI[l]||l;r+=`${p}(${f}) `}t&&(e[l]=f)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function yy(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let l=!1,u=!1;for(const c in e){const f=e[c];if(Lc.has(c)){l=!0;continue}else if(jx(c)){i[c]=f;continue}else{const p=Vx(f,gy[c]);c.startsWith("origin")?(u=!0,s[c]=p):r[c]=p}}if(e.transform||(l||t?r.transform=LI(e,n.transform,t):r.transform&&(r.transform="none")),u){const{originX:c="50%",originY:f="50%",originZ:p=0}=s;r.transformOrigin=`${c} ${f} ${p}`}}const DI={offset:"stroke-dashoffset",array:"stroke-dasharray"},OI={offset:"strokeDashoffset",array:"strokeDasharray"};function MI(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?DI:OI;n[s.offset]=Ft.transform(-r);const l=Ft.transform(e),u=Ft.transform(t);n[s.array]=`${l} ${u}`}function a5(n,e,t){return typeof n=="string"?n:Ft.transform(e+t*n)}function FI(n,e,t){const r=a5(e,n.x,n.width),i=a5(t,n.y,n.height);return`${r} ${i}`}function vy(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:l,pathSpacing:u=1,pathOffset:c=0,...f},p,w){if(yy(n,f,w),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:v,dimensions:C}=n;_.transform&&(C&&(v.transform=_.transform),delete _.transform),C&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=FI(C,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(_.x=e),t!==void 0&&(_.y=t),r!==void 0&&(_.scale=r),l!==void 0&&MI(_,l,u,c,!1)}const wy=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Ux=()=>({...wy(),attrs:{}}),_y=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Bx(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const zx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qx(n,e,t,r){Bx(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(zx.has(i)?i:hy(i),e.attrs[i])}const Xp={};function jI(n){Object.assign(Xp,n)}function $x(n,{layout:e,layoutId:t}){return Lc.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Xp[n]||n==="opacity")}function by(n,e,t){var r;const{style:i}=n,s={};for(const l in i)(xs(i[l])||e.style&&xs(e.style[l])||$x(l,n)||((r=t==null?void 0:t.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[l]=i[l]);return s}function Hx(n,e,t){const r=by(n,e,t);for(const i in n)if(xs(n[i])||xs(e[i])){const s=qh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}function VI(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const l5=["x","y","width","height","cx","cy","r"],UI={useVisualState:Mx({scrapeMotionValuesFromProps:Hx,createRenderState:Ux,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:i})=>{if(!t)return;let s=!!n.drag;if(!s){for(const u in i)if(Lc.has(u)){s=!0;break}}if(!s)return;let l=!e;if(e)for(let u=0;u<l5.length;u++){const c=l5[u];n[c]!==e[c]&&(l=!0)}l&&hr.read(()=>{VI(t,r),hr.render(()=>{vy(r,i,_y(t.tagName),n.transformTemplate),qx(t,r)})})}})},BI={useVisualState:Mx({scrapeMotionValuesFromProps:by,createRenderState:wy})};function Wx(n,e,t){for(const r in e)!xs(e[r])&&!$x(r,t)&&(n[r]=e[r])}function zI({transformTemplate:n},e){return ye.useMemo(()=>{const t=wy();return yy(t,e,n),Object.assign({},t.vars,t.style)},[e])}function qI(n,e){const t=n.style||{},r={};return Wx(r,t,n),Object.assign(r,zI(n,e)),r}function $I(n,e){const t={},r=qI(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function HI(n,e,t,r){const i=ye.useMemo(()=>{const s=Ux();return vy(s,e,_y(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};Wx(s,n.style,n),i.style={...s,...i.style}}return i}function WI(n=!1){return(t,r,i,{latestValues:s},l)=>{const c=(dy(t)?HI:$I)(r,s,l,t),f=aI(r,typeof t=="string",n),p=t!==ye.Fragment?{...f,...c,ref:i}:{},{children:w}=r,_=ye.useMemo(()=>xs(w)?w.get():w,[w]);return ye.createElement(t,{...p,children:_})}}function GI(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...dy(r)?UI:BI,preloadedFeatures:n,useRender:WI(i),createVisualElement:e,Component:r};return gI(l)}}function Gx(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Dm(n,e,t){const r=n.getProps();return py(r,e,t!==void 0?t:r.custom,n)}const KI=ly(()=>window.ScrollTimeline!==void 0);class YI{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(i=>{if(KI()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class JI extends YI{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function xy(n,e){return n?n[e]||n.default||n:void 0}const J0=2e4;function Kx(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<J0;)e+=t,r=n.next(e);return e>=J0?1/0:e}function Ay(n){return typeof n=="function"}function u5(n,e){n.timeline=e,n.onfinish=null}const Sy=n=>Array.isArray(n)&&typeof n[0]=="number",XI={linearEasing:void 0};function QI(n,e){const t=ly(n);return()=>{var r;return(r=XI[e])!==null&&r!==void 0?r:t()}}const Qp=QI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Yx=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)r+=n(kh(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function Jx(n){return!!(typeof n=="function"&&Qp()||!n||typeof n=="string"&&(n in X0||Qp())||Sy(n)||Array.isArray(n)&&n.every(Jx))}const Pf=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,X0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pf([0,.65,.55,1]),circOut:Pf([.55,0,1,.45]),backIn:Pf([.31,.01,.66,-.59]),backOut:Pf([.33,1.53,.69,.99])};function Xx(n,e){if(n)return typeof n=="function"&&Qp()?Yx(n,e):Sy(n)?Pf(n):Array.isArray(n)?n.map(t=>Xx(t,e)||X0.easeOut):X0[n]}const da={x:!1,y:!1};function Qx(){return da.x||da.y}function ZI(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}function Zx(n,e){const t=ZI(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function c5(n){return e=>{e.pointerType==="touch"||Qx()||n(e)}}function eP(n,e,t={}){const[r,i,s]=Zx(n,t),l=c5(u=>{const{target:c}=u,f=e(u);if(typeof f!="function"||!c)return;const p=c5(w=>{f(w),c.removeEventListener("pointerleave",p)});c.addEventListener("pointerleave",p,i)});return r.forEach(u=>{u.addEventListener("pointerenter",l,i)}),s}const e4=(n,e)=>e?n===e?!0:e4(n,e.parentElement):!1,Ey=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,tP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function nP(n){return tP.has(n.tagName)||n.tabIndex!==-1}const Nf=new WeakSet;function h5(n){return e=>{e.key==="Enter"&&n(e)}}function t0(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const rP=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=h5(()=>{if(Nf.has(t))return;t0(t,"down");const i=h5(()=>{t0(t,"up")}),s=()=>t0(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function f5(n){return Ey(n)&&!Qx()}function iP(n,e,t={}){const[r,i,s]=Zx(n,t),l=u=>{const c=u.currentTarget;if(!f5(u)||Nf.has(c))return;Nf.add(c);const f=e(u),p=(v,C)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",_),!(!f5(v)||!Nf.has(c))&&(Nf.delete(c),typeof f=="function"&&f(v,{success:C}))},w=v=>{p(v,t.useGlobalTarget||e4(c,v.target))},_=v=>{p(v,!1)};window.addEventListener("pointerup",w,i),window.addEventListener("pointercancel",_,i)};return r.forEach(u=>{!nP(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(t.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),u.addEventListener("focus",f=>rP(f,i),i)}),s}function sP(n){return n==="x"||n==="y"?da[n]?null:(da[n]=!0,()=>{da[n]=!1}):da.x||da.y?null:(da.x=da.y=!0,()=>{da.x=da.y=!1})}const t4=new Set(["width","height","top","left","right","bottom",...qh]);let Cp;function oP(){Cp=void 0}const Ha={now:()=>(Cp===void 0&&Ha.set(Ki.isProcessing||tI.useManualTiming?Ki.timestamp:performance.now()),Cp),set:n=>{Cp=n,queueMicrotask(oP)}};function Ty(n,e){n.indexOf(e)===-1&&n.push(e)}function Iy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Py{constructor(){this.subscriptions=[]}add(e){return Ty(this.subscriptions,e),()=>Iy(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const l=this.subscriptions[s];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function n4(n,e){return e?n*(1e3/e):0}const d5=30,aP=n=>!isNaN(parseFloat(n));class lP{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Ha.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Ha.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=aP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Py);const r=this.events[e].add(t);return e==="change"?()=>{r(),hr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ha.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>d5)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,d5);return n4(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jf(n,e){return new lP(n,e)}function uP(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Jf(t))}function cP(n,e){const t=Dm(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const l in s){const u=xI(s[l]);uP(n,l,u)}}function hP(n){return!!(xs(n)&&n.add)}function Q0(n,e){const t=n.getValue("willChange");if(hP(t))return t.add(e)}function r4(n){return n.props[Lx]}const i4=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,fP=1e-7,dP=12;function pP(n,e,t,r,i){let s,l,u=0;do l=e+(t-e)/2,s=i4(l,r,i)-n,s>0?t=l:e=l;while(Math.abs(s)>fP&&++u<dP);return l}function dd(n,e,t,r){if(n===e&&t===r)return vo;const i=s=>pP(s,0,1,n,t);return s=>s===0||s===1?s:i4(i(s),e,r)}const s4=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,o4=n=>e=>1-n(1-e),a4=dd(.33,1.53,.69,.99),Ny=o4(a4),l4=s4(Ny),u4=n=>(n*=2)<1?.5*Ny(n):.5*(2-Math.pow(2,-10*(n-1))),ky=n=>1-Math.sin(Math.acos(n)),c4=o4(ky),h4=s4(ky),f4=n=>/^0[^.\s]+$/u.test(n);function mP(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||f4(n):!0}const Of=n=>Math.round(n*1e5)/1e5,Cy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function gP(n){return n==null}const yP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ry=(n,e)=>t=>!!(typeof t=="string"&&yP.test(t)&&t.startsWith(n)||e&&!gP(t)&&Object.prototype.hasOwnProperty.call(t,e)),d4=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,l,u]=r.match(Cy);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},vP=n=>jl(0,255,n),n0={...$h,transform:n=>Math.round(vP(n))},_c={test:Ry("rgb","red"),parse:d4("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+n0.transform(n)+", "+n0.transform(e)+", "+n0.transform(t)+", "+Of(Yf.transform(r))+")"};function wP(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Z0={test:Ry("#"),parse:wP,transform:_c.transform},gh={test:Ry("hsl","hue"),parse:d4("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+$a.transform(Of(e))+", "+$a.transform(Of(t))+", "+Of(Yf.transform(r))+")"},ws={test:n=>_c.test(n)||Z0.test(n)||gh.test(n),parse:n=>_c.test(n)?_c.parse(n):gh.test(n)?gh.parse(n):Z0.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?_c.transform(n):gh.transform(n)},_P=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bP(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Cy))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(_P))===null||t===void 0?void 0:t.length)||0)>0}const p4="number",m4="color",xP="var",AP="var(",p5="${}",SP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xf(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const u=e.replace(SP,c=>(ws.test(c)?(r.color.push(s),i.push(m4),t.push(ws.parse(c))):c.startsWith(AP)?(r.var.push(s),i.push(xP),t.push(c)):(r.number.push(s),i.push(p4),t.push(parseFloat(c))),++s,p5)).split(p5);return{values:t,split:u,indexes:r,types:i}}function g4(n){return Xf(n).values}function y4(n){const{split:e,types:t}=Xf(n),r=e.length;return i=>{let s="";for(let l=0;l<r;l++)if(s+=e[l],i[l]!==void 0){const u=t[l];u===p4?s+=Of(i[l]):u===m4?s+=ws.transform(i[l]):s+=i[l]}return s}}const EP=n=>typeof n=="number"?0:n;function TP(n){const e=g4(n);return y4(n)(e.map(EP))}const Ru={test:bP,parse:g4,createTransformer:y4,getAnimatableNone:TP},IP=new Set(["brightness","contrast","saturate","opacity"]);function PP(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Cy)||[];if(!r)return n;const i=t.replace(r,"");let s=IP.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const NP=/\b([a-z-]*)\(.*?\)/gu,e1={...Ru,getAnimatableNone:n=>{const e=n.match(NP);return e?e.map(PP).join(" "):n}},kP={...gy,color:ws,backgroundColor:ws,outlineColor:ws,fill:ws,stroke:ws,borderColor:ws,borderTopColor:ws,borderRightColor:ws,borderBottomColor:ws,borderLeftColor:ws,filter:e1,WebkitFilter:e1},Ly=n=>kP[n];function v4(n,e){let t=Ly(n);return t!==e1&&(t=Ru),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const CP=new Set(["auto","none","0"]);function RP(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!CP.has(s)&&Xf(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=v4(t,i)}const m5=n=>n===$h||n===Ft,g5=(n,e)=>parseFloat(n.split(", ")[e]),y5=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return g5(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?g5(s[1],n):0}},LP=new Set(["x","y","z"]),DP=qh.filter(n=>!LP.has(n));function OP(n){const e=[];return DP.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Rh={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:y5(4,13),y:y5(5,14)};Rh.translateX=Rh.x;Rh.translateY=Rh.y;const Ac=new Set;let t1=!1,n1=!1;function w4(){if(n1){const n=Array.from(Ac).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=OP(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,l])=>{var u;(u=r.getValue(s))===null||u===void 0||u.set(l)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}n1=!1,t1=!1,Ac.forEach(n=>n.complete()),Ac.clear()}function _4(){Ac.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(n1=!0)})}function MP(){_4(),w4()}class Dy{constructor(e,t,r,i,s,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ac.add(this),t1||(t1=!0,hr.read(_4),hr.resolveKeyframes(w4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const l=i==null?void 0:i.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&t){const c=r.readValue(t,u);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=u),i&&l===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ac.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ac.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const b4=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),FP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function jP(n){const e=FP.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function x4(n,e,t=1){const[r,i]=jP(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const l=s.trim();return b4(l)?parseFloat(l):l}return my(i)?x4(i,e,t+1):i}const A4=n=>e=>e.test(n),VP={test:n=>n==="auto",parse:n=>n},S4=[$h,Ft,$a,_u,PI,II,VP],v5=n=>S4.find(A4(n));class E4 extends Dy{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let f=e[c];if(typeof f=="string"&&(f=f.trim(),my(f))){const p=x4(f,t.current);p!==void 0&&(e[c]=p),c===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!t4.has(r)||e.length!==2)return;const[i,s]=e,l=v5(i),u=v5(s);if(l!==u)if(m5(l)&&m5(u))for(let c=0;c<e.length;c++){const f=e[c];typeof f=="string"&&(e[c]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)mP(e[i])&&r.push(i);r.length&&RP(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Rh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=Rh[r](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,f])=>{t.getValue(c).set(f)}),this.resolveNoneKeyframes()}}const w5=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ru.test(n)||n==="0")&&!n.startsWith("url("));function UP(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function BP(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],l=w5(i,e),u=w5(s,e);return!l||!u?!1:UP(n)||(t==="spring"||Ay(t))&&r}const zP=n=>n!==null;function Om(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(zP),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const qP=40;class T4{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ha.now(),this.options={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>qP?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&MP(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Ha.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:l,onComplete:u,onUpdate:c,isGenerator:f}=this.options;if(!f&&!BP(e,r,i,s))if(l)this.options.duration=0;else{c&&c(Om(e,this.options,t)),u&&u(),this.resolveFinishedPromise();return}const p=this.initPlayback(e,t);p!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...p},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Lr=(n,e,t)=>n+(e-n)*t;function r0(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function $P({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,l=0;if(!e)i=s=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,c=2*t-u;i=r0(c,u,n+1/3),s=r0(c,u,n),l=r0(c,u,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(l*255),alpha:r}}function Zp(n,e){return t=>t>0?e:n}const i0=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},HP=[Z0,_c,gh],WP=n=>HP.find(e=>e.test(n));function _5(n){const e=WP(n);if(!e)return!1;let t=e.parse(n);return e===gh&&(t=$P(t)),t}const b5=(n,e)=>{const t=_5(n),r=_5(e);if(!t||!r)return Zp(n,e);const i={...t};return s=>(i.red=i0(t.red,r.red,s),i.green=i0(t.green,r.green,s),i.blue=i0(t.blue,r.blue,s),i.alpha=Lr(t.alpha,r.alpha,s),_c.transform(i))},GP=(n,e)=>t=>e(n(t)),pd=(...n)=>n.reduce(GP),r1=new Set(["none","hidden"]);function KP(n,e){return r1.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function YP(n,e){return t=>Lr(n,e,t)}function Oy(n){return typeof n=="number"?YP:typeof n=="string"?my(n)?Zp:ws.test(n)?b5:QP:Array.isArray(n)?I4:typeof n=="object"?ws.test(n)?b5:JP:Zp}function I4(n,e){const t=[...n],r=t.length,i=n.map((s,l)=>Oy(s)(s,e[l]));return s=>{for(let l=0;l<r;l++)t[l]=i[l](s);return t}}function JP(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=Oy(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function XP(n,e){var t;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const l=e.types[s],u=n.indexes[l][i[l]],c=(t=n.values[u])!==null&&t!==void 0?t:0;r[s]=c,i[l]++}return r}const QP=(n,e)=>{const t=Ru.createTransformer(e),r=Xf(n),i=Xf(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?r1.has(n)&&!i.values.length||r1.has(e)&&!r.values.length?KP(n,e):pd(I4(XP(r,i),i.values),t):Zp(n,e)};function P4(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Lr(n,e,t):Oy(n)(n,e)}const ZP=5;function N4(n,e,t){const r=Math.max(e-ZP,0);return n4(t-n(r),e-r)}const qr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},s0=.001;function eN({duration:n=qr.duration,bounce:e=qr.bounce,velocity:t=qr.velocity,mass:r=qr.mass}){let i,s,l=1-e;l=jl(qr.minDamping,qr.maxDamping,l),n=jl(qr.minDuration,qr.maxDuration,Ml(n)),l<1?(i=f=>{const p=f*l,w=p*n,_=p-t,v=i1(f,l),C=Math.exp(-w);return s0-_/v*C},s=f=>{const w=f*l*n,_=w*t+t,v=Math.pow(l,2)*Math.pow(f,2)*n,C=Math.exp(-w),I=i1(Math.pow(f,2),l);return(-i(f)+s0>0?-1:1)*((_-v)*C)/I}):(i=f=>{const p=Math.exp(-f*n),w=(f-t)*n+1;return-s0+p*w},s=f=>{const p=Math.exp(-f*n),w=(t-f)*(n*n);return p*w});const u=5/n,c=nN(i,s,u);if(n=Ol(n),isNaN(c))return{stiffness:qr.stiffness,damping:qr.damping,duration:n};{const f=Math.pow(c,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:n}}}const tN=12;function nN(n,e,t){let r=t;for(let i=1;i<tN;i++)r=r-n(r)/e(r);return r}function i1(n,e){return n*Math.sqrt(1-e*e)}const rN=["duration","bounce"],iN=["stiffness","damping","mass"];function x5(n,e){return e.some(t=>n[t]!==void 0)}function sN(n){let e={velocity:qr.velocity,stiffness:qr.stiffness,damping:qr.damping,mass:qr.mass,isResolvedFromDuration:!1,...n};if(!x5(n,iN)&&x5(n,rN))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,s=2*jl(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:qr.mass,stiffness:i,damping:s}}else{const t=eN(n);e={...e,...t,mass:qr.mass},e.isResolvedFromDuration=!0}return e}function k4(n=qr.visualDuration,e=qr.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const s=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],u={done:!1,value:s},{stiffness:c,damping:f,mass:p,duration:w,velocity:_,isResolvedFromDuration:v}=sN({...t,velocity:-Ml(t.velocity||0)}),C=_||0,I=f/(2*Math.sqrt(c*p)),N=l-s,L=Ml(Math.sqrt(c/p)),K=Math.abs(N)<5;r||(r=K?qr.restSpeed.granular:qr.restSpeed.default),i||(i=K?qr.restDelta.granular:qr.restDelta.default);let W;if(I<1){const ie=i1(L,I);W=pe=>{const q=Math.exp(-I*L*pe);return l-q*((C+I*L*N)/ie*Math.sin(ie*pe)+N*Math.cos(ie*pe))}}else if(I===1)W=ie=>l-Math.exp(-L*ie)*(N+(C+L*N)*ie);else{const ie=L*Math.sqrt(I*I-1);W=pe=>{const q=Math.exp(-I*L*pe),R=Math.min(ie*pe,300);return l-q*((C+I*L*N)*Math.sinh(R)+ie*N*Math.cosh(R))/ie}}const G={calculatedDuration:v&&w||null,next:ie=>{const pe=W(ie);if(v)u.done=ie>=w;else{let q=0;I<1&&(q=ie===0?Ol(C):N4(W,ie,pe));const R=Math.abs(q)<=r,k=Math.abs(l-pe)<=i;u.done=R&&k}return u.value=u.done?l:pe,u},toString:()=>{const ie=Math.min(Kx(G),J0),pe=Yx(q=>G.next(ie*q).value,ie,30);return ie+"ms "+pe}};return G}function A5({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:l,min:u,max:c,restDelta:f=.5,restSpeed:p}){const w=n[0],_={done:!1,value:w},v=R=>u!==void 0&&R<u||c!==void 0&&R>c,C=R=>u===void 0?c:c===void 0||Math.abs(u-R)<Math.abs(c-R)?u:c;let I=t*e;const N=w+I,L=l===void 0?N:l(N);L!==N&&(I=L-w);const K=R=>-I*Math.exp(-R/r),W=R=>L+K(R),G=R=>{const k=K(R),U=W(R);_.done=Math.abs(k)<=f,_.value=_.done?L:U};let ie,pe;const q=R=>{v(_.value)&&(ie=R,pe=k4({keyframes:[_.value,C(_.value)],velocity:N4(W,R,_.value),damping:i,stiffness:s,restDelta:f,restSpeed:p}))};return q(0),{calculatedDuration:null,next:R=>{let k=!1;return!pe&&ie===void 0&&(k=!0,G(R),q(R)),ie!==void 0&&R>=ie?pe.next(R-ie):(!k&&G(R),_)}}}const oN=dd(.42,0,1,1),aN=dd(0,0,.58,1),C4=dd(.42,0,.58,1),lN=n=>Array.isArray(n)&&typeof n[0]!="number",uN={linear:vo,easeIn:oN,easeInOut:C4,easeOut:aN,circIn:ky,circInOut:h4,circOut:c4,backIn:Ny,backInOut:l4,backOut:a4,anticipate:u4},S5=n=>{if(Sy(n)){Px(n.length===4);const[e,t,r,i]=n;return dd(e,t,r,i)}else if(typeof n=="string")return uN[n];return n};function cN(n,e,t){const r=[],i=t||P4,s=n.length-1;for(let l=0;l<s;l++){let u=i(n[l],n[l+1]);if(e){const c=Array.isArray(e)?e[l]||vo:e;u=pd(c,u)}r.push(u)}return r}function hN(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(Px(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=cN(e,r,i),c=u.length,f=p=>{if(l&&p<n[0])return e[0];let w=0;if(c>1)for(;w<n.length-2&&!(p<n[w+1]);w++);const _=kh(n[w],n[w+1],p);return u[w](_)};return t?p=>f(jl(n[0],n[s-1],p)):f}function fN(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=kh(0,e,r);n.push(Lr(t,1,i))}}function dN(n){const e=[0];return fN(e,n.length-1),e}function pN(n,e){return n.map(t=>t*e)}function mN(n,e){return n.map(()=>e||C4).splice(0,n.length-1)}function em({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=lN(r)?r.map(S5):S5(r),s={done:!1,value:e[0]},l=pN(t&&t.length===e.length?t:dN(e),n),u=hN(l,e,{ease:Array.isArray(i)?i:mN(e,i)});return{calculatedDuration:n,next:c=>(s.value=u(c),s.done=c>=n,s)}}const gN=n=>{const e=({timestamp:t})=>n(t);return{start:()=>hr.update(e,!0),stop:()=>Cu(e),now:()=>Ki.isProcessing?Ki.timestamp:Ha.now()}},yN={decay:A5,inertia:A5,tween:em,keyframes:em,spring:k4},vN=n=>n/100;class My extends T4{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:t,motionValue:r,element:i,keyframes:s}=this.options,l=(i==null?void 0:i.KeyframeResolver)||Dy,u=(c,f)=>this.onKeyframesResolved(c,f);this.resolver=new l(s,u,t,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:l=0}=this.options,u=Ay(t)?t:yN[t]||em;let c,f;u!==em&&typeof e[0]!="number"&&(c=pd(vN,P4(e[0],e[1])),e=[0,100]);const p=u({...this.options,keyframes:e});s==="mirror"&&(f=u({...this.options,keyframes:[...e].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=Kx(p));const{calculatedDuration:w}=p,_=w+i,v=_*(r+1)-i;return{generator:p,mirroredGenerator:f,mapPercentToKeyframes:c,calculatedDuration:w,resolvedDuration:_,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:c,calculatedDuration:f,totalDuration:p,resolvedDuration:w}=r;if(this.startTime===null)return s.next(0);const{delay:_,repeat:v,repeatType:C,repeatDelay:I,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-p/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const L=this.currentTime-_*(this.speed>=0?1:-1),K=this.speed>=0?L<0:L>p;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let W=this.currentTime,G=s;if(v){const R=Math.min(this.currentTime,p)/w;let k=Math.floor(R),U=R%1;!U&&R>=1&&(U=1),U===1&&k--,k=Math.min(k,v+1),!!(k%2)&&(C==="reverse"?(U=1-U,I&&(U-=I/w)):C==="mirror"&&(G=l)),W=jl(0,1,U)*w}const ie=K?{done:!1,value:c[0]}:G.next(W);u&&(ie.value=u(ie.value));let{done:pe}=ie;!K&&f!==null&&(pe=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&pe);return q&&i!==void 0&&(ie.value=Om(c,this.options,i)),N&&N(ie.value),q&&this.finish(),ie}get duration(){const{resolved:e}=this;return e?Ml(e.calculatedDuration):0}get time(){return Ml(this.currentTime)}set time(e){e=Ol(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Ml(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=gN,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const wN=new Set(["opacity","clipPath","filter","transform"]);function _N(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:l="loop",ease:u="easeInOut",times:c}={}){const f={[e]:t};c&&(f.offset=c);const p=Xx(u,i);return Array.isArray(p)&&(f.easing=p),n.animate(f,{delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:l==="reverse"?"alternate":"normal"})}const bN=ly(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),tm=10,xN=2e4;function AN(n){return Ay(n.type)||n.type==="spring"||!Jx(n.ease)}function SN(n,e){const t=new My({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const i=[];let s=0;for(;!r.done&&s<xN;)r=t.sample(s),i.push(r.value),s+=tm;return{times:void 0,keyframes:i,duration:s-tm,ease:"linear"}}const R4={anticipate:u4,backInOut:l4,circInOut:h4};function EN(n){return n in R4}class E5 extends T4{constructor(e){super(e);const{name:t,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new E4(s,(l,u)=>this.onKeyframesResolved(l,u),t,r,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:i,ease:s,type:l,motionValue:u,name:c,startTime:f}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof s=="string"&&Qp()&&EN(s)&&(s=R4[s]),AN(this.options)){const{onComplete:w,onUpdate:_,motionValue:v,element:C,...I}=this.options,N=SN(e,I);e=N.keyframes,e.length===1&&(e[1]=e[0]),r=N.duration,i=N.times,s=N.ease,l="keyframes"}const p=_N(u.owner.current,c,e,{...this.options,duration:r,times:i,ease:s});return p.startTime=f??this.calcStartTime(),this.pendingTimeline?(u5(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:w}=this.options;u.set(Om(e,this.options,t)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:r,times:i,type:l,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Ml(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Ml(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Ol(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return vo;const{animation:r}=t;u5(r,e)}return vo}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:i,type:s,ease:l,times:u}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:p,onComplete:w,element:_,...v}=this.options,C=new My({...v,keyframes:r,duration:i,type:s,ease:l,times:u,isGenerator:!0}),I=Ol(this.time);f.setWithVelocity(C.sample(I-tm).value,C.sample(I).value,tm)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:i,repeatType:s,damping:l,type:u}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:f}=t.owner.getProps();return bN()&&r&&wN.has(r)&&!c&&!f&&!i&&s!=="mirror"&&l!==0&&u!=="inertia"}}const TN={type:"spring",stiffness:500,damping:25,restSpeed:10},IN=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),PN={type:"keyframes",duration:.8},NN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kN=(n,{keyframes:e})=>e.length>2?PN:Lc.has(n)?n.startsWith("scale")?IN(e[1]):TN:NN;function CN({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:l,repeatDelay:u,from:c,elapsed:f,...p}){return!!Object.keys(p).length}const Fy=(n,e,t,r={},i,s)=>l=>{const u=xy(r,n)||{},c=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Ol(c);let p={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:_=>{e.set(_),u.onUpdate&&u.onUpdate(_)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:s?void 0:i};CN(u)||(p={...p,...kN(n,p)}),p.duration&&(p.duration=Ol(p.duration)),p.repeatDelay&&(p.repeatDelay=Ol(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let w=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(w=!0)),w&&!s&&e.get()!==void 0){const _=Om(p.keyframes,u);if(_!==void 0)return hr.update(()=>{p.onUpdate(_),p.onComplete()}),new JI([])}return!s&&E5.supports(p)?new E5(p):new My(p)};function RN({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function L4(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var s;let{transition:l=n.getDefaultTransition(),transitionEnd:u,...c}=e;r&&(l=r);const f=[],p=i&&n.animationState&&n.animationState.getState()[i];for(const w in c){const _=n.getValue(w,(s=n.latestValues[w])!==null&&s!==void 0?s:null),v=c[w];if(v===void 0||p&&RN(p,w))continue;const C={delay:t,...xy(l||{},w)};let I=!1;if(window.MotionHandoffAnimation){const L=r4(n);if(L){const K=window.MotionHandoffAnimation(L,w,hr);K!==null&&(C.startTime=K,I=!0)}}Q0(n,w),_.start(Fy(w,_,v,n.shouldReduceMotion&&t4.has(w)?{type:!1}:C,n,I));const N=_.animation;N&&f.push(N)}return u&&Promise.all(f).then(()=>{hr.update(()=>{u&&cP(n,u)})}),f}function s1(n,e,t={}){var r;const i=Dm(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const l=i?()=>Promise.all(L4(n,i,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:w,staggerDirection:_}=s;return LN(n,e,p+f,w,_,t)}:()=>Promise.resolve(),{when:c}=s;if(c){const[f,p]=c==="beforeChildren"?[l,u]:[u,l];return f().then(()=>p())}else return Promise.all([l(),u(t.delay)])}function LN(n,e,t=0,r=0,i=1,s){const l=[],u=(n.variantChildren.size-1)*r,c=i===1?(f=0)=>f*r:(f=0)=>u-f*r;return Array.from(n.variantChildren).sort(DN).forEach((f,p)=>{f.notify("AnimationStart",e),l.push(s1(f,e,{...s,delay:t+c(p)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function DN(n,e){return n.sortNodePosition(e)}function ON(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>s1(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=s1(n,e,t);else{const i=typeof e=="function"?Dm(n,e,t.custom):e;r=Promise.all(L4(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const MN=cy.length;function D4(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?D4(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<MN;t++){const r=cy[t],i=n.props[r];(Kf(i)||i===!1)&&(e[r]=i)}return e}const FN=[...uy].reverse(),jN=uy.length;function VN(n){return e=>Promise.all(e.map(({animation:t,options:r})=>ON(n,t,r)))}function UN(n){let e=VN(n),t=T5(),r=!0;const i=c=>(f,p)=>{var w;const _=Dm(n,p,c==="exit"?(w=n.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(_){const{transition:v,transitionEnd:C,...I}=_;f={...f,...I,...C}}return f};function s(c){e=c(n)}function l(c){const{props:f}=n,p=D4(n.parent)||{},w=[],_=new Set;let v={},C=1/0;for(let N=0;N<jN;N++){const L=FN[N],K=t[L],W=f[L]!==void 0?f[L]:p[L],G=Kf(W),ie=L===c?K.isActive:null;ie===!1&&(C=N);let pe=W===p[L]&&W!==f[L]&&G;if(pe&&r&&n.manuallyAnimateOnMount&&(pe=!1),K.protectedKeys={...v},!K.isActive&&ie===null||!W&&!K.prevProp||Rm(W)||typeof W=="boolean")continue;const q=BN(K.prevProp,W);let R=q||L===c&&K.isActive&&!pe&&G||N>C&&G,k=!1;const U=Array.isArray(W)?W:[W];let P=U.reduce(i(L),{});ie===!1&&(P={});const{prevResolvedValues:F={}}=K,O={...F,...P},ae=xe=>{R=!0,_.has(xe)&&(k=!0,_.delete(xe)),K.needsAnimating[xe]=!0;const le=n.getValue(xe);le&&(le.liveStyle=!1)};for(const xe in O){const le=P[xe],_e=F[xe];if(v.hasOwnProperty(xe))continue;let ke=!1;Y0(le)&&Y0(_e)?ke=!Gx(le,_e):ke=le!==_e,ke?le!=null?ae(xe):_.add(xe):le!==void 0&&_.has(xe)?ae(xe):K.protectedKeys[xe]=!0}K.prevProp=W,K.prevResolvedValues=P,K.isActive&&(v={...v,...P}),r&&n.blockInitialAnimation&&(R=!1),R&&(!(pe&&q)||k)&&w.push(...U.map(xe=>({animation:xe,options:{type:L}})))}if(_.size){const N={};_.forEach(L=>{const K=n.getBaseTarget(L),W=n.getValue(L);W&&(W.liveStyle=!0),N[L]=K??null}),w.push({animation:N})}let I=!!w.length;return r&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(I=!1),r=!1,I?e(w):Promise.resolve()}function u(c,f){var p;if(t[c].isActive===f)return Promise.resolve();(p=n.variantChildren)===null||p===void 0||p.forEach(_=>{var v;return(v=_.animationState)===null||v===void 0?void 0:v.setActive(c,f)}),t[c].isActive=f;const w=l(c);for(const _ in t)t[_].protectedKeys={};return w}return{animateChanges:l,setActive:u,setAnimateFunction:s,getState:()=>t,reset:()=>{t=T5(),r=!0}}}function BN(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Gx(e,n):!1}function pc(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function T5(){return{animate:pc(!0),whileInView:pc(),whileHover:pc(),whileTap:pc(),whileDrag:pc(),whileFocus:pc(),exit:pc()}}class $u{constructor(e){this.isMounted=!1,this.node=e}update(){}}class zN extends $u{constructor(e){super(e),e.animationState||(e.animationState=UN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Rm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let qN=0;class $N extends $u{constructor(){super(...arguments),this.id=qN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const HN={animation:{Feature:zN},exit:{Feature:$N}};function Qf(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function md(n){return{point:{x:n.pageX,y:n.pageY}}}const WN=n=>e=>Ey(e)&&n(e,md(e));function Mf(n,e,t,r){return Qf(n,e,WN(t),r)}const I5=(n,e)=>Math.abs(n-e);function GN(n,e){const t=I5(n.x,e.x),r=I5(n.y,e.y);return Math.sqrt(t**2+r**2)}class O4{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=a0(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,v=GN(w.offset,{x:0,y:0})>=3;if(!_&&!v)return;const{point:C}=w,{timestamp:I}=Ki;this.history.push({...C,timestamp:I});const{onStart:N,onMove:L}=this.handlers;_||(N&&N(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,w)},this.handlePointerMove=(w,_)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=o0(_,this.transformPagePoint),hr.update(this.updatePoint,!0)},this.handlePointerUp=(w,_)=>{this.end();const{onEnd:v,onSessionEnd:C,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=a0(w.type==="pointercancel"?this.lastMoveEventInfo:o0(_,this.transformPagePoint),this.history);this.startEvent&&v&&v(w,N),C&&C(w,N)},!Ey(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const l=md(e),u=o0(l,this.transformPagePoint),{point:c}=u,{timestamp:f}=Ki;this.history=[{...c,timestamp:f}];const{onSessionStart:p}=t;p&&p(e,a0(u,this.history)),this.removeListeners=pd(Mf(this.contextWindow,"pointermove",this.handlePointerMove),Mf(this.contextWindow,"pointerup",this.handlePointerUp),Mf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Cu(this.updatePoint)}}function o0(n,e){return e?{point:e(n.point)}:n}function P5(n,e){return{x:n.x-e.x,y:n.y-e.y}}function a0({point:n},e){return{point:n,delta:P5(n,M4(e)),offset:P5(n,KN(e)),velocity:YN(e,.1)}}function KN(n){return n[0]}function M4(n){return n[n.length-1]}function YN(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=M4(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Ol(e)));)t--;if(!r)return{x:0,y:0};const s=Ml(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const l={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const F4=1e-4,JN=1-F4,XN=1+F4,j4=.01,QN=0-j4,ZN=0+j4;function wo(n){return n.max-n.min}function ek(n,e,t){return Math.abs(n-e)<=t}function N5(n,e,t,r=.5){n.origin=r,n.originPoint=Lr(e.min,e.max,n.origin),n.scale=wo(t)/wo(e),n.translate=Lr(t.min,t.max,n.origin)-n.originPoint,(n.scale>=JN&&n.scale<=XN||isNaN(n.scale))&&(n.scale=1),(n.translate>=QN&&n.translate<=ZN||isNaN(n.translate))&&(n.translate=0)}function Ff(n,e,t,r){N5(n.x,e.x,t.x,r?r.originX:void 0),N5(n.y,e.y,t.y,r?r.originY:void 0)}function k5(n,e,t){n.min=t.min+e.min,n.max=n.min+wo(e)}function tk(n,e,t){k5(n.x,e.x,t.x),k5(n.y,e.y,t.y)}function C5(n,e,t){n.min=e.min-t.min,n.max=n.min+wo(e)}function jf(n,e,t){C5(n.x,e.x,t.x),C5(n.y,e.y,t.y)}function nk(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Lr(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Lr(t,n,r.max):Math.min(n,t)),n}function R5(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function rk(n,{top:e,left:t,bottom:r,right:i}){return{x:R5(n.x,t,i),y:R5(n.y,e,r)}}function L5(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function ik(n,e){return{x:L5(n.x,e.x),y:L5(n.y,e.y)}}function sk(n,e){let t=.5;const r=wo(n),i=wo(e);return i>r?t=kh(e.min,e.max-r,n.min):r>i&&(t=kh(n.min,n.max-i,e.min)),jl(0,1,t)}function ok(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const o1=.35;function ak(n=o1){return n===!1?n=0:n===!0&&(n=o1),{x:D5(n,"left","right"),y:D5(n,"top","bottom")}}function D5(n,e,t){return{min:O5(n,e),max:O5(n,t)}}function O5(n,e){return typeof n=="number"?n:n[e]||0}const M5=()=>({translate:0,scale:1,origin:0,originPoint:0}),yh=()=>({x:M5(),y:M5()}),F5=()=>({min:0,max:0}),Yr=()=>({x:F5(),y:F5()});function Bo(n){return[n("x"),n("y")]}function V4({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function lk({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function uk(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function l0(n){return n===void 0||n===1}function a1({scale:n,scaleX:e,scaleY:t}){return!l0(n)||!l0(e)||!l0(t)}function mc(n){return a1(n)||U4(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function U4(n){return j5(n.x)||j5(n.y)}function j5(n){return n&&n!=="0%"}function nm(n,e,t){const r=n-t,i=e*r;return t+i}function V5(n,e,t,r,i){return i!==void 0&&(n=nm(n,i,r)),nm(n,t,r)+e}function l1(n,e=0,t=1,r,i){n.min=V5(n.min,e,t,r,i),n.max=V5(n.max,e,t,r,i)}function B4(n,{x:e,y:t}){l1(n.x,e.translate,e.scale,e.originPoint),l1(n.y,t.translate,t.scale,t.originPoint)}const U5=.999999999999,B5=1.0000000000001;function ck(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,l;for(let u=0;u<i;u++){s=t[u],l=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&wh(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,B4(n,l)),r&&mc(s.latestValues)&&wh(n,s.latestValues))}e.x<B5&&e.x>U5&&(e.x=1),e.y<B5&&e.y>U5&&(e.y=1)}function vh(n,e){n.min=n.min+e,n.max=n.max+e}function z5(n,e,t,r,i=.5){const s=Lr(n.min,n.max,i);l1(n,e,t,s,r)}function wh(n,e){z5(n.x,e.x,e.scaleX,e.scale,e.originX),z5(n.y,e.y,e.scaleY,e.scale,e.originY)}function z4(n,e){return V4(uk(n.getBoundingClientRect(),e))}function hk(n,e,t){const r=z4(n,t),{scroll:i}=e;return i&&(vh(r.x,i.offset.x),vh(r.y,i.offset.y)),r}const q4=({current:n})=>n?n.ownerDocument.defaultView:null,fk=new WeakMap;class dk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yr(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(md(p).point)},s=(p,w)=>{const{drag:_,dragPropagation:v,onDragStart:C}=this.getProps();if(_&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sP(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bo(N=>{let L=this.getAxisMotionValue(N).get()||0;if($a.test(L)){const{projection:K}=this.visualElement;if(K&&K.layout){const W=K.layout.layoutBox[N];W&&(L=wo(W)*(parseFloat(L)/100))}}this.originPoint[N]=L}),C&&hr.postRender(()=>C(p,w)),Q0(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},l=(p,w)=>{const{dragPropagation:_,dragDirectionLock:v,onDirectionLock:C,onDrag:I}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:N}=w;if(v&&this.currentDirection===null){this.currentDirection=pk(N),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",w.point,N),this.updateAxis("y",w.point,N),this.visualElement.render(),I&&I(p,w)},u=(p,w)=>this.stop(p,w),c=()=>Bo(p=>{var w;return this.getAnimationState(p)==="paused"&&((w=this.getAxisMotionValue(p).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new O4(e,{onSessionStart:i,onStart:s,onMove:l,onSessionEnd:u,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:q4(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&hr.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!fp(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=nk(l,this.constraints[e],this.elastic[e])),s.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&mh(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=rk(i.layoutBox,t):this.constraints=!1,this.elastic=ak(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Bo(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=ok(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!mh(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=hk(r,i.root,this.visualElement.getTransformPagePoint());let l=ik(i.layout.layoutBox,s);if(t){const u=t(lk(l));this.hasMutatedConstraints=!!u,u&&(l=V4(u))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},f=Bo(p=>{if(!fp(p,t,this.currentDirection))return;let w=c&&c[p]||{};l&&(w={min:0,max:0});const _=i?200:1e6,v=i?40:1e7,C={type:"inertia",velocity:r?e[p]:0,bounceStiffness:_,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...w};return this.startAxisValueAnimation(p,C)});return Promise.all(f).then(u)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Q0(this.visualElement,e),r.start(Fy(e,r,0,t,this.visualElement,!1))}stopAnimation(){Bo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Bo(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Bo(t=>{const{drag:r}=this.getProps();if(!fp(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[t];s.set(e[t]-Lr(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!mh(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Bo(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const c=u.get();i[l]=sk({min:c,max:c},this.constraints[l])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Bo(l=>{if(!fp(l,e,null))return;const u=this.getAxisMotionValue(l),{min:c,max:f}=this.constraints[l];u.set(Lr(c,f,i[l]))})}addListeners(){if(!this.visualElement.current)return;fk.set(this.visualElement,this);const e=this.visualElement.current,t=Mf(e,"pointerdown",c=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();mh(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),hr.read(r);const l=Qf(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:f})=>{this.isDragging&&f&&(Bo(p=>{const w=this.getAxisMotionValue(p);w&&(this.originPoint[p]+=c[p].translate,w.set(w.get()+c[p].translate))}),this.visualElement.render())}));return()=>{l(),t(),s(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:l=o1,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:l,dragMomentum:u}}}function fp(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function pk(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class mk extends $u{constructor(e){super(e),this.removeGroupControls=vo,this.removeListeners=vo,this.controls=new dk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vo}unmount(){this.removeGroupControls(),this.removeListeners()}}const q5=n=>(e,t)=>{n&&hr.postRender(()=>n(e,t))};class gk extends $u{constructor(){super(...arguments),this.removePointerDownListener=vo}onPointerDown(e){this.session=new O4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:q4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:q5(e),onStart:q5(t),onMove:r,onEnd:(s,l)=>{delete this.session,i&&hr.postRender(()=>i(s,l))}}}mount(){this.removePointerDownListener=Mf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Rp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $5(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Ef={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ft.test(n))n=parseFloat(n);else return n;const t=$5(n,e.target.x),r=$5(n,e.target.y);return`${t}% ${r}%`}},yk={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Ru.parse(n);if(i.length>5)return r;const s=Ru.createTransformer(n),l=typeof i[0]!="number"?1:0,u=t.x.scale*e.x,c=t.y.scale*e.y;i[0+l]/=u,i[1+l]/=c;const f=Lr(u,c,.5);return typeof i[2+l]=="number"&&(i[2+l]/=f),typeof i[3+l]=="number"&&(i[3+l]/=f),s(i)}};class vk extends ye.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;jI(wk),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Rp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,l=r.projection;return l&&(l.isPresent=s,i||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?l.promote():l.relegate()||hr.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),fy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $4(n){const[e,t]=Z6(),r=ye.useContext(Tx);return $.jsx(vk,{...n,layoutGroup:r,switchLayoutGroup:ye.useContext(Dx),isPresent:e,safeToRemove:t})}const wk={borderRadius:{...Ef,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ef,borderTopRightRadius:Ef,borderBottomLeftRadius:Ef,borderBottomRightRadius:Ef,boxShadow:yk};function _k(n,e,t){const r=xs(n)?n:Jf(n);return r.start(Fy("",r,e,t)),r.animation}function bk(n){return n instanceof SVGElement&&n.tagName!=="svg"}const xk=(n,e)=>n.depth-e.depth;class Ak{constructor(){this.children=[],this.isDirty=!1}add(e){Ty(this.children,e),this.isDirty=!0}remove(e){Iy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(xk),this.isDirty=!1,this.children.forEach(e)}}function Sk(n,e){const t=Ha.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Cu(r),n(s-e))};return hr.read(r,!0),()=>Cu(r)}const H4=["TopLeft","TopRight","BottomLeft","BottomRight"],Ek=H4.length,H5=n=>typeof n=="string"?parseFloat(n):n,W5=n=>typeof n=="number"||Ft.test(n);function Tk(n,e,t,r,i,s){i?(n.opacity=Lr(0,t.opacity!==void 0?t.opacity:1,Ik(r)),n.opacityExit=Lr(e.opacity!==void 0?e.opacity:1,0,Pk(r))):s&&(n.opacity=Lr(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let l=0;l<Ek;l++){const u=`border${H4[l]}Radius`;let c=G5(e,u),f=G5(t,u);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||W5(c)===W5(f)?(n[u]=Math.max(Lr(H5(c),H5(f),r),0),($a.test(f)||$a.test(c))&&(n[u]+="%")):n[u]=f}(e.rotate||t.rotate)&&(n.rotate=Lr(e.rotate||0,t.rotate||0,r))}function G5(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Ik=W4(0,.5,c4),Pk=W4(.5,.95,vo);function W4(n,e,t){return r=>r<n?0:r>e?1:t(kh(n,e,r))}function K5(n,e){n.min=e.min,n.max=e.max}function Uo(n,e){K5(n.x,e.x),K5(n.y,e.y)}function Y5(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function J5(n,e,t,r,i){return n-=e,n=nm(n,1/t,r),i!==void 0&&(n=nm(n,1/i,r)),n}function Nk(n,e=0,t=1,r=.5,i,s=n,l=n){if($a.test(e)&&(e=parseFloat(e),e=Lr(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Lr(s.min,s.max,r);n===s&&(u-=e),n.min=J5(n.min,e,t,u,i),n.max=J5(n.max,e,t,u,i)}function X5(n,e,[t,r,i],s,l){Nk(n,e[t],e[r],e[i],e.scale,s,l)}const kk=["x","scaleX","originX"],Ck=["y","scaleY","originY"];function Q5(n,e,t,r){X5(n.x,e,kk,t?t.x:void 0,r?r.x:void 0),X5(n.y,e,Ck,t?t.y:void 0,r?r.y:void 0)}function Z5(n){return n.translate===0&&n.scale===1}function G4(n){return Z5(n.x)&&Z5(n.y)}function ew(n,e){return n.min===e.min&&n.max===e.max}function Rk(n,e){return ew(n.x,e.x)&&ew(n.y,e.y)}function tw(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function K4(n,e){return tw(n.x,e.x)&&tw(n.y,e.y)}function nw(n){return wo(n.x)/wo(n.y)}function rw(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class Lk{constructor(){this.members=[]}add(e){Ty(this.members,e),e.scheduleRender()}remove(e){if(Iy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Dk(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,l=(t==null?void 0:t.z)||0;if((i||s||l)&&(r=`translate3d(${i}px, ${s}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:p,rotateX:w,rotateY:_,skewX:v,skewY:C}=t;f&&(r=`perspective(${f}px) ${r}`),p&&(r+=`rotate(${p}deg) `),w&&(r+=`rotateX(${w}deg) `),_&&(r+=`rotateY(${_}deg) `),v&&(r+=`skewX(${v}deg) `),C&&(r+=`skewY(${C}deg) `)}const u=n.x.scale*e.x,c=n.y.scale*e.y;return(u!==1||c!==1)&&(r+=`scale(${u}, ${c})`),r||"none"}const gc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},kf=typeof window<"u"&&window.MotionDebug!==void 0,u0=["","X","Y","Z"],Ok={visibility:"hidden"},iw=1e3;let Mk=0;function c0(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function Y4(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=r4(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",hr,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&Y4(r)}function J4({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=e==null?void 0:e()){this.id=Mk++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,kf&&(gc.totalNodes=gc.resolvedTargetDeltas=gc.recalculatedProjection=0),this.nodes.forEach(Vk),this.nodes.forEach($k),this.nodes.forEach(Hk),this.nodes.forEach(Uk),kf&&window.MotionDebug.record(gc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ak)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Py),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const c=this.eventHandlers.get(l);c&&c.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=bk(l),this.instance=l;const{layoutId:c,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(f||c)&&(this.isLayoutDirty=!0),n){let w;const _=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=Sk(_,250),Rp.hasAnimatedSinceResize&&(Rp.hasAnimatedSinceResize=!1,this.nodes.forEach(ow))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&p&&(c||f)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:_,hasRelativeTargetChanged:v,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||p.getDefaultTransition()||Jk,{onLayoutAnimationStart:N,onLayoutAnimationComplete:L}=p.getProps(),K=!this.targetLayout||!K4(this.targetLayout,C)||v,W=!_&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||W||_&&(K||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,W);const G={...xy(I,"layout"),onPlay:N,onComplete:L};(p.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G)}else _||ow(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Cu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Wk),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Y4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const w=this.path[p];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:u,layout:c}=this.options;if(u===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sw);return}this.isUpdating||this.nodes.forEach(zk),this.isUpdating=!1,this.nodes.forEach(qk),this.nodes.forEach(Fk),this.nodes.forEach(jk),this.clearAllSnapshots();const u=Ha.now();Ki.delta=jl(0,1e3/60,u-Ki.timestamp),Ki.timestamp=u,Ki.isProcessing=!0,e0.update.process(Ki),e0.preRender.process(Ki),e0.render.process(Ki),Ki.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Bk),this.sharedNodes.forEach(Gk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,hr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){hr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Yr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!G4(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&(u||mc(this.latestValues)||p)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let c=this.removeElementScroll(u);return l&&(c=this.removeTransform(c)),Xk(c),{animationId:this.root.animationId,measuredBox:u,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return Yr();const c=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(Qk))){const{scroll:p}=this.root;p&&(vh(c.x,p.offset.x),vh(c.y,p.offset.y))}return c}removeElementScroll(l){var u;const c=Yr();if(Uo(c,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return c;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:w,options:_}=p;p!==this.root&&w&&_.layoutScroll&&(w.wasRoot&&Uo(c,l),vh(c.x,w.offset.x),vh(c.y,w.offset.y))}return c}applyTransform(l,u=!1){const c=Yr();Uo(c,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&wh(c,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),mc(p.latestValues)&&wh(c,p.latestValues)}return mc(this.latestValues)&&wh(c,this.latestValues),c}removeTransform(l){const u=Yr();Uo(u,l);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!mc(f.latestValues))continue;a1(f.latestValues)&&f.updateSnapshot();const p=Yr(),w=f.measurePageBox();Uo(p,w),Q5(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return mc(this.latestValues)&&Q5(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ki.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==c;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:_}=this.options;if(!(!this.layout||!(w||_))){if(this.resolvedRelativeTargetAt=Ki.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yr(),this.relativeTargetOrigin=Yr(),jf(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Uo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Yr(),this.targetWithTransforms=Yr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Uo(this.target,this.layout.layoutBox),B4(this.target,this.targetDelta)):Uo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yr(),this.relativeTargetOrigin=Yr(),jf(this.relativeTargetOrigin,this.target,v.target),Uo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}kf&&gc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||a1(this.parent.latestValues)||U4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),c=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(f=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Ki.timestamp&&(f=!1),f)return;const{layout:p,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||w))return;Uo(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,v=this.treeScale.y;ck(this.layoutCorrected,this.treeScale,this.path,c),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Yr());const{target:C}=u;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Y5(this.prevProjectionDelta.x,this.projectionDelta.x),Y5(this.prevProjectionDelta.y,this.projectionDelta.y)),Ff(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==v||!rw(this.projectionDelta.x,this.prevProjectionDelta.x)||!rw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),kf&&gc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yh(),this.projectionDelta=yh(),this.projectionDeltaWithTransform=yh()}setAnimationOrigin(l,u=!1){const c=this.snapshot,f=c?c.latestValues:{},p={...this.latestValues},w=yh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const _=Yr(),v=c?c.source:void 0,C=this.layout?this.layout.source:void 0,I=v!==C,N=this.getStack(),L=!N||N.members.length<=1,K=!!(I&&!L&&this.options.crossfade===!0&&!this.path.some(Yk));this.animationProgress=0;let W;this.mixTargetDelta=G=>{const ie=G/1e3;aw(w.x,l.x,ie),aw(w.y,l.y,ie),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jf(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Kk(this.relativeTarget,this.relativeTargetOrigin,_,ie),W&&Rk(this.relativeTarget,W)&&(this.isProjectionDirty=!1),W||(W=Yr()),Uo(W,this.relativeTarget)),I&&(this.animationValues=p,Tk(p,f,this.latestValues,ie,K,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ie},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Cu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=hr.update(()=>{Rp.hasAnimatedSinceResize=!0,this.currentAnimation=_k(0,iw,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:c,layout:f,latestValues:p}=l;if(!(!u||!c||!f)){if(this!==l&&this.layout&&f&&X4(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||Yr();const w=wo(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+w;const _=wo(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+_}Uo(u,c),wh(u,p),Ff(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Lk),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:c}=l;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(u=!0),!u)return;const f={};c.z&&c0("z",l,f,this.animationValues);for(let p=0;p<u0.length;p++)c0(`rotate${u0[p]}`,l,f,this.animationValues),c0(`skew${u0[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}getProjectionStyles(l){var u,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Ok;const f={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=kp(l==null?void 0:l.pointerEvents)||"",f.transform=p?p(this.latestValues,""):"none",f;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=kp(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!mc(this.latestValues)&&(I.transform=p?p({},""):"none",this.hasProjected=!1),I}const _=w.animationValues||w.latestValues;this.applyTransformsToTarget(),f.transform=Dk(this.projectionDeltaWithTransform,this.treeScale,_),p&&(f.transform=p(_,f.transform));const{x:v,y:C}=this.projectionDelta;f.transformOrigin=`${v.origin*100}% ${C.origin*100}% 0`,w.animationValues?f.opacity=w===this?(c=(u=_.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:f.opacity=w===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const I in Xp){if(_[I]===void 0)continue;const{correct:N,applyTo:L}=Xp[I],K=f.transform==="none"?_[I]:N(_[I],w);if(L){const W=L.length;for(let G=0;G<W;G++)f[L[G]]=K}else f[I]=K}return this.options.layoutId&&(f.pointerEvents=w===this?kp(l==null?void 0:l.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(sw),this.root.sharedNodes.clear()}}}function Fk(n){n.updateLayout()}function jk(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,l=t.source!==n.layout.source;s==="size"?Bo(w=>{const _=l?t.measuredBox[w]:t.layoutBox[w],v=wo(_);_.min=r[w].min,_.max=_.min+v}):X4(s,t.layoutBox,r)&&Bo(w=>{const _=l?t.measuredBox[w]:t.layoutBox[w],v=wo(r[w]);_.max=_.min+v,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+v)});const u=yh();Ff(u,r,t.layoutBox);const c=yh();l?Ff(c,n.applyTransform(i,!0),t.measuredBox):Ff(c,r,t.layoutBox);const f=!G4(u);let p=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:_,layout:v}=w;if(_&&v){const C=Yr();jf(C,t.layoutBox,_.layoutBox);const I=Yr();jf(I,r,v.layoutBox),K4(C,I)||(p=!0),w.options.layoutRoot&&(n.relativeTarget=I,n.relativeTargetOrigin=C,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:u,hasLayoutChanged:f,hasRelativeTargetChanged:p})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function Vk(n){kf&&gc.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Uk(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Bk(n){n.clearSnapshot()}function sw(n){n.clearMeasurements()}function zk(n){n.isLayoutDirty=!1}function qk(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function ow(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function $k(n){n.resolveTargetDelta()}function Hk(n){n.calcProjection()}function Wk(n){n.resetSkewAndRotation()}function Gk(n){n.removeLeadSnapshot()}function aw(n,e,t){n.translate=Lr(e.translate,0,t),n.scale=Lr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function lw(n,e,t,r){n.min=Lr(e.min,t.min,r),n.max=Lr(e.max,t.max,r)}function Kk(n,e,t,r){lw(n.x,e.x,t.x,r),lw(n.y,e.y,t.y,r)}function Yk(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Jk={duration:.45,ease:[.4,0,.1,1]},uw=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),cw=uw("applewebkit/")&&!uw("chrome/")?Math.round:vo;function hw(n){n.min=cw(n.min),n.max=cw(n.max)}function Xk(n){hw(n.x),hw(n.y)}function X4(n,e,t){return n==="position"||n==="preserve-aspect"&&!ek(nw(e),nw(t),.2)}function Qk(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const Zk=J4({attachResizeListener:(n,e)=>Qf(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),h0={current:void 0},Q4=J4({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!h0.current){const n=new Zk({});n.mount(window),n.setOptions({layoutScroll:!0}),h0.current=n}return h0.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),eC={pan:{Feature:gk},drag:{Feature:mk,ProjectionNode:Q4,MeasureLayout:$4}};function fw(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=r[i];s&&hr.postRender(()=>s(e,md(e)))}class tC extends $u{mount(){const{current:e}=this.node;e&&(this.unmount=eP(e,t=>(fw(this.node,t,"Start"),r=>fw(this.node,r,"End"))))}unmount(){}}class nC extends $u{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pd(Qf(this.node.current,"focus",()=>this.onFocus()),Qf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dw(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=r[i];s&&hr.postRender(()=>s(e,md(e)))}class rC extends $u{mount(){const{current:e}=this.node;e&&(this.unmount=iP(e,t=>(dw(this.node,t,"Start"),(r,{success:i})=>dw(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const u1=new WeakMap,f0=new WeakMap,iC=n=>{const e=u1.get(n.target);e&&e(n)},sC=n=>{n.forEach(iC)};function oC({root:n,...e}){const t=n||document;f0.has(t)||f0.set(t,{});const r=f0.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(sC,{root:n,...e})),r[i]}function aC(n,e,t){const r=oC(e);return u1.set(n,t),r.observe(n),()=>{u1.delete(n),r.unobserve(n)}}const lC={some:0,all:1};class uC extends $u{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:lC[i]},u=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:w}=this.node.getProps(),_=f?p:w;_&&_(c)};return aC(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(cC(e,t))&&this.startObserver()}unmount(){}}function cC({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const hC={inView:{Feature:uC},tap:{Feature:rC},focus:{Feature:nC},hover:{Feature:tC}},fC={layout:{ProjectionNode:Q4,MeasureLayout:$4}},c1={current:null},Z4={current:!1};function dC(){if(Z4.current=!0,!!ay)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>c1.current=n.matches;n.addListener(e),e()}else c1.current=!1}const pC=[...S4,ws,Ru],mC=n=>pC.find(A4(n)),pw=new WeakMap;function gC(n,e,t){for(const r in e){const i=e[r],s=t[r];if(xs(i))n.addValue(r,i);else if(xs(s))n.addValue(r,Jf(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const l=n.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=n.getStaticValue(r);n.addValue(r,Jf(l!==void 0?l:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const mw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class yC{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Ha.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,hr.render(this.render,!1,!0))};const{latestValues:c,renderState:f,onUpdate:p}=l;this.onUpdate=p,this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!s,this.isControllingVariants=Lm(t),this.isVariantNode=Rx(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,..._}=this.scrapeMotionValuesFromProps(t,{},this);for(const v in _){const C=_[v];c[v]!==void 0&&xs(C)&&C.set(c[v],!1)}}mount(e){this.current=e,pw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),Z4.current||dC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:c1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){pw.delete(this.current),this.projection&&this.projection.unmount(),Cu(this.notifyUpdate),Cu(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Lc.has(e),i=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&hr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ch){const t=Ch[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<mw.length;r++){const i=mw[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,l=e[s];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=gC(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Jf(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(b4(i)||f4(i))?i=parseFloat(i):!mC(i)&&Ru.test(t)&&(i=v4(e,t)),this.setBaseTarget(e,xs(i)?i.get():i)),xs(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=py(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!xs(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Py),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class eA extends yC{constructor(){super(...arguments),this.KeyframeResolver=E4}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xs(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function vC(n){return window.getComputedStyle(n)}class wC extends eA{constructor(){super(...arguments),this.type="html",this.renderInstance=Bx}readValueFromInstance(e,t){if(Lc.has(t)){const r=Ly(t);return r&&r.default||0}else{const r=vC(e),i=(jx(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return z4(e,t)}build(e,t,r){yy(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return by(e,t,r)}}class _C extends eA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yr}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Lc.has(t)){const r=Ly(t);return r&&r.default||0}return t=zx.has(t)?t:hy(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return Hx(e,t,r)}build(e,t,r){vy(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,i){qx(e,t,r,i)}mount(e){this.isSVGTag=_y(e.tagName),super.mount(e)}}const bC=(n,e)=>dy(n)?new _C(e):new wC(e,{allowProjection:n!==ye.Fragment}),xC=GI({...HN,...hC,...eC,...fC},bC),Qt=lI(xC);function AC(){const n=ql();return $.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:$.jsxs(Qt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"max-w-2xl w-full",children:[$.jsxs("div",{className:"text-center mb-12",children:[$.jsxs(Qt.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"mb-6",children:[$.jsx(e5,{className:"w-20 h-20 mx-auto text-blue-400 mb-4"}),$.jsx("h1",{className:"text-5xl font-bold gradient-text mb-4",children:"MGT300"}),$.jsx("h2",{className:"text-3xl font-semibold text-white mb-2",children:"Revisin Unidad 2"}),$.jsx("p",{className:"text-gray-400 text-lg",children:"Semana de Preparacin para la Prueba"})]}),$.jsxs(Qt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"dramatic-card p-6 mb-8",children:[$.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[$.jsx(K0,{className:"w-6 h-6 text-cyan-400"}),$.jsx("h3",{className:"text-xl font-semibold text-white",children:"Evaluacin con 3 Jueces de IA"})]}),$.jsx("p",{className:"text-gray-300 text-left",children:"Responde preguntas sobre Destruccin Creativa, Desigualdad, Instituciones y Antropoceno. Recibe feedback personalizado de tres jueces especializados que evaluarn tu comprensin conceptual, uso de evidencia y anlisis institucional."})]})]}),$.jsxs(Qt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"space-y-4",children:[$.jsxs("button",{onClick:()=>n("/create"),className:"primary-button w-full py-4 text-lg flex items-center justify-center gap-3",children:[$.jsx(sy,{className:"w-6 h-6"}),"Crear Juego (Profesor)"]}),$.jsxs("button",{onClick:()=>n("/join"),className:"dramatic-card w-full py-4 text-lg flex items-center justify-center gap-3 hover:bg-slate-700/50 transition-all",children:[$.jsx(e5,{className:"w-6 h-6"}),"Unirse a Juego (Estudiante)"]})]}),$.jsxs(Qt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8},className:"mt-12 grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[$.jsxs("div",{className:"dramatic-card p-4",children:[$.jsx("div",{className:"text-2xl mb-2",children:""}),$.jsx("p",{className:"text-sm text-gray-300",children:"Destruccin Creativa"})]}),$.jsxs("div",{className:"dramatic-card p-4",children:[$.jsx("div",{className:"text-2xl mb-2",children:""}),$.jsx("p",{className:"text-sm text-gray-300",children:"Desigualdad"})]}),$.jsxs("div",{className:"dramatic-card p-4",children:[$.jsx("div",{className:"text-2xl mb-2",children:""}),$.jsx("p",{className:"text-sm text-gray-300",children:"Instituciones"})]}),$.jsxs("div",{className:"dramatic-card p-4",children:[$.jsx("div",{className:"text-2xl mb-2",children:""}),$.jsx("p",{className:"text-sm text-gray-300",children:"Antropoceno"})]})]})]})})}const SC=()=>{};var gw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},EC=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],l=n[t++],u=n[t++],c=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},nA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],l=i+1<n.length,u=l?n[i+1]:0,c=i+2<n.length,f=c?n[i+2]:0,p=s>>2,w=(s&3)<<4|u>>4;let _=(u&15)<<2|f>>6,v=f&63;c||(v=64,l||(_=64)),r.push(t[p],t[w],t[_],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(tA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):EC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const w=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||f==null||w==null)throw new TC;const _=s<<2|u>>4;if(r.push(_),f!==64){const v=u<<4&240|f>>2;if(r.push(v),w!==64){const C=f<<6&192|w;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class TC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IC=function(n){const e=tA(n);return nA.encodeByteArray(e,!0)},rm=function(n){return IC(n).replace(/\./g,"")},rA=function(n){try{return nA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=()=>PC().__FIREBASE_DEFAULTS__,kC=()=>{if(typeof process>"u"||typeof gw>"u")return;const n=gw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},CC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&rA(n[1]);return e&&JSON.parse(e)},Mm=()=>{try{return SC()||NC()||kC()||CC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},iA=n=>{var e,t;return(t=(e=Mm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},sA=n=>{const e=iA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},oA=()=>{var n;return(n=Mm())===null||n===void 0?void 0:n.config},aA=n=>{var e;return(e=Mm())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[rm(JSON.stringify(t)),rm(JSON.stringify(l)),""].join(".")}const Vf={};function DC(){const n={prod:[],emulator:[]};for(const e of Object.keys(Vf))Vf[e]?n.emulator.push(e):n.prod.push(e);return n}function OC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let yw=!1;function Vy(n,e){if(typeof window>"u"||typeof document>"u"||!Dc(window.location.host)||Vf[n]===e||Vf[n]||yw)return;Vf[n]=e;function t(_){return`__firebase__banner__${_}`}const r="__firebase__banner",s=DC().prod.length>0;function l(){const _=document.getElementById(r);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function c(_,v){_.setAttribute("width","24"),_.setAttribute("id",v),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{yw=!0,l()},_}function p(_,v){_.setAttribute("id",v),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function w(){const _=OC(r),v=t("text"),C=document.getElementById(v)||document.createElement("span"),I=t("learnmore"),N=document.getElementById(I)||document.createElement("a"),L=t("preprendIcon"),K=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const W=_.element;u(W),p(N,I);const G=f();c(K,L),W.append(K,C,N,G),document.body.appendChild(W)}s?(C.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(As())}function FC(){var n;const e=(n=Mm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function UC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BC(){const n=As();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function zC(){return!FC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qC(){try{return typeof indexedDB=="object"}catch{return!1}}function $C(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="FirebaseError";class rl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=HC,Object.setPrototypeOf(this,rl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gd.prototype.create)}}class gd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?WC(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new rl(i,u,r)}}function WC(n,e){return n.replace(GC,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const GC=/\{\$([^}]+)}/g;function KC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Tc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],l=e[i];if(vw(s)&&vw(l)){if(!Tc(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function vw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function YC(n,e){const t=new JC(n,e);return t.subscribe.bind(t)}class JC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");XC(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=d0),i.error===void 0&&(i.error=d0),i.complete===void 0&&(i.complete=d0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function d0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(n){return n&&n._delegate?n._delegate:n}class Lu{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new RC;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eR(e))try{this.getOrInitializeService({instanceIdentifier:yc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=yc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yc){return this.instances.has(e)}getOptions(e=yc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZC(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yc){return this.component?this.component.multipleInstances?e:yc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZC(n){return n===yc?void 0:n}function eR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new QC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(wn||(wn={}));const nR={debug:wn.DEBUG,verbose:wn.VERBOSE,info:wn.INFO,warn:wn.WARN,error:wn.ERROR,silent:wn.SILENT},rR=wn.INFO,iR={[wn.DEBUG]:"log",[wn.VERBOSE]:"log",[wn.INFO]:"info",[wn.WARN]:"warn",[wn.ERROR]:"error"},sR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=iR[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Uy{constructor(e){this.name=e,this._logLevel=rR,this._logHandler=sR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wn.DEBUG,...e),this._logHandler(this,wn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wn.VERBOSE,...e),this._logHandler(this,wn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wn.INFO,...e),this._logHandler(this,wn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wn.WARN,...e),this._logHandler(this,wn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wn.ERROR,...e),this._logHandler(this,wn.ERROR,...e)}}const oR=(n,e)=>e.some(t=>n instanceof t);let ww,_w;function aR(){return ww||(ww=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lR(){return _w||(_w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lA=new WeakMap,h1=new WeakMap,uA=new WeakMap,p0=new WeakMap,By=new WeakMap;function uR(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t(Tu(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&lA.set(t,n)}).catch(()=>{}),By.set(e,n),e}function cR(n){if(h1.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});h1.set(n,e)}let f1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return h1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||uA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Tu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function hR(n){f1=n(f1)}function fR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(m0(this),e,...t);return uA.set(r,e.sort?e.sort():[e]),Tu(r)}:lR().includes(n)?function(...e){return n.apply(m0(this),e),Tu(lA.get(this))}:function(...e){return Tu(n.apply(m0(this),e))}}function dR(n){return typeof n=="function"?fR(n):(n instanceof IDBTransaction&&cR(n),oR(n,aR())?new Proxy(n,f1):n)}function Tu(n){if(n instanceof IDBRequest)return uR(n);if(p0.has(n))return p0.get(n);const e=dR(n);return e!==n&&(p0.set(n,e),By.set(e,n)),e}const m0=n=>By.get(n);function pR(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(n,e),u=Tu(l);return r&&l.addEventListener("upgradeneeded",c=>{r(Tu(l.result),c.oldVersion,c.newVersion,Tu(l.transaction),c)}),t&&l.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const mR=["get","getKey","getAll","getAllKeys","count"],gR=["put","add","delete","clear"],g0=new Map;function bw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(g0.get(e))return g0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=gR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mR.includes(t)))return;const s=async function(l,...u){const c=this.transaction(l,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),i&&c.done]))[0]};return g0.set(e,s),s}hR(n=>({...n,get:(e,t,r)=>bw(e,t)||n.get(e,t,r),has:(e,t)=>!!bw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function vR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const d1="@firebase/app",xw="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=new Uy("@firebase/app"),wR="@firebase/app-compat",_R="@firebase/analytics-compat",bR="@firebase/analytics",xR="@firebase/app-check-compat",AR="@firebase/app-check",SR="@firebase/auth",ER="@firebase/auth-compat",TR="@firebase/database",IR="@firebase/data-connect",PR="@firebase/database-compat",NR="@firebase/functions",kR="@firebase/functions-compat",CR="@firebase/installations",RR="@firebase/installations-compat",LR="@firebase/messaging",DR="@firebase/messaging-compat",OR="@firebase/performance",MR="@firebase/performance-compat",FR="@firebase/remote-config",jR="@firebase/remote-config-compat",VR="@firebase/storage",UR="@firebase/storage-compat",BR="@firebase/firestore",zR="@firebase/ai",qR="@firebase/firestore-compat",$R="firebase",HR="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="[DEFAULT]",WR={[d1]:"fire-core",[wR]:"fire-core-compat",[bR]:"fire-analytics",[_R]:"fire-analytics-compat",[AR]:"fire-app-check",[xR]:"fire-app-check-compat",[SR]:"fire-auth",[ER]:"fire-auth-compat",[TR]:"fire-rtdb",[IR]:"fire-data-connect",[PR]:"fire-rtdb-compat",[NR]:"fire-fn",[kR]:"fire-fn-compat",[CR]:"fire-iid",[RR]:"fire-iid-compat",[LR]:"fire-fcm",[DR]:"fire-fcm-compat",[OR]:"fire-perf",[MR]:"fire-perf-compat",[FR]:"fire-rc",[jR]:"fire-rc-compat",[VR]:"fire-gcs",[UR]:"fire-gcs-compat",[BR]:"fire-fst",[qR]:"fire-fst-compat",[zR]:"fire-vertex","fire-js":"fire-js",[$R]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new Map,GR=new Map,m1=new Map;function Aw(n,e){try{n.container.addComponent(e)}catch(t){Vl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ic(n){const e=n.name;if(m1.has(e))return Vl.debug(`There were multiple attempts to register component ${e}.`),!1;m1.set(e,n);for(const t of im.values())Aw(t,n);for(const t of GR.values())Aw(t,n);return!0}function Fm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function po(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Iu=new gd("app","Firebase",KR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Iu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=HR;function cA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:p1,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Iu.create("bad-app-name",{appName:String(i)});if(t||(t=oA()),!t)throw Iu.create("no-options");const s=im.get(i);if(s){if(Tc(t,s.options)&&Tc(r,s.config))return s;throw Iu.create("duplicate-app",{appName:i})}const l=new tR(i);for(const c of m1.values())l.addComponent(c);const u=new YR(t,r,l);return im.set(i,u),u}function zy(n=p1){const e=im.get(n);if(!e&&n===p1&&oA())return cA();if(!e)throw Iu.create("no-app",{appName:n});return e}function Wa(n,e,t){var r;let i=(r=WR[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vl.warn(u.join(" "));return}Ic(new Lu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="firebase-heartbeat-database",XR=1,Zf="firebase-heartbeat-store";let y0=null;function hA(){return y0||(y0=pR(JR,XR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Zf)}catch(t){console.warn(t)}}}}).catch(n=>{throw Iu.create("idb-open",{originalErrorMessage:n.message})})),y0}async function QR(n){try{const t=(await hA()).transaction(Zf),r=await t.objectStore(Zf).get(fA(n));return await t.done,r}catch(e){if(e instanceof rl)Vl.warn(e.message);else{const t=Iu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vl.warn(t.message)}}}async function Sw(n,e){try{const r=(await hA()).transaction(Zf,"readwrite");await r.objectStore(Zf).put(e,fA(n)),await r.done}catch(t){if(t instanceof rl)Vl.warn(t.message);else{const r=Iu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Vl.warn(r.message)}}}function fA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=1024,eL=30;class tL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rL(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ew();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>eL){const l=iL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Vl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ew(),{heartbeatsToSend:r,unsentEntries:i}=nL(this._heartbeatsCache.heartbeats),s=rm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Vl.warn(t),""}}}function Ew(){return new Date().toISOString().substring(0,10)}function nL(n,e=ZR){const t=[];let r=n.slice();for(const i of n){const s=t.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),Tw(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Tw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class rL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qC()?$C().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await QR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Sw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Sw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Tw(n){return rm(JSON.stringify({version:2,heartbeats:n})).length}function iL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(n){Ic(new Lu("platform-logger",e=>new yR(e),"PRIVATE")),Ic(new Lu("heartbeat",e=>new tL(e),"PRIVATE")),Wa(d1,xw,n),Wa(d1,xw,"esm2017"),Wa("fire-js","")}sL("");var Iw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pu,dA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(q,R){function k(){}k.prototype=R.prototype,q.D=R.prototype,q.prototype=new k,q.prototype.constructor=q,q.C=function(U,P,F){for(var O=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)O[ae-2]=arguments[ae];return R.prototype[P].apply(U,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(q,R,k){k||(k=0);var U=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)U[P]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(P=0;16>P;++P)U[P]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=q.g[0],k=q.g[1],P=q.g[2];var F=q.g[3],O=R+(F^k&(P^F))+U[0]+3614090360&4294967295;R=k+(O<<7&4294967295|O>>>25),O=F+(P^R&(k^P))+U[1]+3905402710&4294967295,F=R+(O<<12&4294967295|O>>>20),O=P+(k^F&(R^k))+U[2]+606105819&4294967295,P=F+(O<<17&4294967295|O>>>15),O=k+(R^P&(F^R))+U[3]+3250441966&4294967295,k=P+(O<<22&4294967295|O>>>10),O=R+(F^k&(P^F))+U[4]+4118548399&4294967295,R=k+(O<<7&4294967295|O>>>25),O=F+(P^R&(k^P))+U[5]+1200080426&4294967295,F=R+(O<<12&4294967295|O>>>20),O=P+(k^F&(R^k))+U[6]+2821735955&4294967295,P=F+(O<<17&4294967295|O>>>15),O=k+(R^P&(F^R))+U[7]+4249261313&4294967295,k=P+(O<<22&4294967295|O>>>10),O=R+(F^k&(P^F))+U[8]+1770035416&4294967295,R=k+(O<<7&4294967295|O>>>25),O=F+(P^R&(k^P))+U[9]+2336552879&4294967295,F=R+(O<<12&4294967295|O>>>20),O=P+(k^F&(R^k))+U[10]+4294925233&4294967295,P=F+(O<<17&4294967295|O>>>15),O=k+(R^P&(F^R))+U[11]+2304563134&4294967295,k=P+(O<<22&4294967295|O>>>10),O=R+(F^k&(P^F))+U[12]+1804603682&4294967295,R=k+(O<<7&4294967295|O>>>25),O=F+(P^R&(k^P))+U[13]+4254626195&4294967295,F=R+(O<<12&4294967295|O>>>20),O=P+(k^F&(R^k))+U[14]+2792965006&4294967295,P=F+(O<<17&4294967295|O>>>15),O=k+(R^P&(F^R))+U[15]+1236535329&4294967295,k=P+(O<<22&4294967295|O>>>10),O=R+(P^F&(k^P))+U[1]+4129170786&4294967295,R=k+(O<<5&4294967295|O>>>27),O=F+(k^P&(R^k))+U[6]+3225465664&4294967295,F=R+(O<<9&4294967295|O>>>23),O=P+(R^k&(F^R))+U[11]+643717713&4294967295,P=F+(O<<14&4294967295|O>>>18),O=k+(F^R&(P^F))+U[0]+3921069994&4294967295,k=P+(O<<20&4294967295|O>>>12),O=R+(P^F&(k^P))+U[5]+3593408605&4294967295,R=k+(O<<5&4294967295|O>>>27),O=F+(k^P&(R^k))+U[10]+38016083&4294967295,F=R+(O<<9&4294967295|O>>>23),O=P+(R^k&(F^R))+U[15]+3634488961&4294967295,P=F+(O<<14&4294967295|O>>>18),O=k+(F^R&(P^F))+U[4]+3889429448&4294967295,k=P+(O<<20&4294967295|O>>>12),O=R+(P^F&(k^P))+U[9]+568446438&4294967295,R=k+(O<<5&4294967295|O>>>27),O=F+(k^P&(R^k))+U[14]+3275163606&4294967295,F=R+(O<<9&4294967295|O>>>23),O=P+(R^k&(F^R))+U[3]+4107603335&4294967295,P=F+(O<<14&4294967295|O>>>18),O=k+(F^R&(P^F))+U[8]+1163531501&4294967295,k=P+(O<<20&4294967295|O>>>12),O=R+(P^F&(k^P))+U[13]+2850285829&4294967295,R=k+(O<<5&4294967295|O>>>27),O=F+(k^P&(R^k))+U[2]+4243563512&4294967295,F=R+(O<<9&4294967295|O>>>23),O=P+(R^k&(F^R))+U[7]+1735328473&4294967295,P=F+(O<<14&4294967295|O>>>18),O=k+(F^R&(P^F))+U[12]+2368359562&4294967295,k=P+(O<<20&4294967295|O>>>12),O=R+(k^P^F)+U[5]+4294588738&4294967295,R=k+(O<<4&4294967295|O>>>28),O=F+(R^k^P)+U[8]+2272392833&4294967295,F=R+(O<<11&4294967295|O>>>21),O=P+(F^R^k)+U[11]+1839030562&4294967295,P=F+(O<<16&4294967295|O>>>16),O=k+(P^F^R)+U[14]+4259657740&4294967295,k=P+(O<<23&4294967295|O>>>9),O=R+(k^P^F)+U[1]+2763975236&4294967295,R=k+(O<<4&4294967295|O>>>28),O=F+(R^k^P)+U[4]+1272893353&4294967295,F=R+(O<<11&4294967295|O>>>21),O=P+(F^R^k)+U[7]+4139469664&4294967295,P=F+(O<<16&4294967295|O>>>16),O=k+(P^F^R)+U[10]+3200236656&4294967295,k=P+(O<<23&4294967295|O>>>9),O=R+(k^P^F)+U[13]+681279174&4294967295,R=k+(O<<4&4294967295|O>>>28),O=F+(R^k^P)+U[0]+3936430074&4294967295,F=R+(O<<11&4294967295|O>>>21),O=P+(F^R^k)+U[3]+3572445317&4294967295,P=F+(O<<16&4294967295|O>>>16),O=k+(P^F^R)+U[6]+76029189&4294967295,k=P+(O<<23&4294967295|O>>>9),O=R+(k^P^F)+U[9]+3654602809&4294967295,R=k+(O<<4&4294967295|O>>>28),O=F+(R^k^P)+U[12]+3873151461&4294967295,F=R+(O<<11&4294967295|O>>>21),O=P+(F^R^k)+U[15]+530742520&4294967295,P=F+(O<<16&4294967295|O>>>16),O=k+(P^F^R)+U[2]+3299628645&4294967295,k=P+(O<<23&4294967295|O>>>9),O=R+(P^(k|~F))+U[0]+4096336452&4294967295,R=k+(O<<6&4294967295|O>>>26),O=F+(k^(R|~P))+U[7]+1126891415&4294967295,F=R+(O<<10&4294967295|O>>>22),O=P+(R^(F|~k))+U[14]+2878612391&4294967295,P=F+(O<<15&4294967295|O>>>17),O=k+(F^(P|~R))+U[5]+4237533241&4294967295,k=P+(O<<21&4294967295|O>>>11),O=R+(P^(k|~F))+U[12]+1700485571&4294967295,R=k+(O<<6&4294967295|O>>>26),O=F+(k^(R|~P))+U[3]+2399980690&4294967295,F=R+(O<<10&4294967295|O>>>22),O=P+(R^(F|~k))+U[10]+4293915773&4294967295,P=F+(O<<15&4294967295|O>>>17),O=k+(F^(P|~R))+U[1]+2240044497&4294967295,k=P+(O<<21&4294967295|O>>>11),O=R+(P^(k|~F))+U[8]+1873313359&4294967295,R=k+(O<<6&4294967295|O>>>26),O=F+(k^(R|~P))+U[15]+4264355552&4294967295,F=R+(O<<10&4294967295|O>>>22),O=P+(R^(F|~k))+U[6]+2734768916&4294967295,P=F+(O<<15&4294967295|O>>>17),O=k+(F^(P|~R))+U[13]+1309151649&4294967295,k=P+(O<<21&4294967295|O>>>11),O=R+(P^(k|~F))+U[4]+4149444226&4294967295,R=k+(O<<6&4294967295|O>>>26),O=F+(k^(R|~P))+U[11]+3174756917&4294967295,F=R+(O<<10&4294967295|O>>>22),O=P+(R^(F|~k))+U[2]+718787259&4294967295,P=F+(O<<15&4294967295|O>>>17),O=k+(F^(P|~R))+U[9]+3951481745&4294967295,q.g[0]=q.g[0]+R&4294967295,q.g[1]=q.g[1]+(P+(O<<21&4294967295|O>>>11))&4294967295,q.g[2]=q.g[2]+P&4294967295,q.g[3]=q.g[3]+F&4294967295}r.prototype.u=function(q,R){R===void 0&&(R=q.length);for(var k=R-this.blockSize,U=this.B,P=this.h,F=0;F<R;){if(P==0)for(;F<=k;)i(this,q,F),F+=this.blockSize;if(typeof q=="string"){for(;F<R;)if(U[P++]=q.charCodeAt(F++),P==this.blockSize){i(this,U),P=0;break}}else for(;F<R;)if(U[P++]=q[F++],P==this.blockSize){i(this,U),P=0;break}}this.h=P,this.o+=R},r.prototype.v=function(){var q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);q[0]=128;for(var R=1;R<q.length-8;++R)q[R]=0;var k=8*this.o;for(R=q.length-8;R<q.length;++R)q[R]=k&255,k/=256;for(this.u(q),q=Array(16),R=k=0;4>R;++R)for(var U=0;32>U;U+=8)q[k++]=this.g[R]>>>U&255;return q};function s(q,R){var k=u;return Object.prototype.hasOwnProperty.call(k,q)?k[q]:k[q]=R(q)}function l(q,R){this.h=R;for(var k=[],U=!0,P=q.length-1;0<=P;P--){var F=q[P]|0;U&&F==R||(k[P]=F,U=!1)}this.g=k}var u={};function c(q){return-128<=q&&128>q?s(q,function(R){return new l([R|0],0>R?-1:0)}):new l([q|0],0>q?-1:0)}function f(q){if(isNaN(q)||!isFinite(q))return w;if(0>q)return N(f(-q));for(var R=[],k=1,U=0;q>=k;U++)R[U]=q/k|0,k*=4294967296;return new l(R,0)}function p(q,R){if(q.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(q.charAt(0)=="-")return N(p(q.substring(1),R));if(0<=q.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=f(Math.pow(R,8)),U=w,P=0;P<q.length;P+=8){var F=Math.min(8,q.length-P),O=parseInt(q.substring(P,P+F),R);8>F?(F=f(Math.pow(R,F)),U=U.j(F).add(f(O))):(U=U.j(k),U=U.add(f(O)))}return U}var w=c(0),_=c(1),v=c(16777216);n=l.prototype,n.m=function(){if(I(this))return-N(this).m();for(var q=0,R=1,k=0;k<this.g.length;k++){var U=this.i(k);q+=(0<=U?U:4294967296+U)*R,R*=4294967296}return q},n.toString=function(q){if(q=q||10,2>q||36<q)throw Error("radix out of range: "+q);if(C(this))return"0";if(I(this))return"-"+N(this).toString(q);for(var R=f(Math.pow(q,6)),k=this,U="";;){var P=G(k,R).g;k=L(k,P.j(R));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(q);if(k=P,C(k))return F+U;for(;6>F.length;)F="0"+F;U=F+U}},n.i=function(q){return 0>q?0:q<this.g.length?this.g[q]:this.h};function C(q){if(q.h!=0)return!1;for(var R=0;R<q.g.length;R++)if(q.g[R]!=0)return!1;return!0}function I(q){return q.h==-1}n.l=function(q){return q=L(this,q),I(q)?-1:C(q)?0:1};function N(q){for(var R=q.g.length,k=[],U=0;U<R;U++)k[U]=~q.g[U];return new l(k,~q.h).add(_)}n.abs=function(){return I(this)?N(this):this},n.add=function(q){for(var R=Math.max(this.g.length,q.g.length),k=[],U=0,P=0;P<=R;P++){var F=U+(this.i(P)&65535)+(q.i(P)&65535),O=(F>>>16)+(this.i(P)>>>16)+(q.i(P)>>>16);U=O>>>16,F&=65535,O&=65535,k[P]=O<<16|F}return new l(k,k[k.length-1]&-2147483648?-1:0)};function L(q,R){return q.add(N(R))}n.j=function(q){if(C(this)||C(q))return w;if(I(this))return I(q)?N(this).j(N(q)):N(N(this).j(q));if(I(q))return N(this.j(N(q)));if(0>this.l(v)&&0>q.l(v))return f(this.m()*q.m());for(var R=this.g.length+q.g.length,k=[],U=0;U<2*R;U++)k[U]=0;for(U=0;U<this.g.length;U++)for(var P=0;P<q.g.length;P++){var F=this.i(U)>>>16,O=this.i(U)&65535,ae=q.i(P)>>>16,Pe=q.i(P)&65535;k[2*U+2*P]+=O*Pe,K(k,2*U+2*P),k[2*U+2*P+1]+=F*Pe,K(k,2*U+2*P+1),k[2*U+2*P+1]+=O*ae,K(k,2*U+2*P+1),k[2*U+2*P+2]+=F*ae,K(k,2*U+2*P+2)}for(U=0;U<R;U++)k[U]=k[2*U+1]<<16|k[2*U];for(U=R;U<2*R;U++)k[U]=0;return new l(k,0)};function K(q,R){for(;(q[R]&65535)!=q[R];)q[R+1]+=q[R]>>>16,q[R]&=65535,R++}function W(q,R){this.g=q,this.h=R}function G(q,R){if(C(R))throw Error("division by zero");if(C(q))return new W(w,w);if(I(q))return R=G(N(q),R),new W(N(R.g),N(R.h));if(I(R))return R=G(q,N(R)),new W(N(R.g),R.h);if(30<q.g.length){if(I(q)||I(R))throw Error("slowDivide_ only works with positive integers.");for(var k=_,U=R;0>=U.l(q);)k=ie(k),U=ie(U);var P=pe(k,1),F=pe(U,1);for(U=pe(U,2),k=pe(k,2);!C(U);){var O=F.add(U);0>=O.l(q)&&(P=P.add(k),F=O),U=pe(U,1),k=pe(k,1)}return R=L(q,P.j(R)),new W(P,R)}for(P=w;0<=q.l(R);){for(k=Math.max(1,Math.floor(q.m()/R.m())),U=Math.ceil(Math.log(k)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),F=f(k),O=F.j(R);I(O)||0<O.l(q);)k-=U,F=f(k),O=F.j(R);C(F)&&(F=_),P=P.add(F),q=L(q,O)}return new W(P,q)}n.A=function(q){return G(this,q).h},n.and=function(q){for(var R=Math.max(this.g.length,q.g.length),k=[],U=0;U<R;U++)k[U]=this.i(U)&q.i(U);return new l(k,this.h&q.h)},n.or=function(q){for(var R=Math.max(this.g.length,q.g.length),k=[],U=0;U<R;U++)k[U]=this.i(U)|q.i(U);return new l(k,this.h|q.h)},n.xor=function(q){for(var R=Math.max(this.g.length,q.g.length),k=[],U=0;U<R;U++)k[U]=this.i(U)^q.i(U);return new l(k,this.h^q.h)};function ie(q){for(var R=q.g.length+1,k=[],U=0;U<R;U++)k[U]=q.i(U)<<1|q.i(U-1)>>>31;return new l(k,q.h)}function pe(q,R){var k=R>>5;R%=32;for(var U=q.g.length-k,P=[],F=0;F<U;F++)P[F]=0<R?q.i(F+k)>>>R|q.i(F+k+1)<<32-R:q.i(F+k);return new l(P,q.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dA=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,Pu=l}).apply(typeof Iw<"u"?Iw:typeof self<"u"?self:typeof window<"u"?window:{});var dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pA,Cf,mA,Lp,g1,gA,yA,vA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,S,D){return m==Array.prototype||m==Object.prototype||(m[S]=D.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof dp=="object"&&dp];for(var S=0;S<m.length;++S){var D=m[S];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=t(this);function i(m,S){if(S)e:{var D=r;m=m.split(".");for(var J=0;J<m.length-1;J++){var be=m[J];if(!(be in D))break e;D=D[be]}m=m[m.length-1],J=D[m],S=S(J),S!=J&&S!=null&&e(D,m,{configurable:!0,writable:!0,value:S})}}function s(m,S){m instanceof String&&(m+="");var D=0,J=!1,be={next:function(){if(!J&&D<m.length){var Re=D++;return{value:S(Re,m[Re]),done:!1}}return J=!0,{done:!0,value:void 0}}};return be[Symbol.iterator]=function(){return be},be}i("Array.prototype.values",function(m){return m||function(){return s(this,function(S,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function c(m){var S=typeof m;return S=S!="object"?S:m?Array.isArray(m)?"array":S:"null",S=="array"||S=="object"&&typeof m.length=="number"}function f(m){var S=typeof m;return S=="object"&&m!=null||S=="function"}function p(m,S,D){return m.call.apply(m.bind,arguments)}function w(m,S,D){if(!m)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(be,J),m.apply(S,be)}}return function(){return m.apply(S,arguments)}}function _(m,S,D){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:w,_.apply(null,arguments)}function v(m,S){var D=Array.prototype.slice.call(arguments,1);return function(){var J=D.slice();return J.push.apply(J,arguments),m.apply(this,J)}}function C(m,S){function D(){}D.prototype=S.prototype,m.aa=S.prototype,m.prototype=new D,m.prototype.constructor=m,m.Qb=function(J,be,Re){for(var Xe=Array(arguments.length-2),gn=2;gn<arguments.length;gn++)Xe[gn-2]=arguments[gn];return S.prototype[be].apply(J,Xe)}}function I(m){const S=m.length;if(0<S){const D=Array(S);for(let J=0;J<S;J++)D[J]=m[J];return D}return[]}function N(m,S){for(let D=1;D<arguments.length;D++){const J=arguments[D];if(c(J)){const be=m.length||0,Re=J.length||0;m.length=be+Re;for(let Xe=0;Xe<Re;Xe++)m[be+Xe]=J[Xe]}else m.push(J)}}class L{constructor(S,D){this.i=S,this.j=D,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function K(m){return/^[\s\xa0]*$/.test(m)}function W(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function G(m){return G[" "](m),m}G[" "]=function(){};var ie=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function pe(m,S,D){for(const J in m)S.call(D,m[J],J,m)}function q(m,S){for(const D in m)S.call(void 0,m[D],D,m)}function R(m){const S={};for(const D in m)S[D]=m[D];return S}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(m,S){let D,J;for(let be=1;be<arguments.length;be++){J=arguments[be];for(D in J)m[D]=J[D];for(let Re=0;Re<k.length;Re++)D=k[Re],Object.prototype.hasOwnProperty.call(J,D)&&(m[D]=J[D])}}function P(m){var S=1;m=m.split(":");const D=[];for(;0<S&&m.length;)D.push(m.shift()),S--;return m.length&&D.push(m.join(":")),D}function F(m){u.setTimeout(()=>{throw m},0)}function O(){var m=_e;let S=null;return m.g&&(S=m.g,m.g=m.g.next,m.g||(m.h=null),S.next=null),S}class ae{constructor(){this.h=this.g=null}add(S,D){const J=Pe.get();J.set(S,D),this.h?this.h.next=J:this.g=J,this.h=J}}var Pe=new L(()=>new Le,m=>m.reset());class Le{constructor(){this.next=this.g=this.h=null}set(S,D){this.h=S,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,le=!1,_e=new ae,ke=()=>{const m=u.Promise.resolve(void 0);xe=()=>{m.then(ne)}};var ne=()=>{for(var m;m=O();){try{m.h.call(m.g)}catch(D){F(D)}var S=Pe;S.j(m),100>S.h&&(S.h++,m.next=S.g,S.g=m)}le=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(m,S){this.type=m,this.g=this.target=S,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var re=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,S=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const D=()=>{};u.addEventListener("test",D,S),u.removeEventListener("test",D,S)}catch{}return m})();function ue(m,S){if(Q.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var D=this.type=m.type,J=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=S,S=m.relatedTarget){if(ie){e:{try{G(S.nodeName);var be=!0;break e}catch{}be=!1}be||(S=null)}}else D=="mouseover"?S=m.fromElement:D=="mouseout"&&(S=m.toElement);this.relatedTarget=S,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:he[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ue.aa.h.call(this)}}C(ue,Q);var he={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Te(m,S,D,J,be){this.listener=m,this.proxy=null,this.src=S,this.type=D,this.capture=!!J,this.ha=be,this.key=++Ee,this.da=this.fa=!1}function Fe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function He(m){this.src=m,this.g={},this.h=0}He.prototype.add=function(m,S,D,J,be){var Re=m.toString();m=this.g[Re],m||(m=this.g[Re]=[],this.h++);var Xe=tt(m,S,J,be);return-1<Xe?(S=m[Xe],D||(S.fa=!1)):(S=new Te(S,this.src,Re,!!J,be),S.fa=D,m.push(S)),S};function nt(m,S){var D=S.type;if(D in m.g){var J=m.g[D],be=Array.prototype.indexOf.call(J,S,void 0),Re;(Re=0<=be)&&Array.prototype.splice.call(J,be,1),Re&&(Fe(S),m.g[D].length==0&&(delete m.g[D],m.h--))}}function tt(m,S,D,J){for(var be=0;be<m.length;++be){var Re=m[be];if(!Re.da&&Re.listener==S&&Re.capture==!!D&&Re.ha==J)return be}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),se={};function nn(m,S,D,J,be){if(Array.isArray(S)){for(var Re=0;Re<S.length;Re++)nn(m,S[Re],D,J,be);return null}return D=jt(D),m&&m[ve]?m.K(S,D,f(J)?!!J.capture:!1,be):zt(m,S,D,!1,J,be)}function zt(m,S,D,J,be,Re){if(!S)throw Error("Invalid event type");var Xe=f(be)?!!be.capture:!!be,gn=vt(m);if(gn||(m[Me]=gn=new He(m)),D=gn.add(S,D,J,Xe,Re),D.proxy)return D;if(J=St(),D.proxy=J,J.src=m,J.listener=D,m.addEventListener)re||(be=Xe),be===void 0&&(be=!1),m.addEventListener(S.toString(),J,be);else if(m.attachEvent)m.attachEvent(Ze(S.toString()),J);else if(m.addListener&&m.removeListener)m.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return D}function St(){function m(D){return S.call(m.src,m.listener,D)}const S=qt;return m}function Ye(m,S,D,J,be){if(Array.isArray(S))for(var Re=0;Re<S.length;Re++)Ye(m,S[Re],D,J,be);else J=f(J)?!!J.capture:!!J,D=jt(D),m&&m[ve]?(m=m.i,S=String(S).toString(),S in m.g&&(Re=m.g[S],D=tt(Re,D,J,be),-1<D&&(Fe(Re[D]),Array.prototype.splice.call(Re,D,1),Re.length==0&&(delete m.g[S],m.h--)))):m&&(m=vt(m))&&(S=m.g[S.toString()],m=-1,S&&(m=tt(S,D,J,be)),(D=-1<m?S[m]:null)&&lt(D))}function lt(m){if(typeof m!="number"&&m&&!m.da){var S=m.src;if(S&&S[ve])nt(S.i,m);else{var D=m.type,J=m.proxy;S.removeEventListener?S.removeEventListener(D,J,m.capture):S.detachEvent?S.detachEvent(Ze(D),J):S.addListener&&S.removeListener&&S.removeListener(J),(D=vt(S))?(nt(D,m),D.h==0&&(D.src=null,S[Me]=null)):Fe(m)}}}function Ze(m){return m in se?se[m]:se[m]="on"+m}function qt(m,S){if(m.da)m=!0;else{S=new ue(S,this);var D=m.listener,J=m.ha||m.src;m.fa&&lt(m),m=D.call(J,S)}return m}function vt(m){return m=m[Me],m instanceof He?m:null}var cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function jt(m){return typeof m=="function"?m:(m[cn]||(m[cn]=function(S){return m.handleEvent(S)}),m[cn])}function mt(){M.call(this),this.i=new He(this),this.M=this,this.F=null}C(mt,M),mt.prototype[ve]=!0,mt.prototype.removeEventListener=function(m,S,D,J){Ye(this,m,S,D,J)};function $t(m,S){var D,J=m.F;if(J)for(D=[];J;J=J.F)D.push(J);if(m=m.M,J=S.type||S,typeof S=="string")S=new Q(S,m);else if(S instanceof Q)S.target=S.target||m;else{var be=S;S=new Q(J,m),U(S,be)}if(be=!0,D)for(var Re=D.length-1;0<=Re;Re--){var Xe=S.g=D[Re];be=kt(Xe,J,!0,S)&&be}if(Xe=S.g=m,be=kt(Xe,J,!0,S)&&be,be=kt(Xe,J,!1,S)&&be,D)for(Re=0;Re<D.length;Re++)Xe=S.g=D[Re],be=kt(Xe,J,!1,S)&&be}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var m=this.i,S;for(S in m.g){for(var D=m.g[S],J=0;J<D.length;J++)Fe(D[J]);delete m.g[S],m.h--}}this.F=null},mt.prototype.K=function(m,S,D,J){return this.i.add(String(m),S,!1,D,J)},mt.prototype.L=function(m,S,D,J){return this.i.add(String(m),S,!0,D,J)};function kt(m,S,D,J){if(S=m.i.g[String(S)],!S)return!0;S=S.concat();for(var be=!0,Re=0;Re<S.length;++Re){var Xe=S[Re];if(Xe&&!Xe.da&&Xe.capture==D){var gn=Xe.listener,lr=Xe.ha||Xe.src;Xe.fa&&nt(m.i,Xe),be=gn.call(lr,J)!==!1&&be}}return be&&!J.defaultPrevented}function wt(m,S,D){if(typeof m=="function")D&&(m=_(m,D));else if(m&&typeof m.handleEvent=="function")m=_(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:u.setTimeout(m,S||0)}function Et(m){m.g=wt(()=>{m.g=null,m.i&&(m.i=!1,Et(m))},m.l);const S=m.h;m.h=null,m.m.apply(null,S)}class gt extends M{constructor(S,D){super(),this.m=S,this.l=D,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Et(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bn(m){M.call(this),this.h=m,this.g={}}C(bn,M);var mn=[];function ht(m){pe(m.g,function(S,D){this.g.hasOwnProperty(D)&&lt(S)},m),m.g={}}bn.prototype.N=function(){bn.aa.N.call(this),ht(this)},bn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vt=u.JSON.stringify,An=u.JSON.parse,Tt=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function en(){}en.prototype.h=null;function Mt(m){return m.h||(m.h=m.i())}function Jn(){}var Nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hn(){Q.call(this,"d")}C(hn,Q);function Ct(){Q.call(this,"c")}C(Ct,Q);var rn={},Js=null;function fr(){return Js=Js||new mt}rn.La="serverreachability";function Ss(m){Q.call(this,rn.La,m)}C(Ss,Q);function ti(m){const S=fr();$t(S,new Ss(S))}rn.STAT_EVENT="statevent";function It(m,S){Q.call(this,rn.STAT_EVENT,m),this.stat=S}C(It,Q);function Rn(m){const S=fr();$t(S,new It(S,m))}rn.Ma="timingevent";function Zi(m,S){Q.call(this,rn.Ma,m),this.size=S}C(Zi,Q);function dr(m,S){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},S)}function ni(){this.g=!0}ni.prototype.xa=function(){this.g=!1};function Mn(m,S,D,J,be,Re){m.info(function(){if(m.g)if(Re)for(var Xe="",gn=Re.split("&"),lr=0;lr<gn.length;lr++){var an=gn[lr].split("=");if(1<an.length){var sn=an[0];an=an[1];var jn=sn.split("_");Xe=2<=jn.length&&jn[1]=="type"?Xe+(sn+"="+an+"&"):Xe+(sn+"=redacted&")}}else Xe=null;else Xe=Re;return"XMLHTTP REQ ("+J+") [attempt "+be+"]: "+S+`
`+D+`
`+Xe})}function sr(m,S,D,J,be,Re,Xe){m.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+be+"]: "+S+`
`+D+`
`+Re+" "+Xe})}function qn(m,S,D,J){m.info(function(){return"XMLHTTP TEXT ("+S+"): "+_o(m,D)+(J?" "+J:"")})}function Xs(m,S){m.info(function(){return"TIMEOUT: "+S})}ni.prototype.info=function(){};function _o(m,S){if(!m.g)return S;if(!S)return null;try{var D=JSON.parse(S);if(D){for(m=0;m<D.length;m++)if(Array.isArray(D[m])){var J=D[m];if(!(2>J.length)){var be=J[1];if(Array.isArray(be)&&!(1>be.length)){var Re=be[0];if(Re!="noop"&&Re!="stop"&&Re!="close")for(var Xe=1;Xe<be.length;Xe++)be[Xe]=""}}}}return Vt(D)}catch{return S}}var Pi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Es={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Er;function fi(){}C(fi,en),fi.prototype.g=function(){return new XMLHttpRequest},fi.prototype.i=function(){return{}},Er=new fi;function pr(m,S,D,J){this.j=m,this.i=S,this.l=D,this.R=J||1,this.U=new bn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bo}function bo(){this.i=null,this.g="",this.h=!1}var es={},Ls={};function Qs(m,S,D){m.L=1,m.v=Zs(pi(S)),m.m=D,m.P=!0,xo(m,null)}function xo(m,S){m.F=Date.now(),kn(m),m.A=pi(m.v);var D=m.A,J=m.R;Array.isArray(J)||(J=[String(J)]),Pt(D.i,"t",J),m.C=0,D=m.j.J,m.h=new bo,m.g=gr(m.j,D?S:null,!m.m),0<m.O&&(m.M=new gt(_(m.Y,m,m.g),m.O)),S=m.U,D=m.g,J=m.ca;var be="readystatechange";Array.isArray(be)||(be&&(mn[0]=be.toString()),be=mn);for(var Re=0;Re<be.length;Re++){var Xe=nn(D,be[Re],J||S.handleEvent,!1,S.h||S);if(!Xe)break;S.g[Xe.key]=Xe}S=m.H?R(m.H):{},m.m?(m.u||(m.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,S)):(m.u="GET",m.g.ea(m.A,m.u,null,S)),ti(),Mn(m.i,m.u,m.A,m.l,m.R,m.m)}pr.prototype.ca=function(m){m=m.target;const S=this.M;S&&wi(m)==3?S.j():this.Y(m)},pr.prototype.Y=function(m){try{if(m==this.g)e:{const jn=wi(this.g);var S=this.g.Ba();const xi=this.g.Z();if(!(3>jn)&&(jn!=3||this.g&&(this.h.h||this.g.oa()||Ia(this.g)))){this.J||jn!=4||S==7||(S==8||0>=xi?ti(3):ti(2)),Ao(this);var D=this.g.Z();this.X=D;t:if(Go(this)){var J=Ia(this.g);m="";var be=J.length,Re=wi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ni(this),$r(this);var Xe="";break t}this.h.i=new u.TextDecoder}for(S=0;S<be;S++)this.h.h=!0,m+=this.h.i.decode(J[S],{stream:!(Re&&S==be-1)});J.length=0,this.h.g+=m,this.C=0,Xe=this.h.g}else Xe=this.g.oa();if(this.o=D==200,sr(this.i,this.u,this.A,this.l,this.R,jn,D),this.o){if(this.T&&!this.K){t:{if(this.g){var gn,lr=this.g;if((gn=lr.g?lr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(gn)){var an=gn;break t}}an=null}if(D=an)qn(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ba(this,D);else{this.o=!1,this.s=3,Rn(12),Ni(this),$r(this);break e}}if(this.P){D=!0;let Ri;for(;!this.J&&this.C<Xe.length;)if(Ri=Gu(this,Xe),Ri==Ls){jn==4&&(this.s=4,Rn(14),D=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ri==es){this.s=4,Rn(15),qn(this.i,this.l,Xe,"[Invalid Chunk]"),D=!1;break}else qn(this.i,this.l,Ri,null),ba(this,Ri);if(Go(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jn!=4||Xe.length!=0||this.h.h||(this.s=1,Rn(16),D=!1),this.o=this.o&&D,!D)qn(this.i,this.l,Xe,"[Invalid Chunked Response]"),Ni(this),$r(this);else if(0<Xe.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+Xe.length),it(sn),sn.M=!0,Rn(11))}}else qn(this.i,this.l,Xe,null),ba(this,Xe);jn==4&&Ni(this),this.o&&!this.J&&(jn==4?Ot(this.j,this):(this.o=!1,kn(this)))}else ss(this.g),D==400&&0<Xe.indexOf("Unknown SID")?(this.s=3,Rn(12)):(this.s=0,Rn(13)),Ni(this),$r(this)}}}catch{}finally{}};function Go(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Gu(m,S){var D=m.C,J=S.indexOf(`
`,D);return J==-1?Ls:(D=Number(S.substring(D,J)),isNaN(D)?es:(J+=1,J+D>S.length?Ls:(S=S.slice(J,J+D),m.C=J+D,S)))}pr.prototype.cancel=function(){this.J=!0,Ni(this)};function kn(m){m.S=Date.now()+m.I,sl(m,m.I)}function sl(m,S){if(m.B!=null)throw Error("WatchDog timer not null");m.B=dr(_(m.ba,m),S)}function Ao(m){m.B&&(u.clearTimeout(m.B),m.B=null)}pr.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Xs(this.i,this.A),this.L!=2&&(ti(),Rn(17)),Ni(this),this.s=2,$r(this)):sl(this,this.S-m)};function $r(m){m.j.G==0||m.J||Ot(m.j,m)}function Ni(m){Ao(m);var S=m.M;S&&typeof S.ma=="function"&&S.ma(),m.M=null,ht(m.U),m.g&&(S=m.g,m.g=null,S.abort(),S.ma())}function ba(m,S){try{var D=m.j;if(D.G!=0&&(D.g==m||Or(D.h,m))){if(!m.K&&Or(D.h,m)&&D.G==3){try{var J=D.Da.g.parse(S)}catch{J=null}if(Array.isArray(J)&&J.length==3){var be=J;if(be[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<m.F)Nt(D),_i(D);else break e;qe(D),Rn(18)}}else D.za=be[1],0<D.za-D.T&&37500>be[2]&&D.F&&D.v==0&&!D.C&&(D.C=dr(_(D.Za,D),6e3));if(1>=ol(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else Sn(D,11)}else if((m.K||D.g==m)&&Nt(D),!K(S))for(be=D.Da.g.parse(S),S=0;S<be.length;S++){let an=be[S];if(D.T=an[0],an=an[1],D.G==2)if(an[0]=="c"){D.K=an[1],D.ia=an[2];const sn=an[3];sn!=null&&(D.la=sn,D.j.info("VER="+D.la));const jn=an[4];jn!=null&&(D.Aa=jn,D.j.info("SVER="+D.Aa));const xi=an[5];xi!=null&&typeof xi=="number"&&0<xi&&(J=1.5*xi,D.L=J,D.j.info("backChannelRequestTimeoutMs_="+J)),J=D;const Ri=m.g;if(Ri){const ii=Ri.g?Ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ii){var Re=J.h;Re.g||ii.indexOf("spdy")==-1&&ii.indexOf("quic")==-1&&ii.indexOf("h2")==-1||(Re.j=Re.l,Re.g=new Set,Re.h&&(al(Re,Re.h),Re.h=null))}if(J.D){const Fs=Ri.g?Ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Fs&&(J.ya=Fs,fn(J.I,J.D,Fs))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-m.F,D.j.info("Handshake RTT: "+D.R+"ms")),J=D;var Xe=m;if(J.qa=Dn(J,J.J?J.ia:null,J.W),Xe.K){or(J.h,Xe);var gn=Xe,lr=J.L;lr&&(gn.I=lr),gn.B&&(Ao(gn),kn(gn)),J.g=Xe}else Ue(J);0<D.i.length&&b(D)}else an[0]!="stop"&&an[0]!="close"||Sn(D,7);else D.G==3&&(an[0]=="stop"||an[0]=="close"?an[0]=="stop"?Sn(D,7):Mr(D):an[0]!="noop"&&D.l&&D.l.ta(an),D.v=0)}}ti(4)}catch{}}var xa=class{constructor(m,S){this.g=m,this.map=S}};function So(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ki(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ol(m){return m.h?1:m.g?m.g.size:0}function Or(m,S){return m.h?m.h==S:m.g?m.g.has(S):!1}function al(m,S){m.g?m.g.add(S):m.h=S}function or(m,S){m.h&&m.h==S?m.h=null:m.g&&m.g.has(S)&&m.g.delete(S)}So.prototype.cancel=function(){if(this.i=ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function ll(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let S=m.i;for(const D of m.g.values())S=S.concat(D.D);return S}return I(m.i)}function Ko(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var S=[],D=m.length,J=0;J<D;J++)S.push(m[J]);return S}S=[],D=0;for(J in m)S[D++]=m[J];return S}function ts(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var S=[];m=m.length;for(var D=0;D<m;D++)S.push(D);return S}S=[],D=0;for(const J in m)S[D++]=J;return S}}}function ns(m,S){if(m.forEach&&typeof m.forEach=="function")m.forEach(S,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,S,void 0);else for(var D=ts(m),J=Ko(m),be=J.length,Re=0;Re<be;Re++)S.call(void 0,J[Re],D&&D[Re],m)}var di=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yo(m,S){if(m){m=m.split("&");for(var D=0;D<m.length;D++){var J=m[D].indexOf("="),be=null;if(0<=J){var Re=m[D].substring(0,J);be=m[D].substring(J+1)}else Re=m[D];S(Re,be?decodeURIComponent(be.replace(/\+/g," ")):"")}}}function Ln(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Ln){this.h=m.h,Jo(this,m.j),this.o=m.o,this.g=m.g,Eo(this,m.s),this.l=m.l;var S=m.i,D=new mi;D.i=S.i,S.g&&(D.g=new Map(S.g),D.h=S.h),To(this,D),this.m=m.m}else m&&(S=String(m).match(di))?(this.h=!1,Jo(this,S[1]||"",!0),this.o=on(S[2]||""),this.g=on(S[3]||"",!0),Eo(this,S[4]),this.l=on(S[5]||"",!0),To(this,S[6]||"",!0),this.m=on(S[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}Ln.prototype.toString=function(){var m=[],S=this.j;S&&m.push(Bi(S,Sa,!0),":");var D=this.g;return(D||S=="file")&&(m.push("//"),(S=this.o)&&m.push(Bi(S,Sa,!0),"@"),m.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&m.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&m.push("/"),m.push(Bi(D,D.charAt(0)=="/"?Hl:$l,!0))),(D=this.i.toString())&&m.push("?",D),(D=this.m)&&m.push("#",Bi(D,eo)),m.join("")};function pi(m){return new Ln(m)}function Jo(m,S,D){m.j=D?on(S,!0):S,m.j&&(m.j=m.j.replace(/:$/,""))}function Eo(m,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);m.s=S}else m.s=null}function To(m,S,D){S instanceof mi?(m.i=S,Ds(m.i,m.h)):(D||(S=Bi(S,Ea)),m.i=new mi(S,m.h))}function fn(m,S,D){m.i.set(S,D)}function Zs(m){return fn(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function on(m,S){return m?S?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Bi(m,S,D){return typeof m=="string"?(m=encodeURI(m).replace(S,Aa),D&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Aa(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Sa=/[#\/\?@]/g,$l=/[#\?:]/g,Hl=/[#\?]/g,Ea=/[#\?@]/g,eo=/#/g;function mi(m,S){this.h=this.g=null,this.i=m||null,this.j=!!S}function Hr(m){m.g||(m.g=new Map,m.h=0,m.i&&Yo(m.i,function(S,D){m.add(decodeURIComponent(S.replace(/\+/g," ")),D)}))}n=mi.prototype,n.add=function(m,S){Hr(this),this.i=null,m=rs(this,m);var D=this.g.get(m);return D||this.g.set(m,D=[]),D.push(S),this.h+=1,this};function gi(m,S){Hr(m),S=rs(m,S),m.g.has(S)&&(m.i=null,m.h-=m.g.get(S).length,m.g.delete(S))}function zi(m,S){return Hr(m),S=rs(m,S),m.g.has(S)}n.forEach=function(m,S){Hr(this),this.g.forEach(function(D,J){D.forEach(function(be){m.call(S,be,J,this)},this)},this)},n.na=function(){Hr(this);const m=Array.from(this.g.values()),S=Array.from(this.g.keys()),D=[];for(let J=0;J<S.length;J++){const be=m[J];for(let Re=0;Re<be.length;Re++)D.push(S[J])}return D},n.V=function(m){Hr(this);let S=[];if(typeof m=="string")zi(this,m)&&(S=S.concat(this.g.get(rs(this,m))));else{m=Array.from(this.g.values());for(let D=0;D<m.length;D++)S=S.concat(m[D])}return S},n.set=function(m,S){return Hr(this),this.i=null,m=rs(this,m),zi(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[S]),this.h+=1,this},n.get=function(m,S){return m?(m=this.V(m),0<m.length?String(m[0]):S):S};function Pt(m,S,D){gi(m,S),0<D.length&&(m.i=null,m.g.set(rs(m,S),I(D)),m.h+=D.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],S=Array.from(this.g.keys());for(var D=0;D<S.length;D++){var J=S[D];const Re=encodeURIComponent(String(J)),Xe=this.V(J);for(J=0;J<Xe.length;J++){var be=Re;Xe[J]!==""&&(be+="="+encodeURIComponent(String(Xe[J]))),m.push(be)}}return this.i=m.join("&")};function rs(m,S){return S=String(S),m.j&&(S=S.toLowerCase()),S}function Ds(m,S){S&&!m.j&&(Hr(m),m.i=null,m.g.forEach(function(D,J){var be=J.toLowerCase();J!=be&&(gi(this,J),Pt(this,be,D))},m)),m.j=S}function Ku(m,S){const D=new ni;if(u.Image){const J=new Image;J.onload=v(mr,D,"TestLoadImage: loaded",!0,S,J),J.onerror=v(mr,D,"TestLoadImage: error",!1,S,J),J.onabort=v(mr,D,"TestLoadImage: abort",!1,S,J),J.ontimeout=v(mr,D,"TestLoadImage: timeout",!1,S,J),u.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=m}else S(!1)}function Wl(m,S){const D=new ni,J=new AbortController,be=setTimeout(()=>{J.abort(),mr(D,"TestPingServer: timeout",!1,S)},1e4);fetch(m,{signal:J.signal}).then(Re=>{clearTimeout(be),Re.ok?mr(D,"TestPingServer: ok",!0,S):mr(D,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(be),mr(D,"TestPingServer: error",!1,S)})}function mr(m,S,D,J,be){try{be&&(be.onload=null,be.onerror=null,be.onabort=null,be.ontimeout=null),J(D)}catch{}}function to(){this.g=new Tt}function Gl(m,S,D){const J=D||"";try{ns(m,function(be,Re){let Xe=be;f(be)&&(Xe=Vt(be)),S.push(J+Re+"="+encodeURIComponent(Xe))})}catch(be){throw S.push(J+"type="+encodeURIComponent("_badmap")),be}}function no(m){this.l=m.Ub||null,this.j=m.eb||!1}C(no,en),no.prototype.g=function(){return new Os(this.l,this.j)},no.prototype.i=(function(m){return function(){return m}})({});function Os(m,S){mt.call(this),this.D=m,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Os,mt),n=Os.prototype,n.open=function(m,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=S,this.readyState=1,Ci(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(S.body=m),(this.D||u).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yi(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ta(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ta(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var S=m.value?m.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!m.done}))&&(this.response=this.responseText+=S)}m.done?yi(this):Ci(this),this.readyState==3&&Ta(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,yi(this))},n.Qa=function(m){this.g&&(this.response=m,yi(this))},n.ga=function(){this.g&&yi(this)};function yi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ci(m)}n.setRequestHeader=function(m,S){this.u.append(m,S)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],S=this.h.entries();for(var D=S.next();!D.done;)D=D.value,m.push(D[0]+": "+D[1]),D=S.next();return m.join(`\r
`)};function Ci(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function is(m){let S="";return pe(m,function(D,J){S+=J,S+=":",S+=D,S+=`\r
`}),S}function Io(m,S,D){e:{for(J in D){var J=!1;break e}J=!0}J||(D=is(D),typeof m=="string"?D!=null&&encodeURIComponent(String(D)):fn(m,S,D))}function Fn(m){mt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Fn,mt);var ul=/^https?$/i,ro=["POST","PUT"];n=Fn.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,S,D,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);S=S?S.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Er.g(),this.v=this.o?Mt(this.o):Mt(Er),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(S,String(m),!0),this.B=!1}catch(Re){Ts(this,Re);return}if(m=D||"",D=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var be in J)D.set(be,J[be]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Re of J.keys())D.set(Re,J.get(Re));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(D.keys()).find(Re=>Re.toLowerCase()=="content-type"),be=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(ro,S,void 0))||J||be||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Re,Xe]of D)this.g.setRequestHeader(Re,Xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ms(this),this.u=!0,this.g.send(m),this.u=!1}catch(Re){Ts(this,Re)}};function Ts(m,S){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=S,m.m=5,Po(m),vi(m)}function Po(m){m.A||(m.A=!0,$t(m,"complete"),$t(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,$t(this,"complete"),$t(this,"abort"),vi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vi(this,!0)),Fn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?No(this):this.bb())},n.bb=function(){No(this)};function No(m){if(m.h&&typeof l<"u"&&(!m.v[1]||wi(m)!=4||m.Z()!=2)){if(m.u&&wi(m)==4)wt(m.Ea,0,m);else if($t(m,"readystatechange"),wi(m)==4){m.h=!1;try{const Xe=m.Z();e:switch(Xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var D;if(!(D=S)){var J;if(J=Xe===0){var be=String(m.D).match(di)[1]||null;!be&&u.self&&u.self.location&&(be=u.self.location.protocol.slice(0,-1)),J=!ul.test(be?be.toLowerCase():"")}D=J}if(D)$t(m,"complete"),$t(m,"success");else{m.m=6;try{var Re=2<wi(m)?m.g.statusText:""}catch{Re=""}m.l=Re+" ["+m.Z()+"]",Po(m)}}finally{vi(m)}}}}function vi(m,S){if(m.g){Ms(m);const D=m.g,J=m.v[0]?()=>{}:null;m.g=null,m.v=null,S||$t(m,"ready");try{D.onreadystatechange=J}catch{}}}function Ms(m){m.I&&(u.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function wi(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<wi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var S=this.g.responseText;return m&&S.indexOf(m)==0&&(S=S.substring(m.length)),An(S)}};function Ia(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function ss(m){const S={};m=(m.g&&2<=wi(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<m.length;J++){if(K(m[J]))continue;var D=P(m[J]);const be=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const Re=S[be]||[];S[be]=Re,Re.push(D)}q(S,function(J){return J.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ri(m,S,D){return D&&D.internalChannelParams&&D.internalChannelParams[m]||S}function Pa(m){this.Aa=0,this.i=[],this.j=new ni,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ri("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ri("baseRetryDelayMs",5e3,m),this.cb=ri("retryDelaySeedMs",1e4,m),this.Wa=ri("forwardChannelMaxRetries",2,m),this.wa=ri("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new So(m&&m.concurrentRequestLimit),this.Da=new to,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Pa.prototype,n.la=8,n.G=1,n.connect=function(m,S,D,J){Rn(0),this.W=m,this.H=S||{},D&&J!==void 0&&(this.H.OSID=D,this.H.OAID=J),this.F=this.X,this.I=Dn(this,null,this.W),b(this)};function Mr(m){if(Xo(m),m.G==3){var S=m.U++,D=pi(m.I);if(fn(D,"SID",m.K),fn(D,"RID",S),fn(D,"TYPE","terminate"),ce(m,D),S=new pr(m,m.j,S),S.L=2,S.v=Zs(pi(D)),D=!1,u.navigator&&u.navigator.sendBeacon)try{D=u.navigator.sendBeacon(S.v.toString(),"")}catch{}!D&&u.Image&&(new Image().src=S.v,D=!0),D||(S.g=gr(S.j,null),S.g.ea(S.v)),S.F=Date.now(),kn(S)}ar(m)}function _i(m){m.g&&(it(m),m.g.cancel(),m.g=null)}function Xo(m){_i(m),m.u&&(u.clearTimeout(m.u),m.u=null),Nt(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function b(m){if(!ki(m.h)&&!m.s){m.s=!0;var S=m.Ga;xe||ke(),le||(xe(),le=!0),_e.add(S,m),m.B=0}}function j(m,S){return ol(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=S.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=dr(_(m.Ga,m,S),vn(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const be=new pr(this,this.j,m);let Re=this.o;if(this.S&&(Re?(Re=R(Re),U(Re,this.S)):Re=this.S),this.m!==null||this.O||(be.H=Re,Re=null),this.P)e:{for(var S=0,D=0;D<this.i.length;D++){t:{var J=this.i[D];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(S+=J,4096<S){S=D;break e}if(S===4096||D===this.i.length-1){S=D+1;break e}}S=1e3}else S=1e3;S=we(this,be,S),D=pi(this.I),fn(D,"RID",m),fn(D,"CVER",22),this.D&&fn(D,"X-HTTP-Session-Id",this.D),ce(this,D),Re&&(this.O?S="headers="+encodeURIComponent(String(is(Re)))+"&"+S:this.m&&Io(D,this.m,Re)),al(this.h,be),this.Ua&&fn(D,"TYPE","init"),this.P?(fn(D,"$req",S),fn(D,"SID","null"),be.T=!0,Qs(be,D,null)):Qs(be,D,S),this.G=2}}else this.G==3&&(m?te(this,m):this.i.length==0||ki(this.h)||te(this))};function te(m,S){var D;S?D=S.l:D=m.U++;const J=pi(m.I);fn(J,"SID",m.K),fn(J,"RID",D),fn(J,"AID",m.T),ce(m,J),m.m&&m.o&&Io(J,m.m,m.o),D=new pr(m,m.j,D,m.B+1),m.m===null&&(D.H=m.o),S&&(m.i=S.D.concat(m.i)),S=we(m,D,1e3),D.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),al(m.h,D),Qs(D,J,S)}function ce(m,S){m.H&&pe(m.H,function(D,J){fn(S,J,D)}),m.l&&ns({},function(D,J){fn(S,J,D)})}function we(m,S,D){D=Math.min(m.i.length,D);var J=m.l?_(m.l.Na,m.l,m):null;e:{var be=m.i;let Re=-1;for(;;){const Xe=["count="+D];Re==-1?0<D?(Re=be[0].g,Xe.push("ofs="+Re)):Re=0:Xe.push("ofs="+Re);let gn=!0;for(let lr=0;lr<D;lr++){let an=be[lr].g;const sn=be[lr].map;if(an-=Re,0>an)Re=Math.max(0,be[lr].g-100),gn=!1;else try{Gl(sn,Xe,"req"+an+"_")}catch{J&&J(sn)}}if(gn){J=Xe.join("&");break e}}}return m=m.i.splice(0,D),S.D=m,J}function Ue(m){if(!m.g&&!m.u){m.Y=1;var S=m.Fa;xe||ke(),le||(xe(),le=!0),_e.add(S,m),m.v=0}}function qe(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=dr(_(m.Fa,m),vn(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,ft(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=dr(_(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rn(10),_i(this),ft(this))};function it(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function ft(m){m.g=new pr(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var S=pi(m.qa);fn(S,"RID","rpc"),fn(S,"SID",m.K),fn(S,"AID",m.T),fn(S,"CI",m.F?"0":"1"),!m.F&&m.ja&&fn(S,"TO",m.ja),fn(S,"TYPE","xmlhttp"),ce(m,S),m.m&&m.o&&Io(S,m.m,m.o),m.L&&(m.g.I=m.L);var D=m.g;m=m.ia,D.L=1,D.v=Zs(pi(S)),D.m=null,D.P=!0,xo(D,m)}n.Za=function(){this.C!=null&&(this.C=null,_i(this),qe(this),Rn(19))};function Nt(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function Ot(m,S){var D=null;if(m.g==S){Nt(m),it(m),m.g=null;var J=2}else if(Or(m.h,S))D=S.D,or(m.h,S),J=1;else return;if(m.G!=0){if(S.o)if(J==1){D=S.m?S.m.length:0,S=Date.now()-S.F;var be=m.B;J=fr(),$t(J,new Zi(J,D)),b(m)}else Ue(m);else if(be=S.s,be==3||be==0&&0<S.X||!(J==1&&j(m,S)||J==2&&qe(m)))switch(D&&0<D.length&&(S=m.h,S.i=S.i.concat(D)),be){case 1:Sn(m,5);break;case 4:Sn(m,10);break;case 3:Sn(m,6);break;default:Sn(m,2)}}}function vn(m,S){let D=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(D*=2),D*S}function Sn(m,S){if(m.j.info("Error code "+S),S==2){var D=_(m.fb,m),J=m.Xa;const be=!J;J=new Ln(J||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Jo(J,"https"),Zs(J),be?Ku(J.toString(),D):Wl(J.toString(),D)}else Rn(2);m.G=0,m.l&&m.l.sa(S),ar(m),Xo(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Rn(2)):(this.j.info("Failed to ping google.com"),Rn(1))};function ar(m){if(m.G=0,m.ka=[],m.l){const S=ll(m.h);(S.length!=0||m.i.length!=0)&&(N(m.ka,S),N(m.ka,m.i),m.h.i.length=0,I(m.i),m.i.length=0),m.l.ra()}}function Dn(m,S,D){var J=D instanceof Ln?pi(D):new Ln(D);if(J.g!="")S&&(J.g=S+"."+J.g),Eo(J,J.s);else{var be=u.location;J=be.protocol,S=S?S+"."+be.hostname:be.hostname,be=+be.port;var Re=new Ln(null);J&&Jo(Re,J),S&&(Re.g=S),be&&Eo(Re,be),D&&(Re.l=D),J=Re}return D=m.D,S=m.ya,D&&S&&fn(J,D,S),fn(J,"VER",m.la),ce(m,J),J}function gr(m,S,D){if(S&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=m.Ca&&!m.pa?new Fn(new no({eb:D})):new Fn(m.pa),S.Ha(m.J),S}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function tr(){}n=tr.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function yr(){}yr.prototype.g=function(m,S){return new Xn(m,S)};function Xn(m,S){mt.call(this),this.g=new Pa(S),this.l=m,this.h=S&&S.messageUrlParams||null,m=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(m?m["X-WebChannel-Content-Type"]=S.messageContentType:m={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(m?m["X-WebChannel-Client-Profile"]=S.va:m={"X-WebChannel-Client-Profile":S.va}),this.g.S=m,(m=S&&S.Sb)&&!K(m)&&(this.g.m=m),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!K(S)&&(this.g.D=S,m=this.h,m!==null&&S in m&&(m=this.h,S in m&&delete m[S])),this.j=new qi(this)}C(Xn,mt),Xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){Mr(this.g)},Xn.prototype.o=function(m){var S=this.g;if(typeof m=="string"){var D={};D.__data__=m,m=D}else this.u&&(D={},D.__data__=Vt(m),m=D);S.i.push(new xa(S.Ya++,m)),S.G==3&&b(S)},Xn.prototype.N=function(){this.g.l=null,delete this.j,Mr(this.g),delete this.g,Xn.aa.N.call(this)};function bi(m){hn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var S=m.__sm__;if(S){e:{for(const D in S){m=D;break e}m=void 0}(this.i=m)&&(m=this.i,S=S!==null&&m in S?S[m]:void 0),this.data=S}else this.data=m}C(bi,hn);function cl(){Ct.call(this),this.status=1}C(cl,Ct);function qi(m){this.g=m}C(qi,tr),qi.prototype.ua=function(){$t(this.g,"a")},qi.prototype.ta=function(m){$t(this.g,new bi(m))},qi.prototype.sa=function(m){$t(this.g,new cl)},qi.prototype.ra=function(){$t(this.g,"b")},yr.prototype.createWebChannel=yr.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,vA=function(){return new yr},yA=function(){return fr()},gA=rn,g1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pi.NO_ERROR=0,Pi.TIMEOUT=8,Pi.HTTP_ERROR=6,Lp=Pi,Es.COMPLETE="complete",mA=Es,Jn.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Cf=Jn,Fn.prototype.listenOnce=Fn.prototype.L,Fn.prototype.getLastError=Fn.prototype.Ka,Fn.prototype.getLastErrorCode=Fn.prototype.Ba,Fn.prototype.getStatus=Fn.prototype.Z,Fn.prototype.getResponseJson=Fn.prototype.Oa,Fn.prototype.getResponseText=Fn.prototype.oa,Fn.prototype.send=Fn.prototype.ea,Fn.prototype.setWithCredentials=Fn.prototype.Ha,pA=Fn}).apply(typeof dp<"u"?dp:typeof self<"u"?self:typeof window<"u"?window:{});const Pw="@firebase/firestore",Nw="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_s.UNAUTHENTICATED=new _s(null),_s.GOOGLE_CREDENTIALS=new _s("google-credentials-uid"),_s.FIRST_PARTY=new _s("first-party-uid"),_s.MOCK_USER=new _s("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Uy("@firebase/firestore");function uh(){return Pc.logLevel}function st(n,...e){if(Pc.logLevel<=wn.DEBUG){const t=e.map(qy);Pc.debug(`Firestore (${Wh}): ${n}`,...t)}}function Ul(n,...e){if(Pc.logLevel<=wn.ERROR){const t=e.map(qy);Pc.error(`Firestore (${Wh}): ${n}`,...t)}}function Du(n,...e){if(Pc.logLevel<=wn.WARN){const t=e.map(qy);Pc.warn(`Firestore (${Wh}): ${n}`,...t)}}function qy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,wA(n,r,t)}function wA(n,e,t){let r=`FIRESTORE (${Wh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ul(r),new Error(r)}function zn(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||wA(e,i,r)}function Zt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends rl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(_s.UNAUTHENTICATED)))}shutdown(){}}class aL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class lL{constructor(e){this.t=e,this.currentUser=_s.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){zn(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new Nu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nu,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},u=c=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nu)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(zn(typeof r.accessToken=="string",31837,{l:r}),new _A(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return zn(e===null||typeof e=="string",2055,{h:e}),new _s(e)}}class uL{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=_s.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cL{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new uL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(_s.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,po(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){zn(this.o===void 0,3512);const r=s=>{s.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,st("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new kw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(zn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new kw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=fL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function un(n,e){return n<e?-1:n>e?1:0}function y1(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return un(r,i);{const s=bA(),l=dL(s.encode(Cw(n,t)),s.encode(Cw(e,t)));return l!==0?l:un(r,i)}}t+=r>65535?2:1}return un(n.length,e.length)}function Cw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function dL(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return un(n[t],e[t]);return un(n.length,e.length)}function Lh(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="__name__";class Ba{constructor(e,t,r){t===void 0?t=0:t>e.length&&Bt(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Bt(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ba.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ba?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=Ba.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return un(e.length,t.length)}static compareSegments(e,t){const r=Ba.isNumericId(e),i=Ba.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Ba.extractNumericId(e).compare(Ba.extractNumericId(t)):y1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pu.fromString(e.substring(4,e.length-2))}}class Rr extends Ba{construct(e,t,r){return new Rr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xt(Ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new Rr(t)}static emptyPath(){return new Rr([])}}const pL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ji extends Ba{construct(e,t,r){return new Ji(e,t,r)}static isValidIdentifier(e){return pL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ji.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rw}static keyField(){return new Ji([Rw])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new xt(Ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new xt(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new xt(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new xt(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ji(t)}static emptyPath(){return new Ji([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.path=e}static fromPath(e){return new Dt(Rr.fromString(e))}static fromName(e){return new Dt(Rr.fromString(e).popFirst(5))}static empty(){return new Dt(Rr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Rr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Dt(new Rr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(n,e,t){if(!t)throw new xt(Ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function gL(n,e,t,r){if(e===!0&&r===!0)throw new xt(Ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Lw(n){if(!Dt.isDocumentKey(n))throw new xt(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Hy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Bt(12329,{type:typeof n})}function Ga(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xt(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hy(n);throw new xt(Ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(n,e){const t={typeString:n};return e&&(t.value=e),t}function vd(n,e){if(!xA(n))throw new xt(Ge.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(i&&typeof l!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new xt(Ge.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=-62135596800,Ow=1e6;class tn{static now(){return tn.fromMillis(Date.now())}static fromDate(e){return tn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Ow);return new tn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xt(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xt(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Dw)throw new xt(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xt(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ow}_compareTo(e){return this.seconds===e.seconds?un(this.nanoseconds,e.nanoseconds):un(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vd(e,tn._jsonSchema))return new tn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Dw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tn._jsonSchemaVersion="firestore/timestamp/1.0",tn._jsonSchema={type:ci("string",tn._jsonSchemaVersion),seconds:ci("number"),nanoseconds:ci("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{static fromTimestamp(e){return new Yt(e)}static min(){return new Yt(new tn(0,0))}static max(){return new Yt(new tn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=-1;function yL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Yt.fromTimestamp(r===1e9?new tn(t+1,0):new tn(t,r));return new Ou(i,Dt.empty(),e)}function vL(n){return new Ou(n.readTime,n.key,ed)}class Ou{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ou(Yt.min(),Dt.empty(),ed)}static max(){return new Ou(Yt.max(),Dt.empty(),ed)}}function wL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Dt.comparator(n.documentKey,e.documentKey),t!==0?t:un(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gh(n){if(n.code!==Ge.FAILED_PRECONDITION||n.message!==_L)throw n;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $e(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof $e?t:$e.resolve(t)}catch(t){return $e.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):$e.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):$e.reject(t)}static resolve(e){return new $e(((t,r)=>{t(e)}))}static reject(e){return new $e(((t,r)=>{r(e)}))}static waitFor(e){return new $e(((t,r)=>{let i=0,s=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++s,l&&s===i&&t()}),(c=>r(c)))})),l=!0,s===i&&t()}))}static or(e){let t=$e.resolve(!1);for(const r of e)t=t.next((i=>i?$e.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,s)=>{r.push(t.call(this,i,s))})),this.waitFor(r)}static mapArray(e,t){return new $e(((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let c=0;c<s;c++){const f=c;t(e[f]).next((p=>{l[f]=p,++u,u===s&&r(l)}),(p=>i(p)))}}))}static doWhile(e,t){return new $e(((r,i)=>{const s=()=>{e()===!0?t().next((()=>{s()}),i):r()};s()}))}}function xL(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Kh(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}jm.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy=-1;function Vm(n){return n==null}function sm(n){return n===0&&1/n==-1/0}function AL(n){return typeof n=="number"&&Number.isInteger(n)&&!sm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="";function SL(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Mw(e)),e=EL(n.get(t),e);return Mw(e)}function EL(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case AA:t+="";break;default:t+=s}}return t}function Mw(n){return n+AA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function SA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,t){this.comparator=e,this.root=t||Yi.EMPTY}insert(e,t){return new Dr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yi.BLACK,null,null))}remove(e){return new Dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pp(this.root,e,this.comparator,!1)}getReverseIterator(){return new pp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pp(this.root,e,this.comparator,!0)}}class pp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yi{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Yi.RED,this.left=i??Yi.EMPTY,this.right=s??Yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Yi(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Yi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Bt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Bt(27949);return e+(this.isRed()?0:1)}}Yi.EMPTY=null,Yi.RED=!0,Yi.BLACK=!1;Yi.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt(57766)}get value(){throw Bt(16141)}get color(){throw Bt(16727)}get left(){throw Bt(29726)}get right(){throw Bt(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new Yi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.comparator=e,this.data=new Dr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jw(this.data.getIterator())}getIteratorFrom(e){return new jw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ii)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ii(this.comparator);return t.data=e,t}}class jw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.fields=e,e.sort(Ji.comparator)}static empty(){return new go([])}unionWith(e){let t=new Ii(Ji.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new go(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Lh(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new EA("Invalid base64 string: "+s):s}})(e);return new Qi(t)}static fromUint8Array(e){const t=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new Qi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return un(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qi.EMPTY_BYTE_STRING=new Qi("");const TL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mu(n){if(zn(!!n,39018),typeof n=="string"){let e=0;const t=TL.exec(n);if(zn(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jr(n.seconds),nanos:Jr(n.nanos)}}function Jr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Fu(n){return typeof n=="string"?Qi.fromBase64String(n):Qi.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="server_timestamp",IA="__type__",PA="__previous_value__",NA="__local_write_time__";function Gy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[IA])===null||t===void 0?void 0:t.stringValue)===TA}function Um(n){const e=n.mapValue.fields[PA];return Gy(e)?Um(e):e}function td(n){const e=Mu(n.mapValue.fields[NA].timestampValue);return new tn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,t,r,i,s,l,u,c,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=p}}const om="(default)";class nd{constructor(e,t){this.projectId=e,this.database=t||om}static empty(){return new nd("","")}get isDefaultDatabase(){return this.database===om}isEqual(e){return e instanceof nd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="__type__",PL="__max__",mp={mapValue:{}},CA="__vector__",am="value";function ju(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Gy(n)?4:kL(n)?9007199254740991:NL(n)?10:11:Bt(28295,{value:n})}function el(n,e){if(n===e)return!0;const t=ju(n);if(t!==ju(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return td(n).isEqual(td(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Mu(i.timestampValue),u=Mu(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,s){return Fu(i.bytesValue).isEqual(Fu(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,s){return Jr(i.geoPointValue.latitude)===Jr(s.geoPointValue.latitude)&&Jr(i.geoPointValue.longitude)===Jr(s.geoPointValue.longitude)})(n,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Jr(i.integerValue)===Jr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Jr(i.doubleValue),u=Jr(s.doubleValue);return l===u?sm(l)===sm(u):isNaN(l)&&isNaN(u)}return!1})(n,e);case 9:return Lh(n.arrayValue.values||[],e.arrayValue.values||[],el);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(Fw(l)!==Fw(u))return!1;for(const c in l)if(l.hasOwnProperty(c)&&(u[c]===void 0||!el(l[c],u[c])))return!1;return!0})(n,e);default:return Bt(52216,{left:n})}}function rd(n,e){return(n.values||[]).find((t=>el(t,e)))!==void 0}function Dh(n,e){if(n===e)return 0;const t=ju(n),r=ju(e);if(t!==r)return un(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return un(n.booleanValue,e.booleanValue);case 2:return(function(s,l){const u=Jr(s.integerValue||s.doubleValue),c=Jr(l.integerValue||l.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1})(n,e);case 3:return Vw(n.timestampValue,e.timestampValue);case 4:return Vw(td(n),td(e));case 5:return y1(n.stringValue,e.stringValue);case 6:return(function(s,l){const u=Fu(s),c=Fu(l);return u.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(s,l){const u=s.split("/"),c=l.split("/");for(let f=0;f<u.length&&f<c.length;f++){const p=un(u[f],c[f]);if(p!==0)return p}return un(u.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,l){const u=un(Jr(s.latitude),Jr(l.latitude));return u!==0?u:un(Jr(s.longitude),Jr(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Uw(n.arrayValue,e.arrayValue);case 10:return(function(s,l){var u,c,f,p;const w=s.fields||{},_=l.fields||{},v=(u=w[am])===null||u===void 0?void 0:u.arrayValue,C=(c=_[am])===null||c===void 0?void 0:c.arrayValue,I=un(((f=v==null?void 0:v.values)===null||f===void 0?void 0:f.length)||0,((p=C==null?void 0:C.values)===null||p===void 0?void 0:p.length)||0);return I!==0?I:Uw(v,C)})(n.mapValue,e.mapValue);case 11:return(function(s,l){if(s===mp.mapValue&&l===mp.mapValue)return 0;if(s===mp.mapValue)return 1;if(l===mp.mapValue)return-1;const u=s.fields||{},c=Object.keys(u),f=l.fields||{},p=Object.keys(f);c.sort(),p.sort();for(let w=0;w<c.length&&w<p.length;++w){const _=y1(c[w],p[w]);if(_!==0)return _;const v=Dh(u[c[w]],f[p[w]]);if(v!==0)return v}return un(c.length,p.length)})(n.mapValue,e.mapValue);default:throw Bt(23264,{le:t})}}function Vw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return un(n,e);const t=Mu(n),r=Mu(e),i=un(t.seconds,r.seconds);return i!==0?i:un(t.nanos,r.nanos)}function Uw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Dh(t[i],r[i]);if(s)return s}return un(t.length,r.length)}function Oh(n){return v1(n)}function v1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Mu(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Fu(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Dt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=v1(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${v1(t.fields[l])}`;return i+"}"})(n.mapValue):Bt(61005,{value:n})}function Dp(n){switch(ju(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Um(n);return e?16+Dp(e):16;case 5:return 2*n.stringValue.length;case 6:return Fu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Dp(s)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Hu(r.fields,((s,l)=>{i+=s.length+Dp(l)})),i})(n.mapValue);default:throw Bt(13486,{value:n})}}function w1(n){return!!n&&"integerValue"in n}function Ky(n){return!!n&&"arrayValue"in n}function Bw(n){return!!n&&"nullValue"in n}function zw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Op(n){return!!n&&"mapValue"in n}function NL(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[kA])===null||t===void 0?void 0:t.stringValue)===CA}function Uf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Hu(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Uf(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Uf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function kL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===PL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.value=e}static empty(){return new Gs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Op(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uf(t)}setAll(e){let t=Ji.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=Uf(l):i.push(u.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Op(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return el(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Op(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Hu(t,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Gs(Uf(this.value))}}function RA(n){const e=[];return Hu(n.fields,((t,r)=>{const i=new Ji([t]);if(Op(r)){const s=RA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new go(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t,r,i,s,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new bs(e,0,Yt.min(),Yt.min(),Yt.min(),Gs.empty(),0)}static newFoundDocument(e,t,r,i){return new bs(e,1,t,Yt.min(),r,i,0)}static newNoDocument(e,t){return new bs(e,2,t,Yt.min(),Yt.min(),Gs.empty(),0)}static newUnknownDocument(e,t){return new bs(e,3,t,Yt.min(),Yt.min(),Gs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,t){this.position=e,this.inclusive=t}}function qw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],l=n.position[i];if(s.field.isKeyField()?r=Dt.comparator(Dt.fromName(l.referenceValue),t.key):r=Dh(l,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function $w(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!el(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t="asc"){this.field=e,this.dir=t}}function CL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{}class Ti extends LA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new LL(e,t,r):t==="array-contains"?new ML(e,r):t==="in"?new FL(e,r):t==="not-in"?new jL(e,r):t==="array-contains-any"?new VL(e,r):new Ti(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new DL(e,r):new OL(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Dh(t,this.value)):t!==null&&ju(this.value)===ju(t)&&this.matchesComparison(Dh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tl extends LA{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new tl(e,t)}matches(e){return DA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function DA(n){return n.op==="and"}function OA(n){return RL(n)&&DA(n)}function RL(n){for(const e of n.filters)if(e instanceof tl)return!1;return!0}function _1(n){if(n instanceof Ti)return n.field.canonicalString()+n.op.toString()+Oh(n.value);if(OA(n))return n.filters.map((e=>_1(e))).join(",");{const e=n.filters.map((t=>_1(t))).join(",");return`${n.op}(${e})`}}function MA(n,e){return n instanceof Ti?(function(r,i){return i instanceof Ti&&r.op===i.op&&r.field.isEqual(i.field)&&el(r.value,i.value)})(n,e):n instanceof tl?(function(r,i){return i instanceof tl&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,u)=>s&&MA(l,i.filters[u])),!0):!1})(n,e):void Bt(19439)}function FA(n){return n instanceof Ti?(function(t){return`${t.field.canonicalString()} ${t.op} ${Oh(t.value)}`})(n):n instanceof tl?(function(t){return t.op.toString()+" {"+t.getFilters().map(FA).join(" ,")+"}"})(n):"Filter"}class LL extends Ti{constructor(e,t,r){super(e,t,r),this.key=Dt.fromName(r.referenceValue)}matches(e){const t=Dt.comparator(e.key,this.key);return this.matchesComparison(t)}}class DL extends Ti{constructor(e,t){super(e,"in",t),this.keys=jA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class OL extends Ti{constructor(e,t){super(e,"not-in",t),this.keys=jA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function jA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((r=>Dt.fromName(r.referenceValue)))}class ML extends Ti{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ky(t)&&rd(t.arrayValue,this.value)}}class FL extends Ti{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&rd(this.value.arrayValue,t)}}class jL extends Ti{constructor(e,t){super(e,"not-in",t)}matches(e){if(rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!rd(this.value.arrayValue,t)}}class VL extends Ti{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ky(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>rd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,t=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.Pe=null}}function Hw(n,e=null,t=[],r=[],i=null,s=null,l=null){return new UL(n,e,t,r,i,s,l)}function Yy(n){const e=Zt(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>_1(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Vm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Oh(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Oh(r))).join(",")),e.Pe=t}return e.Pe}function Jy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!CL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!MA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$w(n.startAt,e.startAt)&&$w(n.endAt,e.endAt)}function b1(n){return Dt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,t=null,r=[],i=[],s=null,l="F",u=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function BL(n,e,t,r,i,s,l,u){return new Bm(n,e,t,r,i,s,l,u)}function zm(n){return new Bm(n)}function Ww(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function zL(n){return n.collectionGroup!==null}function Bf(n){const e=Zt(n);if(e.Te===null){e.Te=[];const t=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ii(Ji.comparator);return l.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Te.push(new um(s,r))})),t.has(Ji.keyField().canonicalString())||e.Te.push(new um(Ji.keyField(),r))}return e.Te}function Ka(n){const e=Zt(n);return e.Ie||(e.Ie=qL(e,Bf(n))),e.Ie}function qL(n,e){if(n.limitType==="F")return Hw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new um(i.field,s)}));const t=n.endAt?new lm(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new lm(n.startAt.position,n.startAt.inclusive):null;return Hw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function x1(n,e,t){return new Bm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qm(n,e){return Jy(Ka(n),Ka(e))&&n.limitType===e.limitType}function VA(n){return`${Yy(Ka(n))}|lt:${n.limitType}`}function ch(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>FA(i))).join(", ")}]`),Vm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>Oh(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>Oh(i))).join(",")),`Target(${r})`})(Ka(n))}; limitType=${n.limitType})`}function $m(n,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Dt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,i){for(const s of Bf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,c){const f=qw(l,u,c);return l.inclusive?f<=0:f<0})(r.startAt,Bf(r),i)||r.endAt&&!(function(l,u,c){const f=qw(l,u,c);return l.inclusive?f>=0:f>0})(r.endAt,Bf(r),i))})(n,e)}function $L(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function UA(n){return(e,t)=>{let r=!1;for(const i of Bf(n)){const s=HL(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function HL(n,e,t){const r=n.field.isKeyField()?Dt.comparator(e.key,t.key):(function(s,l,u){const c=l.data.field(s),f=u.data.field(s);return c!==null&&f!==null?Dh(c,f):Bt(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Bt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hu(this.inner,((t,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return SA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=new Dr(Dt.comparator);function Bl(){return WL}const BA=new Dr(Dt.comparator);function Rf(...n){let e=BA;for(const t of n)e=e.insert(t.key,t);return e}function zA(n){let e=BA;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function bc(){return zf()}function qA(){return zf()}function zf(){return new Oc((n=>n.toString()),((n,e)=>n.isEqual(e)))}const GL=new Dr(Dt.comparator),KL=new Ii(Dt.comparator);function _n(...n){let e=KL;for(const t of n)e=e.add(t);return e}const YL=new Ii(un);function JL(){return YL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sm(e)?"-0":e}}function $A(n){return{integerValue:""+n}}function XL(n,e){return AL(e)?$A(e):Xy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(){this._=void 0}}function QL(n,e,t){return n instanceof cm?(function(i,s){const l={fields:{[IA]:{stringValue:TA},[NA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Gy(s)&&(s=Um(s)),s&&(l.fields[PA]=s),{mapValue:l}})(t,e):n instanceof id?WA(n,e):n instanceof sd?GA(n,e):(function(i,s){const l=HA(i,s),u=Gw(l)+Gw(i.Ee);return w1(l)&&w1(i.Ee)?$A(u):Xy(i.serializer,u)})(n,e)}function ZL(n,e,t){return n instanceof id?WA(n,e):n instanceof sd?GA(n,e):t}function HA(n,e){return n instanceof hm?(function(r){return w1(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class cm extends Hm{}class id extends Hm{constructor(e){super(),this.elements=e}}function WA(n,e){const t=KA(e);for(const r of n.elements)t.some((i=>el(i,r)))||t.push(r);return{arrayValue:{values:t}}}class sd extends Hm{constructor(e){super(),this.elements=e}}function GA(n,e){let t=KA(e);for(const r of n.elements)t=t.filter((i=>!el(i,r)));return{arrayValue:{values:t}}}class hm extends Hm{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Gw(n){return Jr(n.integerValue||n.doubleValue)}function KA(n){return Ky(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function e8(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof id&&i instanceof id||r instanceof sd&&i instanceof sd?Lh(r.elements,i.elements,el):r instanceof hm&&i instanceof hm?el(r.Ee,i.Ee):r instanceof cm&&i instanceof cm})(n.transform,e.transform)}class t8{constructor(e,t){this.version=e,this.transformResults=t}}class Ya{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ya}static exists(e){return new Ya(void 0,e)}static updateTime(e){return new Ya(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Wm{}function YA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new XA(n.key,Ya.none()):new wd(n.key,n.data,Ya.none());{const t=n.data,r=Gs.empty();let i=new Ii(Ji.comparator);for(let s of e.fields)if(!i.has(s)){let l=t.field(s);l===null&&s.length>1&&(s=s.popLast(),l=t.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new Wu(n.key,r,new go(i.toArray()),Ya.none())}}function n8(n,e,t){n instanceof wd?(function(i,s,l){const u=i.value.clone(),c=Yw(i.fieldTransforms,s,l.transformResults);u.setAll(c),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,e,t):n instanceof Wu?(function(i,s,l){if(!Mp(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=Yw(i.fieldTransforms,s,l.transformResults),c=s.data;c.setAll(JA(i)),c.setAll(u),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(n,e,t):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function qf(n,e,t,r){return n instanceof wd?(function(s,l,u,c){if(!Mp(s.precondition,l))return u;const f=s.value.clone(),p=Jw(s.fieldTransforms,c,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(n,e,t,r):n instanceof Wu?(function(s,l,u,c){if(!Mp(s.precondition,l))return u;const f=Jw(s.fieldTransforms,c,l),p=l.data;return p.setAll(JA(s)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(s,l,u){return Mp(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,e,t)}function r8(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=HA(r.transform,i||null);s!=null&&(t===null&&(t=Gs.empty()),t.set(r.field,s))}return t||null}function Kw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Lh(r,i,((s,l)=>e8(s,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class wd extends Wm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wu extends Wm{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function JA(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Yw(n,e,t){const r=new Map;zn(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){const s=n[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,ZL(l,u,t[i]))}return r}function Jw(n,e,t){const r=new Map;for(const i of n){const s=i.transform,l=t.data.field(i.field);r.set(i.field,QL(s,l,e))}return r}class XA extends Wm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class i8 extends Wm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&n8(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=qf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=qf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=qA();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=t.has(i.key)?null:u;const c=YA(l,u);c!==null&&r.set(i.key,c),l.isValidDocument()||l.convertToNoDocument(Yt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),_n())}isEqual(e){return this.batchId===e.batchId&&Lh(this.mutations,e.mutations,((t,r)=>Kw(t,r)))&&Lh(this.baseMutations,e.baseMutations,((t,r)=>Kw(t,r)))}}class Qy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){zn(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return GL})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new Qy(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ui,xn;function l8(n){switch(n){case Ge.OK:return Bt(64938);case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0;default:return Bt(15467,{code:n})}}function QA(n){if(n===void 0)return Ul("GRPC error has no .code"),Ge.UNKNOWN;switch(n){case ui.OK:return Ge.OK;case ui.CANCELLED:return Ge.CANCELLED;case ui.UNKNOWN:return Ge.UNKNOWN;case ui.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case ui.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case ui.INTERNAL:return Ge.INTERNAL;case ui.UNAVAILABLE:return Ge.UNAVAILABLE;case ui.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case ui.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case ui.NOT_FOUND:return Ge.NOT_FOUND;case ui.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case ui.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case ui.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case ui.ABORTED:return Ge.ABORTED;case ui.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case ui.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case ui.DATA_LOSS:return Ge.DATA_LOSS;default:return Bt(39323,{code:n})}}(xn=ui||(ui={}))[xn.OK=0]="OK",xn[xn.CANCELLED=1]="CANCELLED",xn[xn.UNKNOWN=2]="UNKNOWN",xn[xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xn[xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xn[xn.NOT_FOUND=5]="NOT_FOUND",xn[xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",xn[xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",xn[xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",xn[xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xn[xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xn[xn.ABORTED=10]="ABORTED",xn[xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",xn[xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",xn[xn.INTERNAL=13]="INTERNAL",xn[xn.UNAVAILABLE=14]="UNAVAILABLE",xn[xn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8=new Pu([4294967295,4294967295],0);function Xw(n){const e=bA().encode(n),t=new dA;return t.update(e),new Uint8Array(t.digest())}function Qw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Pu([t,r],0),new Pu([i,s],0)]}class Zy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Lf(`Invalid padding: ${t}`);if(r<0)throw new Lf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Lf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Lf(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Pu.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Pu.fromNumber(r)));return i.compare(u8)===1&&(i=new Pu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=Xw(e),[r,i]=Qw(t);for(let s=0;s<this.hashCount;s++){const l=this.pe(r,i,s);if(!this.ye(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new Zy(s,i,t);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.fe===0)return;const t=Xw(e),[r,i]=Qw(t);for(let s=0;s<this.hashCount;s++){const l=this.pe(r,i,s);this.we(l)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Lf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,_d.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Gm(Yt.min(),i,new Dr(un),Bl(),_n())}}class _d{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new _d(r,t,_n(),_n(),_n())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}}class ZA{constructor(e,t){this.targetId=e,this.De=t}}class e3{constructor(e,t,r=Qi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Zw{constructor(){this.ve=0,this.Ce=e_(),this.Fe=Qi.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=_n(),t=_n(),r=_n();return this.Ce.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Bt(38017,{changeType:s})}})),new _d(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=e_()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,zn(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class c8{constructor(e){this.We=e,this.Ge=new Map,this.ze=Bl(),this.je=gp(),this.Je=gp(),this.He=new Dr(un)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Bt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((r,i)=>{this.nt(i)&&t(i)}))}it(e){const t=e.targetId,r=e.De.count,i=this.st(t);if(i){const s=i.target;if(b1(s))if(r===0){const l=new Dt(s.path);this.Xe(t,l,bs.newNoDocument(l,Yt.min()))}else zn(r===1,20013,{expectedCount:r});else{const l=this.ot(t);if(l!==r){const u=this._t(e),c=u?this.ut(u,e,l):1;if(c!==0){this.rt(t);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,f)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let l,u;try{l=Fu(r).toUint8Array()}catch(c){if(c instanceof EA)return Du("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new Zy(l,i,s)}catch(c){return Du(c instanceof Lf?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.fe===0?null:u}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let i=0;return r.forEach((s=>{const l=this.We.lt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.Xe(t,s,null),i++)})),i}Pt(e){const t=new Map;this.Ge.forEach(((s,l)=>{const u=this.st(l);if(u){if(s.current&&b1(u.target)){const c=new Dt(u.target.path);this.Tt(c).has(l)||this.It(l,c)||this.Xe(l,c,bs.newNoDocument(c,e))}s.Ne&&(t.set(l,s.Le()),s.ke())}}));let r=_n();this.Je.forEach(((s,l)=>{let u=!0;l.forEachWhile((c=>{const f=this.st(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.ze.forEach(((s,l)=>l.setReadTime(e)));const i=new Gm(e,t,this.He,this.ze,r);return this.ze=Bl(),this.je=gp(),this.Je=gp(),this.He=new Dr(un),i}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Zw,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Ii(un),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Ii(un),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||st("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Zw),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function gp(){return new Dr(Dt.comparator)}function e_(){return new Dr(Dt.comparator)}const h8={asc:"ASCENDING",desc:"DESCENDING"},f8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d8={and:"AND",or:"OR"};class p8{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function A1(n,e){return n.useProto3Json||Vm(e)?e:{value:e}}function fm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t3(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function m8(n,e){return fm(n,e.toTimestamp())}function Ja(n){return zn(!!n,49232),Yt.fromTimestamp((function(t){const r=Mu(t);return new tn(r.seconds,r.nanos)})(n))}function e2(n,e){return S1(n,e).canonicalString()}function S1(n,e){const t=(function(i){return new Rr(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function n3(n){const e=Rr.fromString(n);return zn(a3(e),10190,{key:e.toString()}),e}function E1(n,e){return e2(n.databaseId,e.path)}function v0(n,e){const t=n3(e);if(t.get(1)!==n.databaseId.projectId)throw new xt(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xt(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Dt(i3(t))}function r3(n,e){return e2(n.databaseId,e)}function g8(n){const e=n3(n);return e.length===4?Rr.emptyPath():i3(e)}function T1(n){return new Rr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function i3(n){return zn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function t_(n,e,t){return{name:E1(n,e),fields:t.value.mapValue.fields}}function y8(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Bt(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(f,p){return f.useProto3Json?(zn(p===void 0||typeof p=="string",58123),Qi.fromBase64String(p||"")):(zn(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Qi.fromUint8Array(p||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(f){const p=f.code===void 0?Ge.UNKNOWN:QA(f.code);return new xt(p,f.message||"")})(l);t=new e3(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=v0(n,r.document.name),s=Ja(r.document.updateTime),l=r.document.createTime?Ja(r.document.createTime):Yt.min(),u=new Gs({mapValue:{fields:r.document.fields}}),c=bs.newFoundDocument(i,s,l,u),f=r.targetIds||[],p=r.removedTargetIds||[];t=new Fp(f,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=v0(n,r.document),s=r.readTime?Ja(r.readTime):Yt.min(),l=bs.newNoDocument(i,s),u=r.removedTargetIds||[];t=new Fp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=v0(n,r.document),s=r.removedTargetIds||[];t=new Fp([],s,i,null)}else{if(!("filter"in e))return Bt(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new a8(i,s),u=r.targetId;t=new ZA(u,l)}}return t}function v8(n,e){let t;if(e instanceof wd)t={update:t_(n,e.key,e.value)};else if(e instanceof XA)t={delete:E1(n,e.key)};else if(e instanceof Wu)t={update:t_(n,e.key,e.data),updateMask:I8(e.fieldMask)};else{if(!(e instanceof i8))return Bt(16599,{Rt:e.type});t={verify:E1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const u=l.transform;if(u instanceof cm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof id)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof sd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof hm)return{fieldPath:l.field.canonicalString(),increment:u.Ee};throw Bt(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:m8(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Bt(27497)})(n,e.precondition)),t}function w8(n,e){return n&&n.length>0?(zn(e!==void 0,14353),n.map((t=>(function(i,s){let l=i.updateTime?Ja(i.updateTime):Ja(s);return l.isEqual(Yt.min())&&(l=Ja(s)),new t8(l,i.transformResults||[])})(t,e)))):[]}function _8(n,e){return{documents:[r3(n,e.path)]}}function b8(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=r3(n,i);const s=(function(f){if(f.length!==0)return o3(tl.create(f,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const l=(function(f){if(f.length!==0)return f.map((p=>(function(_){return{field:hh(_.field),direction:S8(_.dir)}})(p)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=A1(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{Vt:t,parent:i}}function x8(n){let e=g8(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){zn(r===1,65062);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=(function(w){const _=s3(w);return _ instanceof tl&&OA(_)?_.getFilters():[_]})(t.where));let l=[];t.orderBy&&(l=(function(w){return w.map((_=>(function(C){return new um(fh(C.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(_)))})(t.orderBy));let u=null;t.limit&&(u=(function(w){let _;return _=typeof w=="object"?w.value:w,Vm(_)?null:_})(t.limit));let c=null;t.startAt&&(c=(function(w){const _=!!w.before,v=w.values||[];return new lm(v,_)})(t.startAt));let f=null;return t.endAt&&(f=(function(w){const _=!w.before,v=w.values||[];return new lm(v,_)})(t.endAt)),BL(e,i,l,s,u,"F",c,f)}function A8(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bt(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function s3(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=fh(t.unaryFilter.field);return Ti.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fh(t.unaryFilter.field);return Ti.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fh(t.unaryFilter.field);return Ti.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=fh(t.unaryFilter.field);return Ti.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Bt(61313);default:return Bt(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ti.create(fh(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Bt(58110);default:return Bt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return tl.create(t.compositeFilter.filters.map((r=>s3(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Bt(1026)}})(t.compositeFilter.op))})(n):Bt(30097,{filter:n})}function S8(n){return h8[n]}function E8(n){return f8[n]}function T8(n){return d8[n]}function hh(n){return{fieldPath:n.canonicalString()}}function fh(n){return Ji.fromServerFormat(n.fieldPath)}function o3(n){return n instanceof Ti?(function(t){if(t.op==="=="){if(zw(t.value))return{unaryFilter:{field:hh(t.field),op:"IS_NAN"}};if(Bw(t.value))return{unaryFilter:{field:hh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zw(t.value))return{unaryFilter:{field:hh(t.field),op:"IS_NOT_NAN"}};if(Bw(t.value))return{unaryFilter:{field:hh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hh(t.field),op:E8(t.op),value:t.value}}})(n):n instanceof tl?(function(t){const r=t.getFilters().map((i=>o3(i)));return r.length===1?r[0]:{compositeFilter:{op:T8(t.op),filters:r}}})(n):Bt(54877,{filter:n})}function I8(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function a3(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,t,r,i,s=Yt.min(),l=Yt.min(),u=Qi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Su(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Su(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Su(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Su(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e){this.gt=e}}function N8(n){const e=x8({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?x1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(){this.Dn=new C8}addToCollectionParentIndex(e,t){return this.Dn.add(t),$e.resolve()}getCollectionParents(e,t){return $e.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return $e.resolve()}deleteFieldIndex(e,t){return $e.resolve()}deleteAllFieldIndexes(e){return $e.resolve()}createTargetIndexes(e,t){return $e.resolve()}getDocumentsMatchingTarget(e,t){return $e.resolve(null)}getIndexType(e,t){return $e.resolve(0)}getFieldIndexes(e,t){return $e.resolve([])}getNextCollectionGroupToUpdate(e){return $e.resolve(null)}getMinOffset(e,t){return $e.resolve(Ou.min())}getMinOffsetFromCollectionGroup(e,t){return $e.resolve(Ou.min())}updateCollectionGroup(e,t,r){return $e.resolve()}updateIndexEntries(e,t){return $e.resolve()}}class C8{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ii(Rr.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ii(Rr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},l3=41943040;class Ws{static withCacheSize(e){return new Ws(e,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws.DEFAULT_COLLECTION_PERCENTILE=10,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ws.DEFAULT=new Ws(l3,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ws.DISABLED=new Ws(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Mh(0)}static ur(){return new Mh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="LruGarbageCollector",R8=1048576;function i_([n,e],[t,r]){const i=un(n,t);return i===0?un(e,r):i}class L8{constructor(e){this.Tr=e,this.buffer=new Ii(i_),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();i_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class D8{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){st(r_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Kh(t)?st(r_,"Ignoring IndexedDB error during garbage collection: ",t):await Gh(t)}await this.Rr(3e5)}))}}class O8{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return $e.resolve(jm.ue);const r=new L8(t);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.gr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),$e.resolve(n_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n_):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,s,l,u,c,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,l=Date.now(),this.nthSequenceNumber(e,i)))).next((w=>(r=w,u=Date.now(),this.removeTargets(e,r,t)))).next((w=>(s=w,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(f=Date.now(),uh()<=wn.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(c-u)+`ms
	Removed ${w} documents in `+(f-c)+`ms
Total Duration: ${f-p}ms`),$e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:w}))))}}function M8(n,e){return new O8(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(){this.changes=new Oc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?$e.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&qf(r.mutation,i,go.empty(),tn.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,_n()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=_n()){const i=bc();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((s=>{let l=Rf();return s.forEach(((u,c)=>{l=l.insert(u,c.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=bc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,_n())))}populateOverlays(e,t,r){const i=[];return r.forEach((s=>{t.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,r,i){let s=Bl();const l=zf(),u=(function(){return zf()})();return t.forEach(((c,f)=>{const p=r.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof Wu)?s=s.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),qf(p.mutation,f,p.mutation.getFieldMask(),tn.now())):l.set(f.key,go.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((f,p)=>l.set(f,p))),t.forEach(((f,p)=>{var w;return u.set(f,new j8(p,(w=l.get(f))!==null&&w!==void 0?w:null))})),u)))}recalculateAndSaveOverlays(e,t){const r=zf();let i=new Dr(((l,u)=>l-u)),s=_n();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((c=>{const f=t.get(c);if(f===null)return;let p=r.get(c)||go.empty();p=u.applyToLocalView(f,p),r.set(c,p);const w=(i.get(u.batchId)||_n()).add(c);i=i.insert(u.batchId,w)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,p=c.value,w=qA();p.forEach((_=>{if(!s.has(_)){const v=YA(t.get(_),r.get(_));v!==null&&w.set(_,v),s=s.add(_)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,w))}return $e.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(l){return Dt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zL(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):$e.resolve(bc());let u=ed,c=s;return l.next((f=>$e.forEach(f,((p,w)=>(u<w.largestBatchId&&(u=w.largestBatchId),s.get(p)?$e.resolve():this.remoteDocumentCache.getEntry(e,p).next((_=>{c=c.insert(p,_)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,c,f,_n()))).next((p=>({batchId:u,changes:zA(p)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Dt(t)).next((r=>{let i=Rf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let l=Rf();return this.indexManager.getCollectionParents(e,s).next((u=>$e.forEach(u,(c=>{const f=(function(w,_){return new Bm(_,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((p=>{p.forEach(((w,_)=>{l=l.insert(w,_)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i)))).next((l=>{s.forEach(((c,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,bs.newInvalidDocument(p)))}));let u=Rf();return l.forEach(((c,f)=>{const p=s.get(c);p!==void 0&&qf(p.mutation,f,go.empty(),tn.now()),$m(t,f)&&(u=u.insert(c,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return $e.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Ja(i.createTime)}})(t)),$e.resolve()}getNamedQuery(e,t){return $e.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:N8(i.bundledQuery),readTime:Ja(i.readTime)}})(t)),$e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(){this.overlays=new Dr(Dt.comparator),this.kr=new Map}getOverlay(e,t){return $e.resolve(this.overlays.get(t))}getOverlays(e,t){const r=bc();return $e.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,s)=>{this.wt(e,t,s)})),$e.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.kr.delete(r)),$e.resolve()}getOverlaysForCollection(e,t,r){const i=bc(),s=t.length+1,l=new Dt(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return $e.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Dr(((f,p)=>f-p));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let p=s.get(f.largestBatchId);p===null&&(p=bc(),s=s.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=bc(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,p)=>u.set(f,p))),!(u.size()>=i)););return $e.resolve(u)}wt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new o8(t,r));let s=this.kr.get(t);s===void 0&&(s=_n(),this.kr.set(t,s)),this.kr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(){this.sessionToken=Qi.EMPTY_BYTE_STRING}getSessionToken(e){return $e.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.qr=new Ii(Vi.Qr),this.$r=new Ii(Vi.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new Vi(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Vi(e,t))}Gr(e,t){e.forEach((r=>this.removeReference(r,t)))}zr(e){const t=new Dt(new Rr([])),r=new Vi(t,e),i=new Vi(t,e+1),s=[];return this.$r.forEachInRange([r,i],(l=>{this.Wr(l),s.push(l.key)})),s}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Dt(new Rr([])),r=new Vi(t,e),i=new Vi(t,e+1);let s=_n();return this.$r.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const t=new Vi(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Vi{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Dt.comparator(e.key,t.key)||un(e.Hr,t.Hr)}static Ur(e,t){return un(e.Hr,t.Hr)||Dt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Ii(Vi.Qr)}checkEmpty(e){return $e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new s8(s,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Yr=this.Yr.add(new Vi(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return $e.resolve(l)}lookupMutationBatch(e,t){return $e.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Xr(r),s=i<0?0:i;return $e.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(this.mutationQueue.length===0?Wy:this.er-1)}getAllMutationBatches(e){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vi(t,0),i=new Vi(t,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],(l=>{const u=this.Zr(l.Hr);s.push(u)})),$e.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ii(un);return t.forEach((i=>{const s=new Vi(i,0),l=new Vi(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,l],(u=>{r=r.add(u.Hr)}))})),$e.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Dt.isDocumentKey(s)||(s=s.child(""));const l=new Vi(new Dt(s),0);let u=new Ii(un);return this.Yr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.Hr)),!0)}),l),$e.resolve(this.ei(u))}ei(e){const t=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){zn(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return $e.forEach(t.mutations,(i=>{const s=new Vi(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,t){const r=new Vi(t,0),i=this.Yr.firstAfterOrEqual(r);return $e.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$e.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e){this.ni=e,this.docs=(function(){return new Dr(Dt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,l=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return $e.resolve(r?r.document.mutableCopy():bs.newInvalidDocument(t))}getEntries(e,t){let r=Bl();return t.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():bs.newInvalidDocument(i))})),$e.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Bl();const l=t.path,u=new Dt(l.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:p}}=c.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||wL(vL(p),r)<=0||(i.has(p.key)||$m(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return $e.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Bt(9500)}ri(e,t){return $e.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new H8(this)}getSize(e){return $e.resolve(this.size)}}class H8 extends F8{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)})),$e.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e){this.persistence=e,this.ii=new Oc((t=>Yy(t)),Jy),this.lastRemoteSnapshotVersion=Yt.min(),this.highestTargetId=0,this.si=0,this.oi=new t2,this.targetCount=0,this._i=Mh.ar()}forEachTarget(e,t){return this.ii.forEach(((r,i)=>t(i))),$e.resolve()}getLastRemoteSnapshotVersion(e){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $e.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),$e.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Mh(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,$e.resolve()}updateTargetData(e,t){return this.hr(t),$e.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,$e.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.ii.forEach(((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.ii.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),$e.waitFor(s).next((()=>i))}getTargetCount(e){return $e.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return $e.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),$e.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),$e.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),$e.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return $e.resolve(r)}containsKey(e,t){return $e.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,t){this.ai={},this.overlays={},this.ui=new jm(0),this.ci=!1,this.ci=!0,this.li=new z8,this.referenceDelegate=e(this),this.hi=new W8(this),this.indexManager=new k8,this.remoteDocumentCache=(function(i){return new $8(i)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new P8(t),this.Ti=new U8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new B8,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new q8(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){st("MemoryPersistence","Starting transaction:",e);const i=new G8(this.ui.next());return this.referenceDelegate.Ii(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ei(e,t){return $e.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,t))))}}class G8 extends bL{constructor(e){super(),this.currentSequenceNumber=e}}class n2{constructor(e){this.persistence=e,this.Ai=new t2,this.Ri=null}static Vi(e){return new n2(e)}get mi(){if(this.Ri)return this.Ri;throw Bt(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),$e.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),$e.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),$e.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((i=>this.mi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((s=>this.mi.add(s.toString())))})).next((()=>r.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.mi,(r=>{const i=Dt.fromPath(r);return this.fi(e,i).next((s=>{s||t.removeEntry(i,Yt.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return $e.or([()=>$e.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class dm{constructor(e,t){this.persistence=e,this.gi=new Oc((r=>SL(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=M8(this,t)}static Vi(e,t){return new dm(e,t)}Ii(){}di(e){return $e.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}yr(e){let t=0;return this.gr(e,(r=>{t++})).next((()=>t))}gr(e,t){return $e.forEach(this.gi,((r,i)=>this.Sr(e,r,i).next((s=>s?$e.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,(l=>this.Sr(e,l,t).next((u=>{u||(r++,s.removeEntry(l,Yt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),$e.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),$e.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),$e.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),$e.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Dp(e.data.value)),t}Sr(e,t,r){return $e.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.gi.get(t);return $e.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=_n(),i=_n();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new r2(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return zC()?8:xL(As())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ps(e,t).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ys(e,t,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new K8;return this.ws(e,t,l).next((u=>{if(s.result=u,this.Rs)return this.Ss(e,t,l,u.size)}))})).next((()=>s.result))}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(uh()<=wn.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",ch(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$e.resolve()):(uh()<=wn.DEBUG&&st("QueryEngine","Query:",ch(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(uh()<=wn.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",ch(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ka(t))):$e.resolve())}ps(e,t){if(Ww(t))return $e.resolve(null);let r=Ka(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=x1(t,null,"F"),r=Ka(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=_n(...s);return this.gs.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.bs(t,u);return this.Ds(t,f,l,c.readTime)?this.ps(e,x1(t,null,"F")):this.vs(e,f,t,c)}))))})))))}ys(e,t,r,i){return Ww(t)||i.isEqual(Yt.min())?$e.resolve(null):this.gs.getDocuments(e,r).next((s=>{const l=this.bs(t,s);return this.Ds(t,l,r,i)?$e.resolve(null):(uh()<=wn.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ch(t)),this.vs(e,l,t,yL(i,ed)).next((u=>u)))}))}bs(e,t){let r=new Ii(UA(e));return t.forEach(((i,s)=>{$m(e,s)&&(r=r.add(s))})),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,t,r){return uh()<=wn.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",ch(t)),this.gs.getDocumentsMatchingQuery(e,t,Ou.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next((s=>(t.forEach((l=>{s=s.insert(l.key,l)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="LocalStore",J8=3e8;class X8{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Dr(un),this.Ms=new Oc((s=>Yy(s)),Jy),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new V8(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function Q8(n,e,t,r){return new X8(n,e,t,r)}async function c3(n,e){const t=Zt(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,t.Ns(e),t.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],u=[];let c=_n();for(const f of i){l.push(f.batchId);for(const p of f.mutations)c=c.add(p.key)}for(const f of s){u.push(f.batchId);for(const p of f.mutations)c=c.add(p.key)}return t.localDocuments.getDocuments(r,c).next((f=>({Bs:f,removedBatchIds:l,addedBatchIds:u})))}))}))}function Z8(n,e){const t=Zt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=t.Os.newChangeBuffer({trackRemovals:!0});return(function(u,c,f,p){const w=f.batch,_=w.keys();let v=$e.resolve();return _.forEach((C=>{v=v.next((()=>p.getEntry(c,C))).next((I=>{const N=f.docVersions.get(C);zn(N!==null,48541),I.version.compareTo(N)<0&&(w.applyToRemoteDocument(I,f),I.isValidDocument()&&(I.setReadTime(f.commitVersion),p.addEntry(I)))}))})),v.next((()=>u.mutationQueue.removeMutationBatch(c,w)))})(t,r,e,s).next((()=>s.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let c=_n();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function h3(n){const e=Zt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function e7(n,e){const t=Zt(n),r=e.snapshotVersion;let i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;const u=[];e.targetChanges.forEach(((p,w)=>{const _=i.get(w);if(!_)return;u.push(t.hi.removeMatchingKeys(s,p.removedDocuments,w).next((()=>t.hi.addMatchingKeys(s,p.addedDocuments,w))));let v=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(w)!==null?v=v.withResumeToken(Qi.EMPTY_BYTE_STRING,Yt.min()).withLastLimboFreeSnapshotVersion(Yt.min()):p.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(p.resumeToken,r)),i=i.insert(w,v),(function(I,N,L){return I.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=J8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(_,v,p)&&u.push(t.hi.updateTargetData(s,v))}));let c=Bl(),f=_n();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))})),u.push(t7(s,l,e.documentUpdates).next((p=>{c=p.Ls,f=p.ks}))),!r.isEqual(Yt.min())){const p=t.hi.getLastRemoteSnapshotVersion(s).next((w=>t.hi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(p)}return $e.waitFor(u).next((()=>l.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,c,f))).next((()=>c))})).then((s=>(t.Fs=i,s)))}function t7(n,e,t){let r=_n(),i=_n();return t.forEach((s=>r=r.add(s))),e.getEntries(n,r).next((s=>{let l=Bl();return t.forEach(((u,c)=>{const f=s.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Yt.min())?(e.removeEntry(u,c.readTime),l=l.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),l=l.insert(u,c)):st(i2,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)})),{Ls:l,ks:i}}))}function n7(n,e){const t=Zt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Wy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function r7(n,e){const t=Zt(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.hi.getTargetData(r,e).next((s=>s?(i=s,$e.resolve(i)):t.hi.allocateTargetId(r).next((l=>(i=new Su(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r}))}async function I1(n,e,t){const r=Zt(n),i=r.Fs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Kh(l))throw l;st(i2,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function s_(n,e,t){const r=Zt(n);let i=Yt.min(),s=_n();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(c,f,p){const w=Zt(c),_=w.Ms.get(p);return _!==void 0?$e.resolve(w.Fs.get(_)):w.hi.getTargetData(f,p)})(r,l,Ka(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(l,u.targetId).next((c=>{s=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,t?i:Yt.min(),t?s:_n()))).next((u=>(i7(r,$L(e),u),{documents:u,qs:s})))))}function i7(n,e,t){let r=n.xs.get(e)||Yt.min();t.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),n.xs.set(e,r)}class o_{constructor(){this.activeTargetIds=JL()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s7{constructor(){this.Fo=new o_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new o_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="ConnectivityMonitor";class l_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){st(a_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){st(a_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yp=null;function P1(){return yp===null?yp=(function(){return 268435456+Math.round(2147483648*Math.random())})():yp++,"0x"+yp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="RestConnection",a7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l7{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===om?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,s){const l=P1(),u=this.Go(e,t.toUriEncodedString());st(w0,`Sending RPC '${e}' ${l}:`,u,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,s);const{host:f}=new URL(u),p=Dc(f);return this.jo(e,u,c,r,p).then((w=>(st(w0,`Received RPC '${e}' ${l}: `,w),w)),(w=>{throw Du(w0,`RPC '${e}' ${l} failed with error: `,w,"url: ",u,"request:",r),w}))}Jo(e,t,r,i,s,l){return this.Wo(e,t,r,i,s)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}Go(e,t){const r=a7[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="WebChannelConnection";class c7 extends l7{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,s){const l=P1();return new Promise(((u,c)=>{const f=new pA;f.setWithCredentials(!0),f.listenOnce(mA.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Lp.NO_ERROR:const w=f.getResponseJson();st(ps,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),u(w);break;case Lp.TIMEOUT:st(ps,`RPC '${e}' ${l} timed out`),c(new xt(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case Lp.HTTP_ERROR:const _=f.getStatus();if(st(ps,`RPC '${e}' ${l} failed with status:`,_,"response text:",f.getResponseText()),_>0){let v=f.getResponseJson();Array.isArray(v)&&(v=v[0]);const C=v==null?void 0:v.error;if(C&&C.status&&C.message){const I=(function(L){const K=L.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(K)>=0?K:Ge.UNKNOWN})(C.status);c(new xt(I,C.message))}else c(new xt(Ge.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new xt(Ge.UNAVAILABLE,"Connection failed."));break;default:Bt(9055,{c_:e,streamId:l,l_:f.getLastErrorCode(),h_:f.getLastError()})}}finally{st(ps,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);st(ps,`RPC '${e}' ${l} sending request:`,i),f.send(t,"POST",p,r,15)}))}P_(e,t,r){const i=P1(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=vA(),u=yA(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const p=s.join("");st(ps,`Creating RPC '${e}' stream ${i}: ${p}`,c);const w=l.createWebChannel(p,c);this.T_(w);let _=!1,v=!1;const C=new u7({Ho:N=>{v?st(ps,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(_||(st(ps,`Opening RPC '${e}' stream ${i} transport.`),w.open(),_=!0),st(ps,`RPC '${e}' stream ${i} sending:`,N),w.send(N))},Yo:()=>w.close()}),I=(N,L,K)=>{N.listen(L,(W=>{try{K(W)}catch(G){setTimeout((()=>{throw G}),0)}}))};return I(w,Cf.EventType.OPEN,(()=>{v||(st(ps,`RPC '${e}' stream ${i} transport opened.`),C.s_())})),I(w,Cf.EventType.CLOSE,(()=>{v||(v=!0,st(ps,`RPC '${e}' stream ${i} transport closed`),C.__(),this.I_(w))})),I(w,Cf.EventType.ERROR,(N=>{v||(v=!0,Du(ps,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),C.__(new xt(Ge.UNAVAILABLE,"The operation could not be completed")))})),I(w,Cf.EventType.MESSAGE,(N=>{var L;if(!v){const K=N.data[0];zn(!!K,16349);const W=K,G=(W==null?void 0:W.error)||((L=W[0])===null||L===void 0?void 0:L.error);if(G){st(ps,`RPC '${e}' stream ${i} received error:`,G);const ie=G.status;let pe=(function(k){const U=ui[k];if(U!==void 0)return QA(U)})(ie),q=G.message;pe===void 0&&(pe=Ge.INTERNAL,q="Unknown error status: "+ie+" with message "+G.message),v=!0,C.__(new xt(pe,q)),w.close()}else st(ps,`RPC '${e}' stream ${i} received:`,K),C.a_(K)}})),I(u,gA.STAT_EVENT,(N=>{N.stat===g1.PROXY?st(ps,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===g1.NOPROXY&&st(ps,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{C.o_()}),0),C}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function _0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(n){return new p8(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&st("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="PersistentStream";class d3{constructor(e,t,r,i,s,l,u,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new f3(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Ge.RESOURCE_EXHAUSTED?(Ul(t.toString()),Ul("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.b_===t&&this.W_(r,i)}),(r=>{e((()=>{const i=new xt(Ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)}))}))}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((i=>{r((()=>this.G_(i)))})),this.stream.onMessage((i=>{r((()=>++this.C_==1?this.j_(i):this.onNext(i)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return st(u_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(st(u_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class h7 extends d3{constructor(e,t,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=y8(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Yt.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Yt.min():l.readTime?Ja(l.readTime):Yt.min()})(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=T1(this.serializer),t.addTarget=(function(s,l){let u;const c=l.target;if(u=b1(c)?{documents:_8(s,c)}:{query:b8(s,c).Vt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=t3(s,l.resumeToken);const f=A1(s,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Yt.min())>0){u.readTime=fm(s,l.snapshotVersion.toTimestamp());const f=A1(s,l.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=A8(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=T1(this.serializer),t.removeTarget=e,this.k_(t)}}class f7 extends d3{constructor(e,t,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return zn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,zn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){zn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=w8(e.writeResults,e.commitTime),r=Ja(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=T1(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>v8(this.serializer,r)))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{}class p7 extends d7{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new xt(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Wo(e,S1(t,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xt(Ge.UNKNOWN,s.toString())}))}Jo(e,t,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Jo(e,S1(t,r),i,l,u,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xt(Ge.UNKNOWN,l.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class m7{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ul(t),this._a=!1):st("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc="RemoteStore";class g7{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo((l=>{r.enqueueAndForget((async()=>{Mc(this)&&(st(Nc,"Restarting streams for network reachability change."),await(async function(c){const f=Zt(c);f.Ia.add(4),await bd(f),f.Aa.set("Unknown"),f.Ia.delete(4),await Ym(f)})(this))}))})),this.Aa=new m7(r,i)}}async function Ym(n){if(Mc(n))for(const e of n.da)await e(!0)}async function bd(n){for(const e of n.da)await e(!1)}function p3(n,e){const t=Zt(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),l2(t)?a2(t):Yh(t).x_()&&o2(t,e))}function s2(n,e){const t=Zt(n),r=Yh(t);t.Ta.delete(e),r.x_()&&m3(t,e),t.Ta.size===0&&(r.x_()?r.B_():Mc(t)&&t.Aa.set("Unknown"))}function o2(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Yt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yh(n).H_(e)}function m3(n,e){n.Ra.$e(e),Yh(n).Y_(e)}function a2(n){n.Ra=new c8({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Yh(n).start(),n.Aa.aa()}function l2(n){return Mc(n)&&!Yh(n).M_()&&n.Ta.size>0}function Mc(n){return Zt(n).Ia.size===0}function g3(n){n.Ra=void 0}async function y7(n){n.Aa.set("Online")}async function v7(n){n.Ta.forEach(((e,t)=>{o2(n,e)}))}async function w7(n,e){g3(n),l2(n)?(n.Aa.la(e),a2(n)):n.Aa.set("Unknown")}async function _7(n,e,t){if(n.Aa.set("Online"),e instanceof e3&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const u of s.targetIds)i.Ta.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ta.delete(u),i.Ra.removeTarget(u))})(n,e)}catch(r){st(Nc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pm(n,r)}else if(e instanceof Fp?n.Ra.Ye(e):e instanceof ZA?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Yt.min()))try{const r=await h3(n.localStore);t.compareTo(r)>=0&&await(function(s,l){const u=s.Ra.Pt(l);return u.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const p=s.Ta.get(f);p&&s.Ta.set(f,p.withResumeToken(c.resumeToken,l))}})),u.targetMismatches.forEach(((c,f)=>{const p=s.Ta.get(c);if(!p)return;s.Ta.set(c,p.withResumeToken(Qi.EMPTY_BYTE_STRING,p.snapshotVersion)),m3(s,c);const w=new Su(p.target,c,f,p.sequenceNumber);o2(s,w)})),s.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){st(Nc,"Failed to raise snapshot:",r),await pm(n,r)}}async function pm(n,e,t){if(!Kh(e))throw e;n.Ia.add(1),await bd(n),n.Aa.set("Offline"),t||(t=()=>h3(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{st(Nc,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Ym(n)}))}function y3(n,e){return e().catch((t=>pm(n,t,e)))}async function Jm(n){const e=Zt(n),t=Vu(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Wy;for(;b7(e);)try{const i=await n7(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,x7(e,i)}catch(i){await pm(e,i)}v3(e)&&w3(e)}function b7(n){return Mc(n)&&n.Pa.length<10}function x7(n,e){n.Pa.push(e);const t=Vu(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function v3(n){return Mc(n)&&!Vu(n).M_()&&n.Pa.length>0}function w3(n){Vu(n).start()}async function A7(n){Vu(n).na()}async function S7(n){const e=Vu(n);for(const t of n.Pa)e.X_(t.mutations)}async function E7(n,e,t){const r=n.Pa.shift(),i=Qy.from(r,e,t);await y3(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await Jm(n)}async function T7(n,e){e&&Vu(n).Z_&&await(async function(r,i){if((function(l){return l8(l)&&l!==Ge.ABORTED})(i.code)){const s=r.Pa.shift();Vu(r).N_(),await y3(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Jm(r)}})(n,e),v3(n)&&w3(n)}async function c_(n,e){const t=Zt(n);t.asyncQueue.verifyOperationInProgress(),st(Nc,"RemoteStore received new credentials");const r=Mc(t);t.Ia.add(3),await bd(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Ym(t)}async function I7(n,e){const t=Zt(n);e?(t.Ia.delete(2),await Ym(t)):e||(t.Ia.add(2),await bd(t),t.Aa.set("Unknown"))}function Yh(n){return n.Va||(n.Va=(function(t,r,i){const s=Zt(t);return s.ia(),new h7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Zo:y7.bind(null,n),e_:v7.bind(null,n),n_:w7.bind(null,n),J_:_7.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),l2(n)?a2(n):n.Aa.set("Unknown")):(await n.Va.stop(),g3(n))}))),n.Va}function Vu(n){return n.ma||(n.ma=(function(t,r,i){const s=Zt(t);return s.ia(),new f7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:A7.bind(null,n),n_:T7.bind(null,n),ea:S7.bind(null,n),ta:E7.bind(null,n)}),n.da.push((async e=>{e?(n.ma.N_(),await Jm(n)):(await n.ma.stop(),n.Pa.length>0&&(st(Nc,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const l=Date.now()+r,u=new u2(e,t,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xt(Ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function c2(n,e){if(Ul("AsyncQueue",`${e}: ${n}`),Kh(n))return new xt(Ge.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{static emptySet(e){return new bh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Dt.comparator(t.key,r.key):(t,r)=>Dt.comparator(t.key,r.key),this.keyedMap=Rf(),this.sortedSet=new Dr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new bh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(){this.fa=new Dr(Dt.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Bt(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Fh{constructor(e,t,r,i,s,l,u,c,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,s){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new Fh(e,t,bh.emptySet(t),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class N7{constructor(){this.queries=f_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const i=Zt(t),s=i.queries;i.queries=f_(),s.forEach(((l,u)=>{for(const c of u.wa)c.onError(r)}))})(this,new xt(Ge.ABORTED,"Firestore shutting down"))}}function f_(){return new Oc((n=>VA(n)),qm)}async function _3(n,e){const t=Zt(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new P7,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await t.onListen(i,!0);break;case 1:s.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=c2(l,`Initialization of query '${ch(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.wa.push(e),e.va(t.onlineState),s.ya&&e.Ca(s.ya)&&h2(t)}async function b3(n,e){const t=Zt(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const l=s.wa.indexOf(e);l>=0&&(s.wa.splice(l,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function k7(n,e){const t=Zt(n);let r=!1;for(const i of e){const s=i.query,l=t.queries.get(s);if(l){for(const u of l.wa)u.Ca(i)&&(r=!0);l.ya=i}}r&&h2(t)}function C7(n,e,t){const r=Zt(n),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(t);r.queries.delete(e)}function h2(n){n.Da.forEach((e=>{e.next()}))}var N1,d_;(d_=N1||(N1={})).Fa="default",d_.Cache="cache";class x3{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Fh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Fh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==N1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.key=e}}class S3{constructor(e){this.key=e}}class R7{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=_n(),this.mutatedKeys=_n(),this.Xa=UA(e),this.eu=new bh(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new h_,i=t?t.eu:this.eu;let s=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,w)=>{const _=i.get(p),v=$m(this.query,w)?w:null,C=!!_&&this.mutatedKeys.has(_.key),I=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let N=!1;_&&v?_.data.isEqual(v.data)?C!==I&&(r.track({type:3,doc:v}),N=!0):this.iu(_,v)||(r.track({type:2,doc:v}),N=!0,(c&&this.Xa(v,c)>0||f&&this.Xa(v,f)<0)&&(u=!0)):!_&&v?(r.track({type:0,doc:v}),N=!0):_&&!v&&(r.track({type:1,doc:_}),N=!0,(c||f)&&(u=!0)),N&&(v?(l=l.add(v),s=I?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{eu:l,ru:r,Ds:u,mutatedKeys:s}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort(((p,w)=>(function(v,C){const I=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt(20277,{At:N})}};return I(v)-I(C)})(p.type,w.type)||this.Xa(p.doc,w.doc))),this.su(r),i=i!=null&&i;const u=t&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,f=c!==this.Ya;return this.Ya=c,l.length!==0||f?{snapshot:new Fh(this.query,e.eu,s,l,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:u}:{_u:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new h_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=_n(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const t=[];return e.forEach((r=>{this.Za.has(r)||t.push(new S3(r))})),this.Za.forEach((r=>{e.has(r)||t.push(new A3(r))})),t}uu(e){this.Ha=e.qs,this.Za=_n();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Fh.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const f2="SyncEngine";class L7{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class D7{constructor(e){this.key=e,this.lu=!1}}class O7{constructor(e,t,r,i,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new Oc((u=>VA(u)),qm),this.Tu=new Map,this.Iu=new Set,this.du=new Dr(Dt.comparator),this.Eu=new Map,this.Au=new t2,this.Ru={},this.Vu=new Map,this.mu=Mh.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function M7(n,e,t=!0){const r=k3(n);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await E3(r,e,t,!0),i}async function F7(n,e){const t=k3(n);await E3(t,e,!0,!1)}async function E3(n,e,t,r){const i=await r7(n.localStore,Ka(e)),s=i.targetId,l=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await j7(n,e,s,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&p3(n.remoteStore,i),u}async function j7(n,e,t,r,i){n.gu=(w,_,v)=>(async function(I,N,L,K){let W=N.view.nu(L);W.Ds&&(W=await s_(I.localStore,N.query,!1).then((({documents:q})=>N.view.nu(q,W))));const G=K&&K.targetChanges.get(N.targetId),ie=K&&K.targetMismatches.get(N.targetId)!=null,pe=N.view.applyChanges(W,I.isPrimaryClient,G,ie);return m_(I,N.targetId,pe._u),pe.snapshot})(n,w,_,v);const s=await s_(n.localStore,e,!0),l=new R7(e,s.qs),u=l.nu(s.documents),c=_d.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=l.applyChanges(u,n.isPrimaryClient,c);m_(n,t,f._u);const p=new L7(e,t,l);return n.Pu.set(e,p),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),f.snapshot}async function V7(n,e,t){const r=Zt(n),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter((l=>!qm(l,e)))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await I1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&s2(r.remoteStore,i.targetId),k1(r,i.targetId)})).catch(Gh)):(k1(r,i.targetId),await I1(r.localStore,i.targetId,!0))}async function U7(n,e){const t=Zt(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),s2(t.remoteStore,r.targetId))}async function B7(n,e,t){const r=K7(n);try{const i=await(function(l,u){const c=Zt(l),f=tn.now(),p=u.reduce(((v,C)=>v.add(C.key)),_n());let w,_;return c.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let C=Bl(),I=_n();return c.Os.getEntries(v,p).next((N=>{C=N,C.forEach(((L,K)=>{K.isValidDocument()||(I=I.add(L))}))})).next((()=>c.localDocuments.getOverlayedDocuments(v,C))).next((N=>{w=N;const L=[];for(const K of u){const W=r8(K,w.get(K.key).overlayedDocument);W!=null&&L.push(new Wu(K.key,W,RA(W.value.mapValue),Ya.exists(!0)))}return c.mutationQueue.addMutationBatch(v,f,L,u)})).next((N=>{_=N;const L=N.applyToLocalDocumentSet(w,I);return c.documentOverlayCache.saveOverlays(v,N.batchId,L)}))})).then((()=>({batchId:_.batchId,changes:zA(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,c){let f=l.Ru[l.currentUser.toKey()];f||(f=new Dr(un)),f=f.insert(u,c),l.Ru[l.currentUser.toKey()]=f})(r,i.batchId,t),await xd(r,i.changes),await Jm(r.remoteStore)}catch(i){const s=c2(i,"Failed to persist write");t.reject(s)}}async function T3(n,e){const t=Zt(n);try{const r=await e7(t.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=t.Eu.get(s);l&&(zn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.lu=!0:i.modifiedDocuments.size>0?zn(l.lu,14607):i.removedDocuments.size>0&&(zn(l.lu,42227),l.lu=!1))})),await xd(t,r,e)}catch(r){await Gh(r)}}function p_(n,e,t){const r=Zt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Pu.forEach(((s,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const c=Zt(l);c.onlineState=u;let f=!1;c.queries.forEach(((p,w)=>{for(const _ of w.wa)_.va(u)&&(f=!0)})),f&&h2(c)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function z7(n,e,t){const r=Zt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),s=i&&i.key;if(s){let l=new Dr(Dt.comparator);l=l.insert(s,bs.newNoDocument(s,Yt.min()));const u=_n().add(s),c=new Gm(Yt.min(),new Map,new Dr(un),l,u);await T3(r,c),r.du=r.du.remove(s),r.Eu.delete(e),d2(r)}else await I1(r.localStore,e,!1).then((()=>k1(r,e,t))).catch(Gh)}async function q7(n,e){const t=Zt(n),r=e.batch.batchId;try{const i=await Z8(t.localStore,e);P3(t,r,null),I3(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await xd(t,i)}catch(i){await Gh(i)}}async function $7(n,e,t){const r=Zt(n);try{const i=await(function(l,u){const c=Zt(l);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return c.mutationQueue.lookupMutationBatch(f,u).next((w=>(zn(w!==null,37113),p=w.keys(),c.mutationQueue.removeMutationBatch(f,w)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,p,u))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>c.localDocuments.getDocuments(f,p)))}))})(r.localStore,e);P3(r,e,t),I3(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await xd(r,i)}catch(i){await Gh(i)}}function I3(n,e){(n.Vu.get(e)||[]).forEach((t=>{t.resolve()})),n.Vu.delete(e)}function P3(n,e,t){const r=Zt(n);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function k1(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((r=>{n.Au.containsKey(r)||N3(n,r)}))}function N3(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(s2(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),d2(n))}function m_(n,e,t){for(const r of t)r instanceof A3?(n.Au.addReference(r.key,e),H7(n,r)):r instanceof S3?(st(f2,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||N3(n,r.key)):Bt(19791,{yu:r})}function H7(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(st(f2,"New document in limbo: "+t),n.Iu.add(r),d2(n))}function d2(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new Dt(Rr.fromString(e)),r=n.mu.next();n.Eu.set(r,new D7(t)),n.du=n.du.insert(t,r),p3(n.remoteStore,new Su(Ka(zm(t.path)),r,"TargetPurposeLimboResolution",jm.ue))}}async function xd(n,e,t){const r=Zt(n),i=[],s=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach(((u,c)=>{l.push(r.gu(c,e,t).then((f=>{var p;if((f||t)&&r.isPrimaryClient){const w=f?!f.fromCache:(p=t==null?void 0:t.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,w?"current":"not-current")}if(f){i.push(f);const w=r2.Es(c.targetId,f);s.push(w)}})))})),await Promise.all(l),r.hu.J_(i),await(async function(c,f){const p=Zt(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$e.forEach(f,(_=>$e.forEach(_.Is,(v=>p.persistence.referenceDelegate.addReference(w,_.targetId,v))).next((()=>$e.forEach(_.ds,(v=>p.persistence.referenceDelegate.removeReference(w,_.targetId,v)))))))))}catch(w){if(!Kh(w))throw w;st(i2,"Failed to update sequence numbers: "+w)}for(const w of f){const _=w.targetId;if(!w.fromCache){const v=p.Fs.get(_),C=v.snapshotVersion,I=v.withLastLimboFreeSnapshotVersion(C);p.Fs=p.Fs.insert(_,I)}}})(r.localStore,s))}async function W7(n,e){const t=Zt(n);if(!t.currentUser.isEqual(e)){st(f2,"User change. New user:",e.toKey());const r=await c3(t.localStore,e);t.currentUser=e,(function(s,l){s.Vu.forEach((u=>{u.forEach((c=>{c.reject(new xt(Ge.CANCELLED,l))}))})),s.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xd(t,r.Bs)}}function G7(n,e){const t=Zt(n),r=t.Eu.get(e);if(r&&r.lu)return _n().add(r.key);{let i=_n();const s=t.Tu.get(e);if(!s)return i;for(const l of s){const u=t.Pu.get(l);i=i.unionWith(u.view.tu)}return i}}function k3(n){const e=Zt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=T3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=G7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=z7.bind(null,e),e.hu.J_=k7.bind(null,e.eventManager),e.hu.pu=C7.bind(null,e.eventManager),e}function K7(n){const e=Zt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$7.bind(null,e),e}class mm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Km(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return Q8(this.persistence,new Y8,e.initialUser,this.serializer)}Du(e){return new u3(n2.Vi,this.serializer)}bu(e){return new s7}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mm.provider={build:()=>new mm};class Y7 extends mm{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){zn(this.persistence.referenceDelegate instanceof dm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new D8(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Ws.withCacheSize(this.cacheSizeBytes):Ws.DEFAULT;return new u3((r=>dm.Vi(r,t)),this.serializer)}}class C1{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>p_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=W7.bind(null,this.syncEngine),await I7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new N7})()}createDatastore(e){const t=Km(e.databaseInfo.databaseId),r=(function(s){return new c7(s)})(e.databaseInfo);return(function(s,l,u,c){return new p7(s,l,u,c)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,s,l,u){return new g7(r,i,s,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>p_(this.syncEngine,t,0)),(function(){return l_.C()?new l_:new o7})())}createSyncEngine(e,t){return(function(i,s,l,u,c,f,p){const w=new O7(i,s,l,u,c,f);return p&&(w.fu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const s=Zt(i);st(Nc,"RemoteStore shutting down."),s.Ia.add(5),await bd(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}C1.provider={build:()=>new C1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ul("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu="FirestoreClient";class J7{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=_s.UNAUTHENTICATED,this.clientId=$y.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{st(Uu,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(st(Uu,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=c2(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function b0(n,e){n.asyncQueue.verifyOperationInProgress(),st(Uu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await c3(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>{Du("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{st("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((i=>{Du("Terminating Firestore due to IndexedDb database deletion failed",i)}))})),n._offlineComponents=e}async function g_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await X7(n);st(Uu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>c_(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>c_(e.remoteStore,i))),n._onlineComponents=e}async function X7(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){st(Uu,"Using user provided OfflineComponentProvider");try{await b0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Ge.FAILED_PRECONDITION||i.code===Ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Du("Error using user provided cache. Falling back to memory cache: "+t),await b0(n,new mm)}}else st(Uu,"Using default OfflineComponentProvider"),await b0(n,new Y7(void 0));return n._offlineComponents}async function R3(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(st(Uu,"Using user provided OnlineComponentProvider"),await g_(n,n._uninitializedComponentsProvider._online)):(st(Uu,"Using default OnlineComponentProvider"),await g_(n,new C1))),n._onlineComponents}function Q7(n){return R3(n).then((e=>e.syncEngine))}async function R1(n){const e=await R3(n),t=e.eventManager;return t.onListen=M7.bind(null,e.syncEngine),t.onUnlisten=V7.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=F7.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=U7.bind(null,e.syncEngine),t}function Z7(n,e,t={}){const r=new Nu;return n.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,c,f){const p=new C3({next:_=>{p.Ou(),l.enqueueAndForget((()=>b3(s,w)));const v=_.docs.has(u);!v&&_.fromCache?f.reject(new xt(Ge.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&_.fromCache&&c&&c.source==="server"?f.reject(new xt(Ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),w=new x3(zm(u.path),p,{includeMetadataChanges:!0,ka:!0});return _3(s,w)})(await R1(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3="firestore.googleapis.com",v_=!0;class w_{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xt(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D3,this.ssl=v_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:v_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=l3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<R8)throw new xt(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L3((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new xt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new xt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new xt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class p2{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xt(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xt(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new oL;switch(r.type){case"firstParty":return new cL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xt(Ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=y_.get(t);r&&(st("ComponentProvider","Removing Datastore"),y_.delete(t),r.terminate())})(this),Promise.resolve()}}function eD(n,e,t,r={}){var i;n=Ga(n,p2);const s=Dc(e),l=n._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;s&&(jy(`https://${c}`),Vy("Firestore",!0)),l.host!==D3&&l.host!==c&&Du("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:c,ssl:s,emulatorOptions:r});if(!Tc(f,u)&&(n._setSettings(f),r.mockUserToken)){let p,w;if(typeof r.mockUserToken=="string")p=r.mockUserToken,w=_s.MOCK_USER;else{p=LC(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new xt(Ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new _s(_)}n._authCredentials=new aL(new _A(p,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xm(this.firestore,e,this._query)}}class hi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new od(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hi(this.firestore,e,this._key)}toJSON(){return{type:hi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(vd(t,hi._jsonSchema))return new hi(e,r||null,new Dt(Rr.fromString(t.referencePath)))}}hi._jsonSchemaVersion="firestore/documentReference/1.0",hi._jsonSchema={type:ci("string",hi._jsonSchemaVersion),referencePath:ci("string")};class od extends Xm{constructor(e,t,r){super(e,t,zm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hi(this.firestore,null,new Dt(e))}withConverter(e){return new od(this.firestore,e,this._path)}}function qo(n,e,...t){if(n=Xi(n),arguments.length===1&&(e=$y.newId()),mL("doc","path",e),n instanceof p2){const r=Rr.fromString(e,...t);return Lw(r),new hi(n,null,new Dt(r))}{if(!(n instanceof hi||n instanceof od))throw new xt(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Rr.fromString(e,...t));return Lw(r),new hi(n.firestore,n instanceof od?n.converter:null,new Dt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="AsyncQueue";class b_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new f3(this,"async_queue_retry"),this.oc=()=>{const r=_0();r&&st(__,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=_0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=_0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new Nu;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Kh(e))throw e;st(__,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,Ul("INTERNAL UNHANDLED ERROR: ",x_(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const i=u2.createAndSchedule(this,e,t,r,(s=>this.lc(s)));return this.ec.push(i),i}ac(){this.tc&&Bt(47125,{hc:x_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function x_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(n,["next","error","complete"])}class jh extends p2{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new b_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new b_(e),this._firestoreClient=void 0,await e}}}function tD(n,e){const t=typeof n=="object"?n:zy(),r=typeof n=="string"?n:om,i=Fm(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=sA("firestore");s&&eD(i,...s)}return i}function m2(n){if(n._terminated)throw new xt(Ge.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||nD(n),n._firestoreClient}function nD(n){var e,t,r;const i=n._freezeSettings(),s=(function(u,c,f,p){return new IL(u,c,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,L3(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new J7(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&(function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zo(Qi.fromBase64String(e))}catch(t){throw new xt(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zo(Qi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vd(e,zo._jsonSchema))return zo.fromBase64String(e.bytes)}}zo._jsonSchemaVersion="firestore/bytes/1.0",zo._jsonSchema={type:ci("string",zo._jsonSchemaVersion),bytes:ci("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xt(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ji(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xt(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xt(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return un(this._lat,e._lat)||un(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xa._jsonSchemaVersion}}static fromJSON(e){if(vd(e,Xa._jsonSchema))return new Xa(e.latitude,e.longitude)}}Xa._jsonSchemaVersion="firestore/geoPoint/1.0",Xa._jsonSchema={type:ci("string",Xa._jsonSchemaVersion),latitude:ci("number"),longitude:ci("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vd(e,Qa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Qa(e.vectorValues);throw new xt(Ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qa._jsonSchemaVersion="firestore/vectorValue/1.0",Qa._jsonSchema={type:ci("string",Qa._jsonSchemaVersion),vectorValues:ci("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=/^__.*__$/;class iD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Wu(e,this.data,this.fieldMask,t,this.fieldTransforms):new wd(e,this.data,t,this.fieldTransforms)}}class O3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Wu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function M3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt(40011,{Ec:n})}}class y2{constructor(e,t,r,i,s,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new y2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return gm(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(M3(this.Ec)&&rD.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class sD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Km(e)}Dc(e,t,r,i=!1){return new y2({Ec:e,methodName:t,bc:r,path:Ji.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function F3(n){const e=n._freezeSettings(),t=Km(n._databaseId);return new sD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function oD(n,e,t,r,i,s={}){const l=n.Dc(s.merge||s.mergeFields?2:0,e,t,i);v2("Data must be an object, but it was:",l,r);const u=j3(r,l);let c,f;if(s.merge)c=new go(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const w of s.mergeFields){const _=L1(e,w,t);if(!l.contains(_))throw new xt(Ge.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);U3(p,_)||p.push(_)}c=new go(p),f=l.fieldTransforms.filter((w=>c.covers(w.field)))}else c=null,f=l.fieldTransforms;return new iD(new Gs(u),c,f)}class Zm extends g2{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zm}}function aD(n,e,t,r){const i=n.Dc(1,e,t);v2("Data must be an object, but it was:",i,r);const s=[],l=Gs.empty();Hu(r,((c,f)=>{const p=w2(e,c,t);f=Xi(f);const w=i.gc(p);if(f instanceof Zm)s.push(p);else{const _=eg(f,w);_!=null&&(s.push(p),l.set(p,_))}}));const u=new go(s);return new O3(l,u,i.fieldTransforms)}function lD(n,e,t,r,i,s){const l=n.Dc(1,e,t),u=[L1(e,r,t)],c=[i];if(s.length%2!=0)throw new xt(Ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)u.push(L1(e,s[_])),c.push(s[_+1]);const f=[],p=Gs.empty();for(let _=u.length-1;_>=0;--_)if(!U3(f,u[_])){const v=u[_];let C=c[_];C=Xi(C);const I=l.gc(v);if(C instanceof Zm)f.push(v);else{const N=eg(C,I);N!=null&&(f.push(v),p.set(v,N))}}const w=new go(f);return new O3(p,w,l.fieldTransforms)}function eg(n,e){if(V3(n=Xi(n)))return v2("Unsupported field value:",e,n),j3(n,e);if(n instanceof g2)return(function(r,i){if(!M3(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const u of r){let c=eg(u,i.yc(l));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),l++}return{arrayValue:{values:s}}})(n,e)}return(function(r,i){if((r=Xi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=tn.fromDate(r);return{timestampValue:fm(i.serializer,s)}}if(r instanceof tn){const s=new tn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fm(i.serializer,s)}}if(r instanceof Xa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zo)return{bytesValue:t3(i.serializer,r._byteString)};if(r instanceof hi){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:e2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Qa)return(function(l,u){return{mapValue:{fields:{[kA]:{stringValue:CA},[am]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw u.wc("VectorValues must only contain numeric values.");return Xy(u.serializer,f)}))}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Hy(r)}`)})(n,e)}function j3(n,e){const t={};return SA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hu(n,((r,i)=>{const s=eg(i,e.Vc(r));s!=null&&(t[r]=s)})),{mapValue:{fields:t}}}function V3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof tn||n instanceof Xa||n instanceof zo||n instanceof hi||n instanceof g2||n instanceof Qa)}function v2(n,e,t){if(!V3(t)||!xA(t)){const r=Hy(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function L1(n,e,t){if((e=Xi(e))instanceof Qm)return e._internalPath;if(typeof e=="string")return w2(n,e);throw gm("Field path arguments must be of type string or ",n,!1,void 0,t)}const uD=new RegExp("[~\\*/\\[\\]]");function w2(n,e,t){if(e.search(uD)>=0)throw gm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Qm(...e.split("."))._internalPath}catch{throw gm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gm(n,e,t,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||l)&&(c+=" (found",s&&(c+=` in field ${r}`),l&&(c+=` in document ${i}`),c+=")"),new xt(Ge.INVALID_ARGUMENT,u+n+c)}function U3(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(z3("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class cD extends B3{data(){return super.data()}}function z3(n,e){return typeof e=="string"?w2(n,e):e instanceof Qm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xt(Ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fD{convertValue(e,t="none"){switch(ju(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Bt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Hu(e,((i,s)=>{r[i]=this.convertValue(s,t)})),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[am].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((l=>Jr(l.doubleValue)));return new Qa(s)}convertGeoPoint(e){return new Xa(Jr(e.latitude),Jr(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Um(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(td(e));default:return null}}convertTimestamp(e){const t=Mu(e);return new tn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Rr.fromString(e);zn(a3(r),9688,{name:e});const i=new nd(r.get(1),r.get(3)),s=new Dt(r.popFirst(5));return i.isEqual(t)||Ul(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Df{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sc extends B3{constructor(e,t,r,i,s,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(z3("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(Ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Sc._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Sc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Sc._jsonSchema={type:ci("string",Sc._jsonSchemaVersion),bundleSource:ci("string","DocumentSnapshot"),bundleName:ci("string"),bundle:ci("string")};class jp extends Sc{data(e={}){return super.data(e)}}class xh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Df(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new jp(this._firestore,this._userDataWriter,r.key,r,new Df(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xt(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const c=new jp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Df(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const c=new jp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Df(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:pD(u.type),doc:c,oldIndex:f,newIndex:p}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(Ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$y.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(n){n=Ga(n,hi);const e=Ga(n.firestore,jh);return Z7(m2(e),n._key).then((t=>H3(e,n,t)))}xh._jsonSchemaVersion="firestore/querySnapshot/1.0",xh._jsonSchema={type:ci("string",xh._jsonSchemaVersion),bundleSource:ci("string","QuerySnapshot"),bundleName:ci("string"),bundle:ci("string")};class q3 extends fD{constructor(e){super(),this.firestore=e}convertBytes(e){return new zo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hi(this.firestore,null,t)}}function gD(n,e,t){n=Ga(n,hi);const r=Ga(n.firestore,jh),i=dD(n.converter,e);return $3(r,[oD(F3(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ya.none())])}function za(n,e,t,...r){n=Ga(n,hi);const i=Ga(n.firestore,jh),s=F3(i);let l;return l=typeof(e=Xi(e))=="string"||e instanceof Qm?lD(s,"updateDoc",n._key,e,t,r):aD(s,"updateDoc",n._key,e),$3(i,[l.toMutation(n._key,Ya.exists(!0))])}function yD(n,...e){var t,r,i;n=Xi(n);let s={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||A_(e[l])||(s=e[l++]);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(A_(e[l])){const w=e[l];e[l]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[l+1]=(r=w.error)===null||r===void 0?void 0:r.bind(w),e[l+2]=(i=w.complete)===null||i===void 0?void 0:i.bind(w)}let c,f,p;if(n instanceof hi)f=Ga(n.firestore,jh),p=zm(n._key.path),c={next:w=>{e[l]&&e[l](H3(f,n,w))},error:e[l+1],complete:e[l+2]};else{const w=Ga(n,Xm);f=Ga(w.firestore,jh),p=w._query;const _=new q3(f);c={next:v=>{e[l]&&e[l](new xh(f,_,w,v))},error:e[l+1],complete:e[l+2]},hD(n._query)}return(function(_,v,C,I){const N=new C3(I),L=new x3(v,N,C);return _.asyncQueue.enqueueAndForget((async()=>_3(await R1(_),L))),()=>{N.Ou(),_.asyncQueue.enqueueAndForget((async()=>b3(await R1(_),L)))}})(m2(f),p,u,c)}function $3(n,e){return(function(r,i){const s=new Nu;return r.asyncQueue.enqueueAndForget((async()=>B7(await Q7(r),i,s))),s.promise})(m2(n),e)}function H3(n,e,t){const r=t.docs.get(e._key),i=new q3(n);return new Sc(n,i,e._key,r,new Df(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Wh=i})(Hh),Ic(new Lu("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new jh(new lL(r.getProvider("auth-internal")),new hL(l,r.getProvider("app-check-internal")),(function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new xt(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nd(f.options.projectId,p)})(l,i),l);return s=Object.assign({useFetchStreams:t},s),u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),Wa(Pw,Nw,e),Wa(Pw,Nw,"esm2017")})();var vD="firebase",wD="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wa(vD,wD,"app");function _2(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function W3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _D=W3,G3=new gd("auth","Firebase",W3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=new Uy("@firebase/auth");function bD(n,...e){ym.logLevel<=wn.WARN&&ym.warn(`Auth (${Hh}): ${n}`,...e)}function Vp(n,...e){ym.logLevel<=wn.ERROR&&ym.error(`Auth (${Hh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(n,...e){throw x2(n,...e)}function ma(n,...e){return x2(n,...e)}function b2(n,e,t){const r=Object.assign(Object.assign({},_D()),{[e]:t});return new gd("auth","Firebase",r).create(e,{appName:n.name})}function ku(n){return b2(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xD(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&nl(n,"argument-error"),b2(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function x2(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return G3.create(n,...e)}function Gt(n,e,...t){if(!n)throw x2(e,...t)}function Rl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Vp(e),new Error(e)}function zl(n,e){n||Rl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function AD(){return S_()==="http:"||S_()==="https:"}function S_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AD()||VC()||"connection"in navigator)?navigator.onLine:!0}function ED(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t){this.shortDelay=e,this.longDelay=t,zl(t>e,"Short delay should be less than long delay!"),this.isMobile=MC()||UC()}get(){return SD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(n,e){zl(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PD=new Ad(3e4,6e4);function tg(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Jh(n,e,t,r,i={}){return Y3(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=yd(Object.assign({key:n.config.apiKey},l)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:c},s);return jC()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Dc(n.emulatorConfig.host)&&(f.credentials="include"),K3.fetch()(await X3(n,n.config.apiHost,t,u),f)})}async function Y3(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},TD),e);try{const i=new ND(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw vp(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw vp(n,"credential-already-in-use",l);if(c==="EMAIL_EXISTS")throw vp(n,"email-already-in-use",l);if(c==="USER_DISABLED")throw vp(n,"user-disabled",l);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw b2(n,p,f);nl(n,p)}}catch(i){if(i instanceof rl)throw i;nl(n,"network-request-failed",{message:String(i)})}}async function J3(n,e,t,r,i={}){const s=await Jh(n,e,t,r,i);return"mfaPendingCredential"in s&&nl(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function X3(n,e,t,r){const i=`${e}${t}?${r}`,s=n,l=s.config.emulator?A2(n.config,i):`${n.config.apiScheme}://${i}`;return ID.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class ND{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ma(this.auth,"network-request-failed")),PD.get())})}}function vp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ma(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(n,e){return Jh(n,"POST","/v1/accounts:delete",e)}async function vm(n,e){return Jh(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CD(n,e=!1){const t=Xi(n),r=await t.getIdToken(e),i=S2(r);Gt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:$f(x0(i.auth_time)),issuedAtTime:$f(x0(i.iat)),expirationTime:$f(x0(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function x0(n){return Number(n)*1e3}function S2(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Vp("JWT malformed, contained fewer than 3 sections"),null;try{const i=rA(t);return i?JSON.parse(i):(Vp("Failed to decode base64 JWT payload"),null)}catch(i){return Vp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function E_(n){const e=S2(n);return Gt(e,"internal-error"),Gt(typeof e.exp<"u","internal-error"),Gt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ad(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof rl&&RD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function RD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$f(this.lastLoginAt),this.creationTime=$f(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wm(n){var e;const t=n.auth,r=await n.getIdToken(),i=await ad(n,vm(t,{idToken:r}));Gt(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Q3(s.providerUserInfo):[],u=OD(n.providerData,l),c=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),p=c?f:!1,w={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new O1(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,w)}async function DD(n){const e=Xi(n);await wm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OD(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Q3(n){return n.map(e=>{var{providerId:t}=e,r=_2(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(n,e){const t=await Y3(n,{},async()=>{const r=yd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=await X3(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return n.emulatorConfig&&Dc(n.emulatorConfig.host)&&(c.credentials="include"),K3.fetch()(l,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function FD(n,e){return Jh(n,"POST","/v2/accounts:revokeToken",tg(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Gt(e.idToken,"internal-error"),Gt(typeof e.idToken<"u","internal-error"),Gt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):E_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Gt(e.length!==0,"internal-error");const t=E_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Gt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await MD(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new Ah;return r&&(Gt(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Gt(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Gt(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ah,this.toJSON())}_performRefresh(){return Rl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(n,e){Gt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class pa{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=_2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new O1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await ad(this,this.stsTokenManager.getToken(this.auth,e));return Gt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return CD(this,e)}reload(){return DD(this)}_assign(e){this!==e&&(Gt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new pa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await wm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(po(this.auth.app))return Promise.reject(ku(this.auth));const e=await this.getIdToken();return await ad(this,kD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,l,u,c,f,p;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,v=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,C=(l=t.photoURL)!==null&&l!==void 0?l:void 0,I=(u=t.tenantId)!==null&&u!==void 0?u:void 0,N=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,L=(f=t.createdAt)!==null&&f!==void 0?f:void 0,K=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:W,emailVerified:G,isAnonymous:ie,providerData:pe,stsTokenManager:q}=t;Gt(W&&q,e,"internal-error");const R=Ah.fromJSON(this.name,q);Gt(typeof W=="string",e,"internal-error"),yu(w,e.name),yu(_,e.name),Gt(typeof G=="boolean",e,"internal-error"),Gt(typeof ie=="boolean",e,"internal-error"),yu(v,e.name),yu(C,e.name),yu(I,e.name),yu(N,e.name),yu(L,e.name),yu(K,e.name);const k=new pa({uid:W,auth:e,email:_,emailVerified:G,displayName:w,isAnonymous:ie,photoURL:C,phoneNumber:v,tenantId:I,stsTokenManager:R,createdAt:L,lastLoginAt:K});return pe&&Array.isArray(pe)&&(k.providerData=pe.map(U=>Object.assign({},U))),N&&(k._redirectEventId=N),k}static async _fromIdTokenResponse(e,t,r=!1){const i=new Ah;i.updateFromServerResponse(t);const s=new pa({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wm(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Gt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Q3(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new Ah;u.updateFromIdToken(r);const c=new pa({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new O1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=new Map;function Ll(n){zl(n instanceof Function,"Expected a class definition");let e=T_.get(n);return e?(zl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,T_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Z3.type="NONE";const I_=Z3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(n,e,t){return`firebase:${n}:${e}:${t}`}class Sh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Up(this.userKey,i.apiKey,s),this.fullPersistenceKey=Up("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await vm(this.auth,{idToken:e}).catch(()=>{});return t?pa._fromGetAccountInfoResponse(this.auth,t,e):null}return pa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Sh(Ll(I_),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Ll(I_);const l=Up(r,e.config.apiKey,e.name);let u=null;for(const f of t)try{const p=await f._get(l);if(p){let w;if(typeof p=="string"){const _=await vm(e,{idToken:p}).catch(()=>{});if(!_)break;w=await pa._fromGetAccountInfoResponse(e,_,p)}else w=pa._fromJSON(e,p);f!==s&&(u=w),s=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Sh(s,e,r):(s=c[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new Sh(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sS(e))return"Blackberry";if(oS(e))return"Webos";if(tS(e))return"Safari";if((e.includes("chrome/")||nS(e))&&!e.includes("edge/"))return"Chrome";if(iS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eS(n=As()){return/firefox\//i.test(n)}function tS(n=As()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nS(n=As()){return/crios\//i.test(n)}function rS(n=As()){return/iemobile/i.test(n)}function iS(n=As()){return/android/i.test(n)}function sS(n=As()){return/blackberry/i.test(n)}function oS(n=As()){return/webos/i.test(n)}function E2(n=As()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function jD(n=As()){var e;return E2(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function VD(){return BC()&&document.documentMode===10}function aS(n=As()){return E2(n)||iS(n)||oS(n)||sS(n)||/windows phone/i.test(n)||rS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(n,e=[]){let t;switch(n){case"Browser":t=P_(As());break;case"Worker":t=`${P_(As())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Hh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const c=e(s);l(c)}catch(c){u(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(n,e={}){return Jh(n,"GET","/v2/passwordPolicy",tg(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=6;class qD{constructor(e){var t,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:zD,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,l,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(l=c.containsNumericCharacter)!==null&&l!==void 0?l:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N_(this),this.idTokenSubscription=new N_(this),this.beforeStateQueue=new UD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ll(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Sh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await vm(this,{idToken:e}),r=await pa._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(po(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!l||l===u)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await wm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ED()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(po(this.app))return Promise.reject(ku(this));const t=e?Xi(e):null;return t&&Gt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Gt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return po(this.app)?Promise.reject(ku(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return po(this.app)?Promise.reject(ku(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ll(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BD(this),t=new qD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await FD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ll(e)||this._popupRedirectResolver;Gt(t,this,"argument-error"),this.redirectPersistenceManager=await Sh.create(this,[Ll(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Gt(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,i);return()=>{l=!0,c()}}else{const c=e.addObserver(t);return()=>{l=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(po(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&bD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Sd(n){return Xi(n)}class N_{constructor(e){this.auth=e,this.observer=null,this.addObserver=YC(t=>this.observer=t)}get next(){return Gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HD(n){T2=n}function WD(n){return T2.loadJS(n)}function GD(){return T2.gapiScript}function KD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(n,e){const t=Fm(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Tc(s,e??{}))return i;nl(i,"already-initialized")}return t.initialize({options:e})}function JD(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ll);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function XD(n,e,t){const r=Sd(n);Gt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=uS(e),{host:l,port:u}=QD(e),c=u===null?"":`:${u}`,f={url:`${s}//${l}${c}/`},p=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Gt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Gt(Tc(f,r.config.emulator)&&Tc(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Dc(l)?(jy(`${s}//${l}${c}`),Vy("Auth",!0)):ZD()}function uS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function QD(n){const e=uS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:k_(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:k_(l)}}}function k_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function ZD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Rl("not implemented")}_getIdTokenResponse(e){return Rl("not implemented")}_linkToIdToken(e,t){return Rl("not implemented")}_getReauthenticationResolver(e){return Rl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(n,e){return J3(n,"POST","/v1/accounts:signInWithIdp",tg(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="http://localhost";class kc extends cS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new kc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=_2(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new kc(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Eh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Eh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Eh(e,t)}buildRequest(){const e={requestUri:eO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends I2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends Ed{constructor(){super("facebook.com")}static credential(e){return kc._fromParams({providerId:bu.PROVIDER_ID,signInMethod:bu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bu.credentialFromTaggedObject(e)}static credentialFromError(e){return bu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bu.credential(e.oauthAccessToken)}catch{return null}}}bu.FACEBOOK_SIGN_IN_METHOD="facebook.com";bu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends Ed{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return kc._fromParams({providerId:Cl.PROVIDER_ID,signInMethod:Cl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Cl.credentialFromTaggedObject(e)}static credentialFromError(e){return Cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Cl.credential(t,r)}catch{return null}}}Cl.GOOGLE_SIGN_IN_METHOD="google.com";Cl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends Ed{constructor(){super("github.com")}static credential(e){return kc._fromParams({providerId:xu.PROVIDER_ID,signInMethod:xu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xu.credentialFromTaggedObject(e)}static credentialFromError(e){return xu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xu.credential(e.oauthAccessToken)}catch{return null}}}xu.GITHUB_SIGN_IN_METHOD="github.com";xu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends Ed{constructor(){super("twitter.com")}static credential(e,t){return kc._fromParams({providerId:Au.PROVIDER_ID,signInMethod:Au.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Au.credentialFromTaggedObject(e)}static credentialFromError(e){return Au.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Au.credential(t,r)}catch{return null}}}Au.TWITTER_SIGN_IN_METHOD="twitter.com";Au.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(n,e){return J3(n,"POST","/v1/accounts:signUp",tg(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await pa._fromIdTokenResponse(e,r,i),l=C_(r);return new Bu({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=C_(r);return new Bu({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function C_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(n){var e;if(po(n.app))return Promise.reject(ku(n));const t=Sd(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Bu({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await tO(t,{returnSecureToken:!0}),i=await Bu._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m extends rl{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_m.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new _m(e,t,r,i)}}function hS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?_m._fromErrorAndOperation(n,s,e,r):s})}async function rO(n,e,t=!1){const r=await ad(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Bu._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(n,e,t=!1){const{auth:r}=n;if(po(r.app))return Promise.reject(ku(r));const i="reauthenticate";try{const s=await ad(n,hS(r,i,e,n),t);Gt(s.idToken,r,"internal-error");const l=S2(s.idToken);Gt(l,r,"internal-error");const{sub:u}=l;return Gt(n.uid===u,r,"user-mismatch"),Bu._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&nl(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(n,e,t=!1){if(po(n.app))return Promise.reject(ku(n));const r="signIn",i=await hS(n,r,e),s=await Bu._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}function oO(n,e,t,r){return Xi(n).onIdTokenChanged(e,t,r)}function aO(n,e,t){return Xi(n).beforeAuthStateChanged(e,t)}const bm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bm,"1"),this.storage.removeItem(bm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=1e3,uO=10;class dS extends fS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,c)=>{this.notifyListeners(l,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);VD()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,uO):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},lO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dS.type="LOCAL";const cO=dS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS extends fS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}pS.type="SESSION";const mS=pS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new ng(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async f=>f(t.origin,s)),c=await hO(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ng.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,c)=>{const f=P2("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(w){const _=w;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(p),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(){return window}function dO(n){Za().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(){return typeof Za().WorkerGlobalScope<"u"&&typeof Za().importScripts=="function"}async function pO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function gO(){return gS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="firebaseLocalStorageDb",yO=1,xm="firebaseLocalStorage",vS="fbase_key";class Td{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function rg(n,e){return n.transaction([xm],e?"readwrite":"readonly").objectStore(xm)}function vO(){const n=indexedDB.deleteDatabase(yS);return new Td(n).toPromise()}function M1(){const n=indexedDB.open(yS,yO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(xm,{keyPath:vS})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(xm)?e(r):(r.close(),await vO(),e(await M1()))})})}async function R_(n,e,t){const r=rg(n,!0).put({[vS]:e,value:t});return new Td(r).toPromise()}async function wO(n,e){const t=rg(n,!1).get(e),r=await new Td(t).toPromise();return r===void 0?null:r.value}function L_(n,e){const t=rg(n,!0).delete(e);return new Td(t).toPromise()}const _O=800,bO=3;class wS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await M1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>bO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ng._getInstance(gO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await pO(),!this.activeServiceWorker)return;this.sender=new fO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await M1();return await R_(e,bm,"1"),await L_(e,bm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>R_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>wO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>L_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=rg(i,!1).getAll();return new Td(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_O)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wS.type="LOCAL";const xO=wS;new Ad(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(n,e){return e?Ll(e):(Gt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2 extends cS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Eh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Eh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function AO(n){return sO(n.auth,new N2(n),n.bypassAuthState)}function SO(n){const{auth:e,user:t}=n;return Gt(t,e,"internal-error"),iO(t,new N2(n),n.bypassAuthState)}async function EO(n){const{auth:e,user:t}=n;return Gt(t,e,"internal-error"),rO(t,new N2(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AO;case"linkViaPopup":case"linkViaRedirect":return EO;case"reauthViaPopup":case"reauthViaRedirect":return SO;default:nl(this.auth,"internal-error")}}resolve(e){zl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new Ad(2e3,1e4);async function IO(n,e,t){if(po(n.app))return Promise.reject(ma(n,"operation-not-supported-in-this-environment"));const r=Sd(n);xD(n,e,I2);const i=_S(r,t);return new xc(r,"signInViaPopup",e,i).executeNotNull()}class xc extends bS{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,xc.currentPopupAction&&xc.currentPopupAction.cancel(),xc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Gt(e,this.auth,"internal-error"),e}async onExecution(){zl(this.filter.length===1,"Popup operations only handle one event");const e=P2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ma(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ma(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ma(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TO.get())};e()}}xc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="pendingRedirect",Bp=new Map;class NO extends bS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Bp.get(this.auth._key());if(!e){try{const r=await kO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Bp.set(this.auth._key(),e)}return this.bypassAuthState||Bp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kO(n,e){const t=LO(e),r=RO(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function CO(n,e){Bp.set(n._key(),e)}function RO(n){return Ll(n._redirectPersistence)}function LO(n){return Up(PO,n.config.apiKey,n.name)}async function DO(n,e,t=!1){if(po(n.app))return Promise.reject(ku(n));const r=Sd(n),i=_S(r,e),l=await new NO(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=600*1e3;class MO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!xS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ma(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OO&&this.cachedEventUids.clear(),this.cachedEventUids.has(D_(e))}saveEventToCache(e){this.cachedEventUids.add(D_(e)),this.lastProcessedEventTime=Date.now()}}function D_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function xS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(n,e={}){return Jh(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UO=/^https?/;async function BO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await jO(n);for(const t of e)try{if(zO(t))return}catch{}nl(n,"unauthorized-domain")}function zO(n){const e=D1(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!UO.test(t))return!1;if(VO.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=new Ad(3e4,6e4);function O_(){const n=Za().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function $O(n){return new Promise((e,t)=>{var r,i,s;function l(){O_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O_(),t(ma(n,"network-request-failed"))},timeout:qO.get()})}if(!((i=(r=Za().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Za().gapi)===null||s===void 0)&&s.load)l();else{const u=KD("iframefcb");return Za()[u]=()=>{gapi.load?l():t(ma(n,"network-request-failed"))},WD(`${GD()}?onload=${u}`).catch(c=>t(c))}}).catch(e=>{throw zp=null,e})}let zp=null;function HO(n){return zp=zp||$O(n),zp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=new Ad(5e3,15e3),GO="__/auth/iframe",KO="emulator/auth/iframe",YO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XO(n){const e=n.config;Gt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?A2(e,KO):`https://${n.config.authDomain}/${GO}`,r={apiKey:e.apiKey,appName:n.name,v:Hh},i=JO.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${yd(r).slice(1)}`}async function QO(n){const e=await HO(n),t=Za().gapi;return Gt(t,n,"internal-error"),e.open({where:document.body,url:XO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YO,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=ma(n,"network-request-failed"),u=Za().setTimeout(()=>{s(l)},WO.get());function c(){Za().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eM=500,tM=600,nM="_blank",rM="http://localhost";class M_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iM(n,e,t,r=eM,i=tM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},ZO),{width:r.toString(),height:i.toString(),top:s,left:l}),f=As().toLowerCase();t&&(u=nS(f)?nM:t),eS(f)&&(e=e||rM,c.scrollbars="yes");const p=Object.entries(c).reduce((_,[v,C])=>`${_}${v}=${C},`,"");if(jD(f)&&u!=="_self")return sM(e||"",u),new M_(null);const w=window.open(e||"",u,p);Gt(w,n,"popup-blocked");try{w.focus()}catch{}return new M_(w)}function sM(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM="__/auth/handler",aM="emulator/auth/handler",lM=encodeURIComponent("fac");async function F_(n,e,t,r,i,s){Gt(n.config.authDomain,n,"auth-domain-config-required"),Gt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Hh,eventId:i};if(e instanceof I2){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",KC(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,w]of Object.entries({}))l[p]=w}if(e instanceof Ed){const p=e.getScopes().filter(w=>w!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await n._getAppCheckToken(),f=c?`#${lM}=${encodeURIComponent(c)}`:"";return`${uM(n)}?${yd(u).slice(1)}${f}`}function uM({config:n}){return n.emulator?A2(n,aM):`https://${n.authDomain}/${oM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="webStorageSupport";class cM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mS,this._completeRedirectFn=DO,this._overrideRedirectResult=CO}async _openPopup(e,t,r,i){var s;zl((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await F_(e,t,r,D1(),i);return iM(e,l,P2())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await F_(e,t,r,D1(),i);return dO(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(zl(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await QO(e),r=new MO(e);return t.register("authEvent",i=>(Gt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(A0,{type:A0},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[A0];l!==void 0&&t(!!l),nl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=BO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return aS()||tS()||E2()}}const hM=cM;var j_="@firebase/auth",V_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pM(n){Ic(new Lu("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Gt(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lS(n)},f=new $D(r,i,s,c);return JD(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ic(new Lu("auth-internal",e=>{const t=Sd(e.getProvider("auth").getImmediate());return(r=>new fM(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wa(j_,V_,dM(n)),Wa(j_,V_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=300,gM=aA("authIdTokenMaxAge")||mM;let U_=null;const yM=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>gM)return;const i=t==null?void 0:t.token;U_!==i&&(U_=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function vM(n=zy()){const e=Fm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=YD(n,{popupRedirectResolver:hM,persistence:[xO,cO,mS]}),r=aA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=yM(s.toString());aO(t,l,()=>l(t.currentUser)),oO(t,u=>l(u))}}const i=iA("auth");return i&&XD(t,`http://${i}`),t}function wM(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}HD({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=ma("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",wM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pM("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="type.googleapis.com/google.protobuf.Int64Value",bM="type.googleapis.com/google.protobuf.UInt64Value";function AS(n,e){const t={};for(const r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r]));return t}function Am(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>Am(e));if(typeof n=="function"||typeof n=="object")return AS(n,e=>Am(e));throw new Error("Data cannot be encoded in JSON: "+n)}function Vh(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case _M:case bM:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>Vh(e)):typeof n=="function"||typeof n=="object"?AS(n,e=>Vh(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ks extends rl{constructor(e,t,r){super(`${k2}/${e}`,t||""),this.details=r,Object.setPrototypeOf(this,Ks.prototype)}}function xM(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Sm(n,e){let t=xM(n),r=t,i;try{const s=e&&e.error;if(s){const l=s.status;if(typeof l=="string"){if(!B_[l])return new Ks("internal","internal");t=B_[l],r=l}const u=s.message;typeof u=="string"&&(r=u),i=s.details,i!==void 0&&(i=Vh(i))}}catch{}return t==="ok"?null:new Ks(t,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,t,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,po(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||t.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i==null||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:t,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="us-central1",SM=/^data: (.*?)(?:\n|$)/;function EM(n){let e=null;return{promise:new Promise((t,r)=>{e=setTimeout(()=>{r(new Ks("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class TM{constructor(e,t,r,i,s=F1,l=(...u)=>fetch(...u)){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new AM(e,t,r,i),this.cancelAllRequests=new Promise(u=>{this.deleteService=()=>Promise.resolve(u())});try{const u=new URL(s);this.customDomain=u.origin+(u.pathname==="/"?"":u.pathname),this.region=F1}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function IM(n,e,t){const r=Dc(e);n.emulatorOrigin=`http${r?"s":""}://${e}:${t}`,r&&(jy(n.emulatorOrigin),Vy("Functions",!0))}function PM(n,e,t){const r=i=>kM(n,e,i,{});return r.stream=(i,s)=>RM(n,e,i,s),r}async function NM(n,e,t,r){t["Content-Type"]="application/json";let i;try{i=await r(n,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}async function SS(n,e){const t={},r=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(t.Authorization="Bearer "+r.authToken),r.messagingToken&&(t["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=r.appCheckToken),t}function kM(n,e,t,r){const i=n._url(e);return CM(n,i,t,r)}async function CM(n,e,t,r){t=Am(t);const i={data:t},s=await SS(n,r),l=r.timeout||7e4,u=EM(l),c=await Promise.race([NM(e,i,s,n.fetchImpl),u.promise,n.cancelAllRequests]);if(u.cancel(),!c)throw new Ks("cancelled","Firebase Functions instance was deleted.");const f=Sm(c.status,c.json);if(f)throw f;if(!c.json)throw new Ks("internal","Response is not valid JSON object.");let p=c.json.data;if(typeof p>"u"&&(p=c.json.result),typeof p>"u")throw new Ks("internal","Response is missing data field.");return{data:Vh(p)}}function RM(n,e,t,r){const i=n._url(e);return LM(n,i,t,r||{})}async function LM(n,e,t,r){var i;t=Am(t);const s={data:t},l=await SS(n,r);l["Content-Type"]="application/json",l.Accept="text/event-stream";let u;try{u=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(s),headers:l,signal:r==null?void 0:r.signal})}catch(v){if(v instanceof Error&&v.name==="AbortError"){const I=new Ks("cancelled","Request was cancelled.");return{data:Promise.reject(I),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(I)}}}}}}const C=Sm(0,null);return{data:Promise.reject(C),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(C)}}}}}}let c,f;const p=new Promise((v,C)=>{c=v,f=C});(i=r==null?void 0:r.signal)===null||i===void 0||i.addEventListener("abort",()=>{const v=new Ks("cancelled","Request was cancelled.");f(v)});const w=u.body.getReader(),_=DM(w,c,f,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const v=_.getReader();return{async next(){const{value:C,done:I}=await v.read();return{value:C,done:I}},async return(){return await v.cancel(),{done:!0,value:void 0}}}}},data:p}}function DM(n,e,t,r){const i=(l,u)=>{const c=l.match(SM);if(!c)return;const f=c[1];try{const p=JSON.parse(f);if("result"in p){e(Vh(p.result));return}if("message"in p){u.enqueue(Vh(p.message));return}if("error"in p){const w=Sm(0,p);u.error(w),t(w);return}}catch(p){if(p instanceof Ks){u.error(p),t(p);return}}},s=new TextDecoder;return new ReadableStream({start(l){let u="";return c();async function c(){if(r!=null&&r.aborted){const f=new Ks("cancelled","Request was cancelled");return l.error(f),t(f),Promise.resolve()}try{const{value:f,done:p}=await n.read();if(p){u.trim()&&i(u.trim(),l),l.close();return}if(r!=null&&r.aborted){const _=new Ks("cancelled","Request was cancelled");l.error(_),t(_),await n.cancel();return}u+=s.decode(f,{stream:!0});const w=u.split(`
`);u=w.pop()||"";for(const _ of w)_.trim()&&i(_.trim(),l);return c()}catch(f){const p=f instanceof Ks?f:Sm(0,null);l.error(p),t(p)}}},cancel(){return n.cancel()}})}const z_="@firebase/functions",q_="0.12.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="auth-internal",MM="app-check-internal",FM="messaging-internal";function jM(n){const e=(t,{instanceIdentifier:r})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider(OM),l=t.getProvider(FM),u=t.getProvider(MM);return new TM(i,s,l,u,r)};Ic(new Lu(k2,e,"PUBLIC").setMultipleInstances(!0)),Wa(z_,q_,n),Wa(z_,q_,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(n=zy(),e=F1){const r=Fm(Xi(n),k2).getImmediate({identifier:e}),i=sA("functions");return i&&UM(r,...i),r}function UM(n,e,t){IM(Xi(n),e,t)}function ES(n,e,t){return PM(Xi(n),e)}jM();const BM={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},C2=cA(BM),TS=vM(C2),$o=tD(C2),IS=VM(C2,"us-central1"),zM=async()=>{const n=new Cl;return(await IO(TS,n)).user},qM=async()=>(await nO(TS)).user;function $M(){const n="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let t=0;t<6;t++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}function PS(n){switch(n){case 1:return"";case 2:return"";case 3:return"";default:return`${n}`}}function HM(n){return!n||n.length===0?0:n.reduce((t,r)=>t+r.score,0)/n.length}const NS=[{id:1,category:"Destruccin Creativa e Innovacin",theme:"A",text:"Explica cmo la destruccin creativa impulsa el crecimiento econmico.",expectedConcepts:["innovacin","competencia","productividad","schumpeter","crecimiento"],difficulty:"medium"},{id:2,category:"Destruccin Creativa e Innovacin",theme:"A",text:"Por qu las empresas incumbentes pueden frenar la innovacin? Da un ejemplo.",expectedConcepts:["incumbentes","barreras","competencia","incentivos","regulacin"],difficulty:"medium"},{id:3,category:"Destruccin Creativa e Innovacin",theme:"A",text:"Qu papel juegan las polticas pblicas para orientar la innovacin hacia tecnologas limpias?",expectedConcepts:["poltica pblica","innovacin","tecnologas limpias","incentivos","subsidios"],difficulty:"hard"},{id:4,category:"Desigualdad y Movilidad Social",theme:"B",text:"Por qu es importante distinguir entre desigualdad general y desigualdad en la cima (top 1%)?",expectedConcepts:["desigualdad","top 1%","distribucin","riqueza","ingreso"],difficulty:"medium"},{id:5,category:"Desigualdad y Movilidad Social",theme:"B",text:'Explica qu representa la "Great Gatsby Curve" y qu implica para las polticas pblicas.',expectedConcepts:["movilidad social","desigualdad","intergeneracional","poltica pblica","oportunidad"],difficulty:"hard"},{id:6,category:"Desigualdad y Movilidad Social",theme:"B",text:"Cmo puede la innovacin tecnolgica contribuir tanto al aumento como a la reduccin de la desigualdad?",expectedConcepts:["tecnologa","desigualdad","trabajo","capital humano","educacin"],difficulty:"hard"},{id:7,category:"Instituciones y Desarrollo",theme:"C",text:"Explica la diferencia entre instituciones inclusivas y extractivas.",expectedConcepts:["instituciones","inclusivas","extractivas","desarrollo","poder"],difficulty:"easy"},{id:8,category:"Instituciones y Desarrollo",theme:"C",text:'Qu es una "coyuntura crtica" y cmo afecta trayectorias institucionales?',expectedConcepts:["coyuntura crtica","instituciones","cambio","trayectoria","historia"],difficulty:"hard"},{id:9,category:"Antropoceno y Sostenibilidad",theme:"D",text:'Qu es la "Gran Aceleracin" y cmo se relaciona con el sistema econmico actual?',expectedConcepts:["gran aceleracin","antropoceno","economa","sostenibilidad","recursos"],difficulty:"medium"},{id:10,category:"Antropoceno y Sostenibilidad",theme:"D",text:"Cmo pueden las instituciones orientar la economa hacia trayectorias sostenibles?",expectedConcepts:["instituciones","sostenibilidad","economa","poltica pblica","transicin"],difficulty:"hard"}],j1=NS.length,kS=n=>NS.find(e=>e.id===n);function WM(){const n=ql(),[e,t]=ye.useState(!1),[r,i]=ye.useState(null),s=async()=>{t(!0),i(null);try{const l=await zM(),u=$M();await gD(qo($o,"games",u),{gameCode:u,hostId:l.uid,state:"waiting",createdAt:tn.now(),updatedAt:tn.now(),currentRound:0,totalRounds:j1,players:{[l.uid]:{uid:l.uid,name:l.displayName||"Profesor",photoURL:l.photoURL||"",isAdmin:!0,isActive:!0,totalScore:0,joinedAt:tn.now()}},rounds:{}}),localStorage.setItem("gameCode",u),localStorage.setItem("playerId",l.uid),localStorage.setItem("isAdmin","true"),n("/lobby")}catch(l){console.error("Error creating game:",l),i(l.message||"Error al crear el juego"),t(!1)}};return $.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:$.jsxs(Qt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"max-w-md w-full",children:[$.jsxs("button",{onClick:()=>n("/"),className:"mb-6 text-gray-400 hover:text-white flex items-center gap-2",children:[$.jsx(Ax,{className:"w-5 h-5"}),"Volver"]}),$.jsxs("div",{className:"dramatic-card p-8",children:[$.jsxs("div",{className:"text-center mb-8",children:[$.jsx(iy,{className:"w-16 h-16 text-blue-400 mx-auto mb-4"}),$.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"Crear Juego"}),$.jsx("p",{className:"text-gray-400",children:"Solo para profesores"})]}),$.jsxs("div",{className:"space-y-6",children:[$.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4",children:[$.jsx("h3",{className:"font-semibold text-white mb-2",children:"Caractersticas del juego:"}),$.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[$.jsxs("li",{children:[" ",j1," preguntas sobre Unidad 2"]}),$.jsx("li",{children:" Evaluacin con 3 jueces de IA"}),$.jsx("li",{children:" Feedback personalizado en tiempo real"}),$.jsx("li",{children:" Controles de profesor (pausa, skip)"}),$.jsx("li",{children:" Informe final por estudiante"})]})]}),r&&$.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:$.jsx("p",{className:"text-red-400 text-sm",children:r})}),$.jsx("button",{onClick:s,disabled:e,className:"primary-button w-full py-4 text-lg",children:e?$.jsxs("span",{className:"flex items-center justify-center gap-2",children:[$.jsx(mo,{className:"w-5 h-5 animate-spin"}),"Creando juego..."]}):"Iniciar sesin con Google y Crear"}),$.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Se te pedir que inicies sesin con tu cuenta de Google. Los estudiantes se unirn con un cdigo."})]})]})]})})}function GM(){const n=ql(),[e,t]=ye.useState(""),[r,i]=ye.useState(""),[s,l]=ye.useState(!1),[u,c]=ye.useState(null),f=async p=>{if(p.preventDefault(),!e.trim()||!r.trim()){c("Por favor completa todos los campos");return}l(!0),c(null);try{const w=await qM(),_=qo($o,"games",e.toUpperCase()),v=await mD(_);if(!v.exists()){c("Cdigo de juego invlido"),l(!1);return}if(v.data().state!=="waiting"){c("El juego ya ha comenzado"),l(!1);return}await za(_,{[`players.${w.uid}`]:{uid:w.uid,name:r.trim(),isAdmin:!1,isActive:!0,totalScore:0,joinedAt:tn.now()},updatedAt:tn.now()}),localStorage.setItem("gameCode",e.toUpperCase()),localStorage.setItem("playerId",w.uid),localStorage.setItem("isAdmin","false"),n("/lobby")}catch(w){console.error("Error joining game:",w),c(w.message||"Error al unirse al juego"),l(!1)}};return $.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:$.jsxs(Qt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"max-w-md w-full",children:[$.jsxs("button",{onClick:()=>n("/"),className:"mb-6 text-gray-400 hover:text-white flex items-center gap-2",children:[$.jsx(Ax,{className:"w-5 h-5"}),"Volver"]}),$.jsxs("div",{className:"dramatic-card p-8",children:[$.jsxs("div",{className:"text-center mb-8",children:[$.jsx(sy,{className:"w-16 h-16 text-cyan-400 mx-auto mb-4"}),$.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"Unirse a Juego"}),$.jsx("p",{className:"text-gray-400",children:"Ingresa el cdigo compartido por tu profesor"})]}),$.jsxs("form",{onSubmit:f,className:"space-y-6",children:[$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cdigo del Juego"}),$.jsx("input",{type:"text",value:e,onChange:p=>t(p.target.value.toUpperCase()),placeholder:"Ej: ABC123",maxLength:6,className:"input-field w-full text-center text-2xl font-bold tracking-widest uppercase",disabled:s})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tu Nombre"}),$.jsx("input",{type:"text",value:r,onChange:p=>i(p.target.value),placeholder:"Nombre completo",className:"input-field w-full",disabled:s})]}),u&&$.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:$.jsx("p",{className:"text-red-400 text-sm",children:u})}),$.jsx("button",{type:"submit",disabled:s||!e.trim()||!r.trim(),className:"primary-button w-full py-4 text-lg",children:s?$.jsxs("span",{className:"flex items-center justify-center gap-2",children:[$.jsx(mo,{className:"w-5 h-5 animate-spin"}),"Unindose..."]}):"Unirse al Juego"})]})]})]})})}const ig=n=>{const[e,t]=ye.useState(null),[r,i]=ye.useState(!0),[s,l]=ye.useState(null);return ye.useEffect(()=>{if(!n){i(!1);return}const u=yD(qo($o,"games",n),c=>{c.exists()?(t({id:c.id,...c.data()}),l(null)):(l(new Error("Juego no encontrado")),t(null)),i(!1)},c=>{console.error("Error en suscripcin:",c),l(c),i(!1)});return()=>u()},[n]),{game:e,loading:r,error:s}};function KM(){const n=ql(),e=localStorage.getItem("gameCode"),t=localStorage.getItem("playerId"),r=localStorage.getItem("isAdmin")==="true",{game:i,loading:s}=ig(e),[l,u]=ye.useState(!1),[c,f]=ye.useState(!1);ye.useEffect(()=>{if(!r&&i&&t){const I=i.players[t];I&&!I.isActive&&(alert("Has sido eliminado de la sala por el profesor."),localStorage.clear(),n("/"))}},[i,t,r,n]),ye.useEffect(()=>{(i==null?void 0:i.state)==="playing"&&n(`/round/${i.currentRound}`)},[i==null?void 0:i.state,i==null?void 0:i.currentRound,n]);const p=async()=>{if(!(!i||!e)){f(!0);try{await za(qo($o,"games",e),{state:"playing",currentRound:1,updatedAt:tn.now(),"rounds.1":{startTime:tn.now(),isActive:!0,questionId:1,submissions:{},isPaused:!1}})}catch(I){console.error("Error starting game:",I),f(!1)}}},w=()=>{e&&(navigator.clipboard.writeText(e),u(!0),setTimeout(()=>u(!1),2e3))},_=async I=>{if(!i||!e||!r)return;const N=i.players[I];if(confirm(`Eliminar a "${N==null?void 0:N.name}" de la sala?`))try{await za(qo($o,"games",e),{[`players.${I}.isActive`]:!1,updatedAt:tn.now()})}catch(L){console.error("Error removing player:",L),alert("Error al eliminar jugador. Intenta de nuevo.")}};if(s)return $.jsx("div",{className:"min-h-screen flex items-center justify-center",children:$.jsxs("div",{className:"text-center",children:[$.jsx(mo,{className:"w-12 h-12 text-blue-400 animate-spin mx-auto mb-4"}),$.jsx("p",{className:"text-gray-400",children:"Cargando sala..."})]})});if(!i)return $.jsx("div",{className:"min-h-screen flex items-center justify-center",children:$.jsxs("div",{className:"text-center",children:[$.jsx("p",{className:"text-red-400 mb-4",children:"Juego no encontrado"}),$.jsx("button",{onClick:()=>n("/"),className:"primary-button",children:"Volver al inicio"})]})});const v=Object.values(i.players).filter(I=>I.isActive),C=v.find(I=>I.isAdmin);return $.jsx("div",{className:"min-h-screen p-4 md:p-8",children:$.jsxs("div",{className:"max-w-4xl mx-auto",children:[$.jsxs(Qt.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"text-center mb-8",children:[$.jsx("h1",{className:"text-4xl font-bold gradient-text mb-4",children:"Sala de Espera"}),$.jsxs("div",{className:"dramatic-card p-6 mb-6 inline-block",children:[$.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Cdigo del Juego"}),$.jsxs("div",{className:"flex items-center gap-3",children:[$.jsx("span",{className:"text-4xl font-bold text-white tracking-widest",children:e}),$.jsx("button",{onClick:w,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:l?$.jsx(B6,{className:"w-6 h-6 text-green-400"}):$.jsx(q6,{className:"w-6 h-6 text-gray-400"})})]})]}),$.jsx("p",{className:"text-gray-400",children:r?"Comparte el cdigo con tus estudiantes":`Esperando al profesor... (${C==null?void 0:C.name})`})]}),$.jsxs(Qt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"dramatic-card p-6 mb-8",children:[$.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[$.jsx(sy,{className:"w-6 h-6 text-blue-400"}),"Informacin del Juego"]}),$.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[$.jsxs("div",{children:[$.jsx("p",{className:"text-3xl font-bold text-blue-400",children:j1}),$.jsx("p",{className:"text-sm text-gray-400",children:"Preguntas"})]}),$.jsxs("div",{children:[$.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"3"}),$.jsx("p",{className:"text-sm text-gray-400",children:"Jueces de IA"})]}),$.jsxs("div",{children:[$.jsx("p",{className:"text-3xl font-bold text-emerald-400",children:v.length}),$.jsx("p",{className:"text-sm text-gray-400",children:"Jugadores"})]})]})]}),$.jsxs(Qt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"dramatic-card p-6 mb-8",children:[$.jsxs("h2",{className:"text-xl font-bold text-white mb-4",children:["Jugadores (",v.length,")"]}),$.jsx("div",{className:"space-y-2",children:v.map((I,N)=>$.jsxs(Qt.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1*N},className:`flex items-center gap-3 p-3 rounded-lg ${I.uid===t?"bg-blue-500/20 border border-blue-500/30":"bg-slate-700/30"}`,children:[I.photoURL?$.jsx("img",{src:I.photoURL,alt:I.name,className:"w-10 h-10 rounded-full"}):$.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center text-white font-bold",children:I.name.charAt(0).toUpperCase()}),$.jsxs("div",{className:"flex-1",children:[$.jsxs("p",{className:"font-semibold text-white",children:[I.name,I.uid===t&&" (T)"]}),I.isAdmin&&$.jsx("p",{className:"text-xs text-yellow-400",children:" Profesor"})]}),r&&!I.isAdmin&&$.jsx("button",{onClick:()=>_(I.uid),className:"p-2 hover:bg-red-500/20 rounded-lg transition-colors group",title:"Eliminar jugador",children:$.jsx(X6,{className:"w-5 h-5 text-gray-400 group-hover:text-red-400"})})]},I.uid))})]}),r&&$.jsxs(Qt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"text-center",children:[$.jsx("button",{onClick:p,disabled:c||v.length<1,className:"primary-button py-4 px-8 text-lg flex items-center gap-3 mx-auto",children:c?$.jsxs($.Fragment,{children:[$.jsx(mo,{className:"w-6 h-6 animate-spin"}),"Iniciando..."]}):$.jsxs($.Fragment,{children:[$.jsx(Sx,{className:"w-6 h-6"}),"Iniciar Juego"]})}),v.length===1&&$.jsx("p",{className:"text-yellow-400 text-sm mt-4",children:"Esperando ms jugadores..."})]}),!r&&$.jsx(Qt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"text-center",children:$.jsxs("div",{className:"dramatic-card p-6 bg-cyan-900/20",children:[$.jsx(mo,{className:"w-8 h-8 text-cyan-400 animate-spin mx-auto mb-3"}),$.jsx("p",{className:"text-gray-300",children:"Esperando a que el profesor inicie el juego..."})]})})]})})}const CS=[{name:"Profe Naim",role:"Digital Twin del Profesor",description:"Anlisis causal, claridad conceptual, rigor terico",avatar:"",color:"purple"},{name:"Ayudante Mariela",role:"Especialista en Evidencia Emprica",description:"Enfoque emprico, evidencia cuantitativa, estudios reales",avatar:"",color:"cyan"},{name:"Ayudante Carlos",role:"Experto Institucional-Poltico",description:"Enfoque institucional-poltico, incentivos, poder, trayectoria histrica",avatar:"",color:"emerald"}];function YM({endTime:n,onExpire:e,isPaused:t}){const[r,i]=ye.useState(0),[s,l]=ye.useState(null);ye.useEffect(()=>{if(t){s===null&&l(r);return}s!==null&&(i(s),l(null));const f=setInterval(()=>{const p=Math.max(0,n-Date.now());i(p),p===0&&(e(),clearInterval(f))},1e3);return()=>clearInterval(f)},[n,e,t,s,r]);const u=Math.floor(r/6e4),c=Math.floor(r%6e4/1e3);return $.jsx("div",{className:"dramatic-card px-6 py-3",children:$.jsxs("div",{className:"text-center",children:[$.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[$.jsx(z6,{className:"w-4 h-4 text-gray-400"}),$.jsx("p",{className:"text-sm text-gray-400",children:"Tiempo restante"})]}),$.jsxs("p",{className:`text-3xl font-bold ${r<6e4?"text-red-400 animate-pulse":"text-white"}`,children:[u,":",c.toString().padStart(2,"0")]}),t&&$.jsx("p",{className:"text-xs text-yellow-400 mt-1",children:" PAUSADO"})]})})}function JM({feedback:n,index:e}){const t=CS.find(s=>s.name===n.judgeName),r=s=>s>=80?"text-green-400":s>=60?"text-yellow-400":"text-red-400",i=s=>s>=80?"from-green-500 to-emerald-500":s>=60?"from-yellow-500 to-orange-500":"from-red-500 to-pink-500";return $.jsxs(Qt.div,{initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},transition:{delay:e*.2,type:"spring"},className:"dramatic-card p-6",children:[$.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[$.jsx("div",{className:"text-5xl",children:(t==null?void 0:t.avatar)||""}),$.jsxs("div",{className:"flex-1",children:[$.jsx("h3",{className:"font-bold text-white text-lg",children:n.judgeName}),$.jsx("p",{className:"text-sm text-gray-400",children:n.judgeRole})]}),$.jsx("div",{className:`text-4xl font-bold ${r(n.score)}`,children:n.score})]}),$.jsx("div",{className:"mb-4",children:$.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:$.jsx(Qt.div,{initial:{width:0},animate:{width:`${n.score}%`},transition:{delay:e*.2+.3,duration:.8},className:`h-full bg-gradient-to-r ${i(n.score)}`})})}),$.jsx("div",{className:"mb-4",children:$.jsx("p",{className:"text-gray-200 text-sm leading-relaxed",children:n.feedback})}),n.tags&&n.tags.length>0&&$.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.map((s,l)=>$.jsx("span",{className:"px-3 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full text-xs text-blue-300",children:s},l))})]})}function RS({feedbacks:n,playerName:e}){if(!n||n.length===0)return null;const t=HM(n),i=(l=>l>=85?{bgGradient:"from-emerald-900/50 to-green-900/50",icon:K0,iconColor:"text-yellow-300",message:"Excelente trabajo!",messageColor:"text-green-400",animation:{scale:[1,1.05,1],rotate:[0,2,-2,0]},duration:.6}:l>=70?{bgGradient:"from-blue-900/50 to-cyan-900/50",icon:Ex,iconColor:"text-cyan-400",message:"Buen desempeo",messageColor:"text-cyan-400",animation:{scale:[1,1.02,1]},duration:.5}:l>=50?{bgGradient:"from-amber-900/50 to-orange-900/50",icon:t5,iconColor:"text-amber-400",message:"Sigue mejorando",messageColor:"text-amber-400",animation:{scale:[1,1.01,1]},duration:.4}:{bgGradient:"from-red-900/50 to-rose-900/50",icon:t5,iconColor:"text-rose-400",message:"No te rindas",messageColor:"text-rose-400",animation:{scale:[1,.98,1]},duration:.4})(t),s=i.icon;return $.jsxs("div",{className:"space-y-6",children:[$.jsxs(Qt.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:`dramatic-card p-6 bg-gradient-to-br ${i.bgGradient} relative overflow-hidden`,children:[t>=85&&$.jsxs($.Fragment,{children:[$.jsx(Qt.div,{className:"absolute top-0 left-0 w-full h-full",animate:{background:["radial-gradient(circle at 20% 50%, rgba(34, 197, 94, 0.3) 0%, transparent 50%)","radial-gradient(circle at 80% 50%, rgba(34, 197, 94, 0.3) 0%, transparent 50%)","radial-gradient(circle at 20% 50%, rgba(34, 197, 94, 0.3) 0%, transparent 50%)"]},transition:{duration:2,repeat:1/0}}),$.jsx(Qt.div,{className:"absolute inset-0 flex items-center justify-center pointer-events-none",initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:1,repeat:1/0,repeatDelay:1},children:$.jsx(K0,{className:"w-20 h-20 text-yellow-300/20"})})]}),$.jsxs("div",{className:"text-center relative z-10",children:[$.jsx(Qt.div,{animate:i.animation,transition:{duration:i.duration,repeat:1/0,repeatDelay:2},children:$.jsx(s,{className:`w-12 h-12 ${i.iconColor} mx-auto mb-3`})}),e&&$.jsx("h3",{className:"text-lg text-gray-300 mb-2",children:e}),$.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Puntaje Promedio"}),$.jsx(Qt.p,{className:"text-6xl font-bold gradient-text",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10,delay:.3},children:t.toFixed(1)}),$.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"de 100"}),$.jsx(Qt.p,{className:`text-lg font-semibold mt-3 ${i.messageColor}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},children:i.message})]})]}),$.jsxs("div",{className:"space-y-4",children:[$.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Evaluaciones Individuales"}),n.map((l,u)=>$.jsx(JM,{feedback:l,index:u},u))]})]})}const $_=300*1e3;function XM(){var F;const{roundNumber:n}=dx(),e=ql(),t=localStorage.getItem("gameCode"),r=localStorage.getItem("playerId"),i=localStorage.getItem("isAdmin")==="true",{game:s,loading:l}=ig(t),[u,c]=ye.useState(""),[f,p]=ye.useState(!1),[w,_]=ye.useState(!1),[v,C]=ye.useState(!1),I=parseInt(n||"1"),N=s==null?void 0:s.rounds[I],L=kS(I),K=r&&N?N.submissions[r]:null;ye.useEffect(()=>{(s==null?void 0:s.state)==="results"&&e(`/results/${I}`),(s==null?void 0:s.state)==="completed"&&e("/end")},[s==null?void 0:s.state,I,e]),ye.useEffect(()=>{N!=null&&N.submissions[r]&&_(!0)},[N,r]);const W=async O=>{if(O.preventDefault(),!(!u.trim()||w||!t||!r)){p(!0);try{await za(qo($o,"games",t),{[`rounds.${I}.submissions.${r}`]:{answer:u.trim(),submittedAt:tn.now()},updatedAt:tn.now()}),await ES(IS,"evaluateAnswer")({gameCode:t,roundNumber:I,playerId:r,answer:u.trim(),questionText:L==null?void 0:L.text}),_(!0)}catch(ae){console.error("Error submitting answer:",ae),alert("Error al enviar respuesta. Por favor intenta de nuevo.")}finally{p(!1)}}},G=async()=>{if(!(!t||!i))try{await za(qo($o,"games",t),{[`rounds.${I}.isPaused`]:!(N!=null&&N.isPaused),updatedAt:tn.now()})}catch(O){console.error("Error toggling pause:",O)}},ie=async()=>{if(!(!t||!s||v)){C(!0);try{const O=(N==null?void 0:N.submissions)||{},ae=s.players,Pe={state:"results",updatedAt:tn.now()};Object.keys(O).forEach(Le=>{var ke;const le=O[Le].averageScore||0,_e=((ke=ae[Le])==null?void 0:ke.totalScore)||0;Pe[`players.${Le}.totalScore`]=_e+le,Pe[`players.${Le}.roundScores.${I}`]=le}),await za(qo($o,"games",t),Pe)}catch(O){console.error("Error processing round:",O),C(!1)}}},pe=async()=>{if(!t||!i)return;if(window.confirm("Ests seguro de terminar el juego? Se mostrar el podio final."))try{await za(qo($o,"games",t),{state:"completed",updatedAt:tn.now()})}catch(ae){console.error("Error finishing game:",ae)}},q=ye.useCallback(async()=>{i&&s&&t&&!v&&await ie()},[i,s,t,v]);if(l)return $.jsx("div",{className:"min-h-screen flex items-center justify-center",children:$.jsx(mo,{className:"w-12 h-12 text-blue-400 animate-spin"})});if(!s||!N||!L)return $.jsx("div",{className:"min-h-screen flex items-center justify-center",children:$.jsx("p",{className:"text-red-400",children:"Error cargando ronda"})});const R=N.startTime instanceof tn?N.startTime.toMillis()+$_:new Date(N.startTime).getTime()+$_,k=Object.keys(N.submissions).length,U=Object.values(s.players).filter(O=>O.isActive&&!O.isAdmin).length,P=k>=U;return $.jsx("div",{className:"min-h-screen p-4 md:p-8",children:$.jsxs("div",{className:"max-w-4xl mx-auto",children:[$.jsxs(Qt.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"mb-6",children:[$.jsxs("div",{className:"flex items-center justify-between mb-4",children:[$.jsxs("h1",{className:"text-3xl font-bold gradient-text",children:["Ronda ",I," de ",s.totalRounds]}),$.jsx(YM,{endTime:R,onExpire:q,isPaused:N.isPaused})]}),$.jsx("div",{className:"dramatic-card p-4",children:$.jsxs("div",{className:"flex items-center justify-between",children:[$.jsx("span",{className:"text-sm text-blue-400 font-semibold",children:L.category}),$.jsxs("span",{className:"text-sm text-gray-400",children:[k," / ",U," respondieron"]})]})})]}),$.jsxs(Qt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"dramatic-card p-6 mb-6",children:[$.jsx("h2",{className:"text-lg font-bold text-white mb-4",children:"Jueces Evaluadores"}),$.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:CS.map(O=>$.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-4 text-center",children:[$.jsx("div",{className:"text-4xl mb-2",children:O.avatar}),$.jsx("p",{className:"font-semibold text-white mb-1",children:O.name}),$.jsx("p",{className:"text-xs text-gray-400",children:O.role})]},O.name))})]}),$.jsxs(Qt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"dramatic-card p-6 mb-6",children:[$.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Pregunta"}),$.jsx("p",{className:"text-lg text-gray-200 leading-relaxed",children:L.text})]}),!i&&$.jsxs(Qt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"dramatic-card p-6 mb-6",children:[$.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Tu Respuesta"}),$.jsxs("form",{onSubmit:W,children:[$.jsx("textarea",{value:u,onChange:O=>c(O.target.value),placeholder:"Escribe tu respuesta aqu...",rows:8,className:"input-field w-full mb-4",disabled:w||f}),$.jsx("button",{type:"submit",disabled:w||f||!u.trim(),className:"primary-button w-full py-3 flex items-center justify-center gap-2",children:f?$.jsxs($.Fragment,{children:[$.jsx(mo,{className:"w-5 h-5 animate-spin"}),"Enviando y evaluando..."]}):w?$.jsx($.Fragment,{children:"Respuesta enviada "}):$.jsxs($.Fragment,{children:[$.jsx(K6,{className:"w-5 h-5"}),"Enviar Respuesta"]})}),w&&!(K!=null&&K.feedbacks)&&$.jsx("p",{className:"text-center text-green-400 text-sm mt-4",children:"Tu respuesta ha sido enviada y est siendo evaluada por los jueces. Espera a que todos terminen..."})]})]}),!i&&(K==null?void 0:K.feedbacks)&&$.jsxs(Qt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"mb-6",children:[$.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:" Tu Evaluacin"}),$.jsx(RS,{feedbacks:K.feedbacks,playerName:(F=s==null?void 0:s.players[r])==null?void 0:F.name}),$.jsx("p",{className:"text-center text-cyan-400 text-sm mt-4",children:"Espera a que el profesor avance a la siguiente ronda..."})]}),i&&$.jsxs(Qt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"dramatic-card p-6 bg-yellow-900/20",children:[$.jsxs("h3",{className:"text-yellow-300 font-bold mb-4 flex items-center gap-2",children:[$.jsx("span",{children:""}),"Controles de Profesor"]}),$.jsxs("div",{className:"space-y-3",children:[$.jsx("button",{onClick:G,className:"primary-button w-full flex items-center justify-center gap-2",children:N.isPaused?$.jsxs($.Fragment,{children:[$.jsx(Sx,{className:"w-5 h-5"}),"Reanudar Tiempo"]}):$.jsxs($.Fragment,{children:[$.jsx(G6,{className:"w-5 h-5"}),"Pausar Tiempo"]})}),$.jsxs("button",{onClick:ie,disabled:k===0||v,className:"primary-button w-full flex items-center justify-center gap-2",children:[$.jsx(Y6,{className:"w-5 h-5"}),P?"Ir a Resultados (Todos enviaron)":`Ir a Resultados (${k}/${U})`]}),$.jsxs("button",{onClick:pe,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-semibold transition-all w-full flex items-center justify-center gap-2",children:[$.jsx(iy,{className:"w-5 h-5"}),"Terminar Juego (Podio Final)"]})]})]})]})})}function QM(){var G;const{roundNumber:n}=dx(),e=ql(),t=localStorage.getItem("gameCode"),r=localStorage.getItem("playerId"),i=localStorage.getItem("isAdmin")==="true",{game:s,loading:l}=ig(t),[u,c]=ye.useState(!1),f=parseInt(n||"1"),p=s==null?void 0:s.rounds[f],w=kS(f);ye.useEffect(()=>{(s==null?void 0:s.state)==="playing"&&e(`/round/${s.currentRound}`),(s==null?void 0:s.state)==="completed"&&e("/end")},[s==null?void 0:s.state,s==null?void 0:s.currentRound,e]);const _=async()=>{if(!(!s||!t||u)){c(!0);try{if(f<s.totalRounds){const ie=f+1;await za(qo($o,"games",t),{currentRound:ie,state:"playing",updatedAt:tn.now(),[`rounds.${ie}`]:{startTime:tn.now(),isActive:!0,questionId:ie,submissions:{},isPaused:!1}})}else await za(qo($o,"games",t),{state:"completed",updatedAt:tn.now()})}catch(ie){console.error("Error advancing:",ie),c(!1)}}},v=async()=>{if(!(!s||!t||u)){c(!0);try{await za(qo($o,"games",t),{state:"completed",updatedAt:tn.now()})}catch(ie){console.error("Error ending game:",ie),c(!1)}}};if(l)return $.jsx("div",{className:"min-h-screen flex items-center justify-center",children:$.jsx(mo,{className:"w-12 h-12 text-blue-400 animate-spin"})});if(!s||!p)return $.jsx("div",{className:"min-h-screen flex items-center justify-center",children:$.jsx("p",{className:"text-red-400",children:"Error cargando resultados"})});const C=Object.values(s.players).filter(ie=>ie.isActive&&!ie.isAdmin),I=C.map(ie=>{var R;const pe=((R=ie.roundScores)==null?void 0:R[f])||0,q=ie.totalScore/f;return{...ie,roundScore:pe,averageScore:q}}).sort((ie,pe)=>pe.averageScore-ie.averageScore),N=f>1?C.map(ie=>{var q;const pe=(ie.totalScore-(((q=ie.roundScores)==null?void 0:q[f])||0))/(f-1);return{uid:ie.uid,averageScore:pe}}).sort((ie,pe)=>pe.averageScore-ie.averageScore):[],L=f>2?C.map(ie=>{var R,k;const q=(ie.totalScore-(((R=ie.roundScores)==null?void 0:R[f])||0)-(((k=ie.roundScores)==null?void 0:k[f-1])||0))/(f-2);return{uid:ie.uid,averageScore:q}}).sort((ie,pe)=>pe.averageScore-ie.averageScore):[],K=I.map((ie,pe)=>{const q=pe+1,R=N.findIndex(F=>F.uid===ie.uid)+1,k=L.findIndex(F=>F.uid===ie.uid)+1;let U=0,P=!1;if(R>0&&(U=R-q),R>0&&k>0){const F=k-R;P=U>0&&F>0}return{...ie,rankChange:U,isOnFire:P}}),W=r?p.submissions[r]:null;return $.jsx("div",{className:"min-h-screen p-4 md:p-8",children:$.jsxs("div",{className:"max-w-6xl mx-auto",children:[$.jsxs(Qt.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"text-center mb-8",children:[$.jsxs("h1",{className:"text-4xl font-bold gradient-text mb-2",children:["Resultados - Ronda ",f]}),w&&$.jsx("p",{className:"text-gray-400",children:w.category})]}),!i&&(W==null?void 0:W.feedbacks)&&$.jsxs(Qt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"mb-8",children:[$.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Tu Evaluacin"}),$.jsx(RS,{feedbacks:W.feedbacks,playerName:(G=s.players[r])==null?void 0:G.name})]}),$.jsxs(Qt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:i?.1:.3},className:"dramatic-card p-6 mb-8",children:[$.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Clasificacin General"}),$.jsx("div",{className:"overflow-x-auto",children:$.jsxs("table",{className:"w-full",children:[$.jsx("thead",{children:$.jsxs("tr",{className:"border-b border-blue-500/30",children:[$.jsx("th",{className:"text-left py-3 px-2 text-gray-400",children:"Pos"}),$.jsx("th",{className:"text-left py-3 px-2 text-gray-400",children:"Jugador"}),$.jsx("th",{className:"text-right py-3 px-2 text-gray-400",children:"Esta Ronda"}),$.jsx("th",{className:"text-right py-3 px-2 text-gray-400",children:"Promedio"})]})}),$.jsx("tbody",{children:K.map((ie,pe)=>$.jsxs(Qt.tr,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.05*pe},className:`border-b border-slate-700 ${ie.uid===r?"bg-blue-500/20":""}`,children:[$.jsx("td",{className:"py-3 px-2",children:$.jsxs("div",{className:"flex items-center gap-1",children:[$.jsx("span",{className:"font-bold text-xl",children:PS(pe+1)}),ie.isOnFire&&$.jsx(H6,{className:"w-4 h-4 text-orange-500 animate-pulse"})]})}),$.jsx("td",{className:"py-3 px-2 font-semibold text-white",children:$.jsxs("div",{className:"flex items-center gap-2",children:[$.jsxs("span",{children:[ie.name,ie.uid===r&&" (T)"]}),ie.rankChange>0&&$.jsxs(Qt.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},className:"flex items-center gap-1 bg-green-500/20 px-2 py-1 rounded-full",children:[$.jsx(Ex,{className:"w-4 h-4 text-green-400"}),$.jsxs("span",{className:"text-xs font-bold text-green-400",children:["+",ie.rankChange]})]}),ie.rankChange<0&&$.jsxs(Qt.div,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},className:"flex items-center gap-1 bg-red-500/20 px-2 py-1 rounded-full",children:[$.jsx(J6,{className:"w-4 h-4 text-red-400"}),$.jsx("span",{className:"text-xs font-bold text-red-400",children:ie.rankChange})]})]})}),$.jsxs("td",{className:"py-3 px-2 text-right text-cyan-400 font-bold",children:["+",ie.roundScore.toFixed(1)]}),$.jsx("td",{className:"py-3 px-2 text-right font-bold text-2xl text-white",children:ie.averageScore.toFixed(1)})]},ie.uid))})]})})]}),i&&$.jsxs(Qt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[f<s.totalRounds&&$.jsx("button",{onClick:_,disabled:u,className:"primary-button py-4 px-8 text-lg flex items-center gap-3",children:u?$.jsxs($.Fragment,{children:[$.jsx(mo,{className:"w-6 h-6 animate-spin"}),"Avanzando..."]}):$.jsxs($.Fragment,{children:[$.jsx(U6,{className:"w-6 h-6"}),"Siguiente Ronda (",f+1,"/",s.totalRounds,")"]})}),$.jsx("button",{onClick:v,disabled:u,className:"bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-500 hover:to-orange-500 text-white font-bold py-4 px-8 rounded-xl shadow-xl hover:shadow-2xl transition-all duration-300 flex items-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:u?$.jsxs($.Fragment,{children:[$.jsx(mo,{className:"w-6 h-6 animate-spin"}),"Finalizando..."]}):$.jsxs($.Fragment,{children:[$.jsx(iy,{className:"w-6 h-6"}),f<s.totalRounds?"Terminar Juego Ahora":"Ver Podio Final"]})})]}),!i&&$.jsx(Qt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-center",children:$.jsxs("div",{className:"dramatic-card p-6 bg-cyan-900/20",children:[$.jsx(mo,{className:"w-8 h-8 text-cyan-400 animate-spin mx-auto mb-3"}),$.jsx("p",{className:"text-gray-300",children:"Esperando al profesor..."})]})})]})})}const ZM="modulepreload",e9=function(n){return"/revision_mgt300/"+n},H_={},S0=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let l=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=l(t.map(f=>{if(f=e9(f),f in H_)return;H_[f]=!0;const p=f.endsWith(".css"),w=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${w}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":ZM,p||(_.as="script"),_.crossOrigin="",_.href=f,c&&_.setAttribute("nonce",c),document.head.appendChild(_),p)return new Promise((v,C)=>{_.addEventListener("load",v),_.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};function Yn(n){"@babel/helpers - typeof";return Yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yn(n)}var ga=Uint8Array,yo=Uint16Array,R2=Int32Array,L2=new ga([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),D2=new ga([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),W_=new ga([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),LS=function(n,e){for(var t=new yo(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new R2(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},DS=LS(L2,2),t9=DS.b,V1=DS.r;t9[28]=258,V1[258]=28;var n9=LS(D2,0),G_=n9.r,U1=new yo(32768);for(var cr=0;cr<32768;++cr){var vu=(cr&43690)>>1|(cr&21845)<<1;vu=(vu&52428)>>2|(vu&13107)<<2,vu=(vu&61680)>>4|(vu&3855)<<4,U1[cr]=((vu&65280)>>8|(vu&255)<<8)>>1}var Hf=(function(n,e,t){for(var r=n.length,i=0,s=new yo(e);i<r;++i)n[i]&&++s[n[i]-1];var l=new yo(e);for(i=1;i<e;++i)l[i]=l[i-1]+s[i-1]<<1;var u;if(t){u=new yo(1<<e);var c=15-e;for(i=0;i<r;++i)if(n[i])for(var f=i<<4|n[i],p=e-n[i],w=l[n[i]-1]++<<p,_=w|(1<<p)-1;w<=_;++w)u[U1[w]>>c]=f}else for(u=new yo(r),i=0;i<r;++i)n[i]&&(u[i]=U1[l[n[i]-1]++]>>15-n[i]);return u}),Cc=new ga(288);for(var cr=0;cr<144;++cr)Cc[cr]=8;for(var cr=144;cr<256;++cr)Cc[cr]=9;for(var cr=256;cr<280;++cr)Cc[cr]=7;for(var cr=280;cr<288;++cr)Cc[cr]=8;var Em=new ga(32);for(var cr=0;cr<32;++cr)Em[cr]=5;var r9=Hf(Cc,9,0),i9=Hf(Em,5,0),OS=function(n){return(n+7)/8|0},s9=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new ga(n.subarray(e,t))},Il=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Tf=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},E0=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:FS,l:0};if(i==1){var l=new ga(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(ie,pe){return ie.f-pe.f}),t.push({s:-1,f:25001});var u=t[0],c=t[1],f=0,p=1,w=2;for(t[0]={s:-1,f:u.f+c.f,l:u,r:c};p!=i-1;)u=t[t[f].f<t[w].f?f++:w++],c=t[f!=p&&t[f].f<t[w].f?f++:w++],t[p++]={s:-1,f:u.f+c.f,l:u,r:c};for(var _=s[0].s,r=1;r<i;++r)s[r].s>_&&(_=s[r].s);var v=new yo(_+1),C=B1(t[p-1],v,0);if(C>e){var r=0,I=0,N=C-e,L=1<<N;for(s.sort(function(pe,q){return v[q.s]-v[pe.s]||pe.f-q.f});r<i;++r){var K=s[r].s;if(v[K]>e)I+=L-(1<<C-v[K]),v[K]=e;else break}for(I>>=N;I>0;){var W=s[r].s;v[W]<e?I-=1<<e-v[W]++-1:++r}for(;r>=0&&I;--r){var G=s[r].s;v[G]==e&&(--v[G],++I)}C=e}return{t:new ga(v),l:C}},B1=function(n,e,t){return n.s==-1?Math.max(B1(n.l,e,t+1),B1(n.r,e,t+1)):e[n.s]=t},K_=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new yo(++e),r=0,i=n[0],s=1,l=function(c){t[r++]=c},u=1;u<=e;++u)if(n[u]==i&&u!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)l(32754);s>2&&(l(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(l(i),--s;s>6;s-=6)l(8304);s>2&&(l(s-3<<5|8208),s=0)}for(;s--;)l(i);s=1,i=n[u]}return{c:t.subarray(0,r),n:e}},If=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},MS=function(n,e,t){var r=t.length,i=OS(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},Y_=function(n,e,t,r,i,s,l,u,c,f,p){Il(e,p++,t),++i[256];for(var w=E0(i,15),_=w.t,v=w.l,C=E0(s,15),I=C.t,N=C.l,L=K_(_),K=L.c,W=L.n,G=K_(I),ie=G.c,pe=G.n,q=new yo(19),R=0;R<K.length;++R)++q[K[R]&31];for(var R=0;R<ie.length;++R)++q[ie[R]&31];for(var k=E0(q,7),U=k.t,P=k.l,F=19;F>4&&!U[W_[F-1]];--F);var O=f+5<<3,ae=If(i,Cc)+If(s,Em)+l,Pe=If(i,_)+If(s,I)+l+14+3*F+If(q,U)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&O<=ae&&O<=Pe)return MS(e,p,n.subarray(c,c+f));var Le,xe,le,_e;if(Il(e,p,1+(Pe<ae)),p+=2,Pe<ae){Le=Hf(_,v,0),xe=_,le=Hf(I,N,0),_e=I;var ke=Hf(U,P,0);Il(e,p,W-257),Il(e,p+5,pe-1),Il(e,p+10,F-4),p+=14;for(var R=0;R<F;++R)Il(e,p+3*R,U[W_[R]]);p+=3*F;for(var ne=[K,ie],M=0;M<2;++M)for(var Q=ne[M],R=0;R<Q.length;++R){var re=Q[R]&31;Il(e,p,ke[re]),p+=U[re],re>15&&(Il(e,p,Q[R]>>5&127),p+=Q[R]>>12)}}else Le=r9,xe=Cc,le=i9,_e=Em;for(var R=0;R<u;++R){var ue=r[R];if(ue>255){var re=ue>>18&31;Tf(e,p,Le[re+257]),p+=xe[re+257],re>7&&(Il(e,p,ue>>23&31),p+=L2[re]);var he=ue&31;Tf(e,p,le[he]),p+=_e[he],he>3&&(Tf(e,p,ue>>5&8191),p+=D2[he])}else Tf(e,p,Le[ue]),p+=xe[ue]}return Tf(e,p,Le[256]),p+xe[256]},o9=new R2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),FS=new ga(0),a9=function(n,e,t,r,i,s){var l=s.z||n.length,u=new ga(r+l+5*(1+Math.ceil(l/7e3))+i),c=u.subarray(r,u.length-i),f=s.l,p=(s.r||0)&7;if(e){p&&(c[0]=s.r>>3);for(var w=o9[e-1],_=w>>13,v=w&8191,C=(1<<t)-1,I=s.p||new yo(32768),N=s.h||new yo(C+1),L=Math.ceil(t/3),K=2*L,W=function(Me){return(n[Me]^n[Me+1]<<L^n[Me+2]<<K)&C},G=new R2(25e3),ie=new yo(288),pe=new yo(32),q=0,R=0,k=s.i||0,U=0,P=s.w||0,F=0;k+2<l;++k){var O=W(k),ae=k&32767,Pe=N[O];if(I[ae]=Pe,N[O]=ae,P<=k){var Le=l-k;if((q>7e3||U>24576)&&(Le>423||!f)){p=Y_(n,c,0,G,ie,pe,R,U,F,k-F,p),U=q=R=0,F=k;for(var xe=0;xe<286;++xe)ie[xe]=0;for(var xe=0;xe<30;++xe)pe[xe]=0}var le=2,_e=0,ke=v,ne=ae-Pe&32767;if(Le>2&&O==W(k-ne))for(var M=Math.min(_,Le)-1,Q=Math.min(32767,k),re=Math.min(258,Le);ne<=Q&&--ke&&ae!=Pe;){if(n[k+le]==n[k+le-ne]){for(var ue=0;ue<re&&n[k+ue]==n[k+ue-ne];++ue);if(ue>le){if(le=ue,_e=ne,ue>M)break;for(var he=Math.min(ne,ue-2),ve=0,xe=0;xe<he;++xe){var Ee=k-ne+xe&32767,Te=I[Ee],Fe=Ee-Te&32767;Fe>ve&&(ve=Fe,Pe=Ee)}}}ae=Pe,Pe=I[ae],ne+=ae-Pe&32767}if(_e){G[U++]=268435456|V1[le]<<18|G_[_e];var He=V1[le]&31,nt=G_[_e]&31;R+=L2[He]+D2[nt],++ie[257+He],++pe[nt],P=k+le,++q}else G[U++]=n[k],++ie[n[k]]}}for(k=Math.max(k,P);k<l;++k)G[U++]=n[k],++ie[n[k]];p=Y_(n,c,f,G,ie,pe,R,U,F,k-F,p),f||(s.r=p&7|c[p/8|0]<<3,p-=7,s.h=N,s.p=I,s.i=k,s.w=P)}else{for(var k=s.w||0;k<l+f;k+=65535){var tt=k+65535;tt>=l&&(c[p/8|0]=f,tt=l),p=MS(c,p+1,n.subarray(k,tt))}s.i=l}return s9(u,0,r+OS(p)+i)},jS=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,l=0;l!=s;){for(var u=Math.min(l+2655,s);l<u;++l)i+=r+=t[l];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},l9=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),l=new ga(s.length+n.length);l.set(s),l.set(n,s.length),n=l,i.w=s.length}return a9(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},VS=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},u9=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=jS();i.p(e.dictionary),VS(n,2,i.d())}};function z1(n,e){e||(e={});var t=jS();t.p(n);var r=l9(n,e,e.dictionary?6:2,4);return u9(r,e),VS(r,r.length-4,t.d()),r}var c9=typeof TextDecoder<"u"&&new TextDecoder,h9=0;try{c9.decode(FS,{stream:!0}),h9=1}catch{}function f9(n){if(Array.isArray(n))return n}function d9(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,l,u=[],c=!0,f=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(c=(r=s.call(t)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(p){f=!0,i=p}finally{try{if(!c&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function J_(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function p9(n,e){if(n){if(typeof n=="string")return J_(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?J_(n,e):void 0}}function m9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X_(n,e){return f9(n)||d9(n,e)||p9(n,e)||m9()}function Q_(n,e="utf8"){return new TextDecoder(e).decode(n)}const g9=new TextEncoder;function y9(n){return g9.encode(n)}const v9=1024*8,w9=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),T0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class O2{constructor(e=v9,t={}){Kn(this,"buffer");Kn(this,"byteLength");Kn(this,"byteOffset");Kn(this,"length");Kn(this,"offset");Kn(this,"lastWrittenByte");Kn(this,"littleEndian");Kn(this,"_data");Kn(this,"_mark");Kn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let l=i;(ArrayBuffer.isView(e)||e instanceof O2)&&(e.byteLength!==e.buffer.byteLength&&(l=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=T0[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===w9&&t!=="uint8"&&t!=="int8"){const u=new Uint8Array(this.buffer.slice(i,i+r));u.reverse();const c=new T0[t](u.buffer);return this.offset+=r,c.reverse(),c}const l=new T0[t](s);return this.offset+=r,l}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return Q_(this.readBytes(e))}decodeText(e=1,t="utf8"){return Q_(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(y9(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Xh(n){let e=n.length;for(;--e>=0;)n[e]=0}const _9=3,b9=258,US=29,x9=256,A9=x9+1+US,BS=30,S9=512,E9=new Array((A9+2)*2);Xh(E9);const T9=new Array(BS*2);Xh(T9);const I9=new Array(S9);Xh(I9);const P9=new Array(b9-_9+1);Xh(P9);const N9=new Array(US);Xh(N9);const k9=new Array(BS);Xh(k9);const C9=(n,e,t,r)=>{let i=n&65535|0,s=n>>>16&65535|0,l=0;for(;t!==0;){l=t>2e3?2e3:t,t-=l;do i=i+e[r++]|0,s=s+i|0;while(--l);i%=65521,s%=65521}return i|s<<16|0};var q1=C9;const R9=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},L9=new Uint32Array(R9()),D9=(n,e,t,r)=>{const i=L9,s=r+t;n^=-1;for(let l=r;l<s;l++)n=n>>>8^i[(n^e[l])&255];return n^-1};var Va=D9,$1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},zS={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const O9=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var M9=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)O9(t,r)&&(n[r]=t[r])}}return n},F9=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,s=n.length;r<s;r++){let l=n[r];t.set(l,i),i+=l.length}return t},qS={assign:M9,flattenChunks:F9};let $S=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{$S=!1}const ld=new Uint8Array(256);for(let n=0;n<256;n++)ld[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;ld[254]=ld[254]=1;var j9=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,s,l=n.length,u=0;for(i=0;i<l;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<l&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),u+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(u),s=0,i=0;s<u;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<l&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const V9=(n,e)=>{if(e<65534&&n.subarray&&$S)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var U9=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const s=new Array(t*2);for(i=0,r=0;r<t;){let l=n[r++];if(l<128){s[i++]=l;continue}let u=ld[l];if(u>4){s[i++]=65533,r+=u-1;continue}for(l&=u===2?31:u===3?15:7;u>1&&r<t;)l=l<<6|n[r++]&63,u--;if(u>1){s[i++]=65533;continue}l<65536?s[i++]=l:(l-=65536,s[i++]=55296|l>>10&1023,s[i++]=56320|l&1023)}return V9(s,i)},B9=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+ld[n[t]]>e?t:e},H1={string2buf:j9,buf2string:U9,utf8border:B9};function z9(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var q9=z9;const wp=16209,$9=16191;var H9=function(e,t){let r,i,s,l,u,c,f,p,w,_,v,C,I,N,L,K,W,G,ie,pe,q,R,k,U;const P=e.state;r=e.next_in,k=e.input,i=r+(e.avail_in-5),s=e.next_out,U=e.output,l=s-(t-e.avail_out),u=s+(e.avail_out-257),c=P.dmax,f=P.wsize,p=P.whave,w=P.wnext,_=P.window,v=P.hold,C=P.bits,I=P.lencode,N=P.distcode,L=(1<<P.lenbits)-1,K=(1<<P.distbits)-1;e:do{C<15&&(v+=k[r++]<<C,C+=8,v+=k[r++]<<C,C+=8),W=I[v&L];t:for(;;){if(G=W>>>24,v>>>=G,C-=G,G=W>>>16&255,G===0)U[s++]=W&65535;else if(G&16){ie=W&65535,G&=15,G&&(C<G&&(v+=k[r++]<<C,C+=8),ie+=v&(1<<G)-1,v>>>=G,C-=G),C<15&&(v+=k[r++]<<C,C+=8,v+=k[r++]<<C,C+=8),W=N[v&K];n:for(;;){if(G=W>>>24,v>>>=G,C-=G,G=W>>>16&255,G&16){if(pe=W&65535,G&=15,C<G&&(v+=k[r++]<<C,C+=8,C<G&&(v+=k[r++]<<C,C+=8)),pe+=v&(1<<G)-1,pe>c){e.msg="invalid distance too far back",P.mode=wp;break e}if(v>>>=G,C-=G,G=s-l,pe>G){if(G=pe-G,G>p&&P.sane){e.msg="invalid distance too far back",P.mode=wp;break e}if(q=0,R=_,w===0){if(q+=f-G,G<ie){ie-=G;do U[s++]=_[q++];while(--G);q=s-pe,R=U}}else if(w<G){if(q+=f+w-G,G-=w,G<ie){ie-=G;do U[s++]=_[q++];while(--G);if(q=0,w<ie){G=w,ie-=G;do U[s++]=_[q++];while(--G);q=s-pe,R=U}}}else if(q+=w-G,G<ie){ie-=G;do U[s++]=_[q++];while(--G);q=s-pe,R=U}for(;ie>2;)U[s++]=R[q++],U[s++]=R[q++],U[s++]=R[q++],ie-=3;ie&&(U[s++]=R[q++],ie>1&&(U[s++]=R[q++]))}else{q=s-pe;do U[s++]=U[q++],U[s++]=U[q++],U[s++]=U[q++],ie-=3;while(ie>2);ie&&(U[s++]=U[q++],ie>1&&(U[s++]=U[q++]))}}else if((G&64)===0){W=N[(W&65535)+(v&(1<<G)-1)];continue n}else{e.msg="invalid distance code",P.mode=wp;break e}break}}else if((G&64)===0){W=I[(W&65535)+(v&(1<<G)-1)];continue t}else if(G&32){P.mode=$9;break e}else{e.msg="invalid literal/length code",P.mode=wp;break e}break}}while(r<i&&s<u);ie=C>>3,r-=ie,C-=ie<<3,v&=(1<<C)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<u?257+(u-s):257-(s-u),P.hold=v,P.bits=C};const oh=15,Z_=852,eb=592,tb=0,I0=1,nb=2,W9=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),G9=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),K9=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Y9=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),J9=(n,e,t,r,i,s,l,u)=>{const c=u.bits;let f=0,p=0,w=0,_=0,v=0,C=0,I=0,N=0,L=0,K=0,W,G,ie,pe,q,R=null,k;const U=new Uint16Array(oh+1),P=new Uint16Array(oh+1);let F=null,O,ae,Pe;for(f=0;f<=oh;f++)U[f]=0;for(p=0;p<r;p++)U[e[t+p]]++;for(v=c,_=oh;_>=1&&U[_]===0;_--);if(v>_&&(v=_),_===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,u.bits=1,0;for(w=1;w<_&&U[w]===0;w++);for(v<w&&(v=w),N=1,f=1;f<=oh;f++)if(N<<=1,N-=U[f],N<0)return-1;if(N>0&&(n===tb||_!==1))return-1;for(P[1]=0,f=1;f<oh;f++)P[f+1]=P[f]+U[f];for(p=0;p<r;p++)e[t+p]!==0&&(l[P[e[t+p]]++]=p);if(n===tb?(R=F=l,k=20):n===I0?(R=W9,F=G9,k=257):(R=K9,F=Y9,k=0),K=0,p=0,f=w,q=s,C=v,I=0,ie=-1,L=1<<v,pe=L-1,n===I0&&L>Z_||n===nb&&L>eb)return 1;for(;;){O=f-I,l[p]+1<k?(ae=0,Pe=l[p]):l[p]>=k?(ae=F[l[p]-k],Pe=R[l[p]-k]):(ae=96,Pe=0),W=1<<f-I,G=1<<C,w=G;do G-=W,i[q+(K>>I)+G]=O<<24|ae<<16|Pe|0;while(G!==0);for(W=1<<f-1;K&W;)W>>=1;if(W!==0?(K&=W-1,K+=W):K=0,p++,--U[f]===0){if(f===_)break;f=e[t+l[p]]}if(f>v&&(K&pe)!==ie){for(I===0&&(I=v),q+=w,C=f-I,N=1<<C;C+I<_&&(N-=U[C+I],!(N<=0));)C++,N<<=1;if(L+=1<<C,n===I0&&L>Z_||n===nb&&L>eb)return 1;ie=K&pe,i[ie]=v<<24|C<<16|q-s|0}}return K!==0&&(i[q+K]=f-I<<24|64<<16|0),u.bits=v,0};var Wf=J9;const X9=0,HS=1,WS=2,{Z_FINISH:rb,Z_BLOCK:Q9,Z_TREES:_p,Z_OK:Rc,Z_STREAM_END:Z9,Z_NEED_DICT:eF,Z_STREAM_ERROR:Wo,Z_DATA_ERROR:GS,Z_MEM_ERROR:KS,Z_BUF_ERROR:tF,Z_DEFLATED:ib}=zS,sg=16180,sb=16181,ob=16182,ab=16183,lb=16184,ub=16185,cb=16186,hb=16187,fb=16188,db=16189,Tm=16190,Pl=16191,P0=16192,pb=16193,N0=16194,mb=16195,gb=16196,yb=16197,vb=16198,bp=16199,xp=16200,wb=16201,_b=16202,bb=16203,xb=16204,Ab=16205,k0=16206,Sb=16207,Eb=16208,Ar=16209,YS=16210,JS=16211,nF=852,rF=592,iF=15,sF=iF,Tb=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function oF(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Fc=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<sg||e.mode>JS?1:0},XS=n=>{if(Fc(n))return Wo;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=sg,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(nF),e.distcode=e.distdyn=new Int32Array(rF),e.sane=1,e.back=-1,Rc},QS=n=>{if(Fc(n))return Wo;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,XS(n)},ZS=(n,e)=>{let t;if(Fc(n))return Wo;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Wo:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,QS(n))},eE=(n,e)=>{if(!n)return Wo;const t=new oF;n.state=t,t.strm=n,t.window=null,t.mode=sg;const r=ZS(n,e);return r!==Rc&&(n.state=null),r},aF=n=>eE(n,sF);let Ib=!0,C0,R0;const lF=n=>{if(Ib){C0=new Int32Array(512),R0=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Wf(HS,n.lens,0,288,C0,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Wf(WS,n.lens,0,32,R0,0,n.work,{bits:5}),Ib=!1}n.lencode=C0,n.lenbits=9,n.distcode=R0,n.distbits=5},tE=(n,e,t,r)=>{let i;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(t-r,t-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(t-r,t),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},uF=(n,e)=>{let t,r,i,s,l,u,c,f,p,w,_,v,C,I,N=0,L,K,W,G,ie,pe,q,R;const k=new Uint8Array(4);let U,P;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Fc(n)||!n.output||!n.input&&n.avail_in!==0)return Wo;t=n.state,t.mode===Pl&&(t.mode=P0),l=n.next_out,i=n.output,c=n.avail_out,s=n.next_in,r=n.input,u=n.avail_in,f=t.hold,p=t.bits,w=u,_=c,R=Rc;e:for(;;)switch(t.mode){case sg:if(t.wrap===0){t.mode=P0;break}for(;p<16;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,k[0]=f&255,k[1]=f>>>8&255,t.check=Va(t.check,k,2,0),f=0,p=0,t.mode=sb;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){n.msg="incorrect header check",t.mode=Ar;break}if((f&15)!==ib){n.msg="unknown compression method",t.mode=Ar;break}if(f>>>=4,p-=4,q=(f&15)+8,t.wbits===0&&(t.wbits=q),q>15||q>t.wbits){n.msg="invalid window size",t.mode=Ar;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=f&512?db:Pl,f=0,p=0;break;case sb:for(;p<16;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(t.flags=f,(t.flags&255)!==ib){n.msg="unknown compression method",t.mode=Ar;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Ar;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(k[0]=f&255,k[1]=f>>>8&255,t.check=Va(t.check,k,2,0)),f=0,p=0,t.mode=ob;case ob:for(;p<32;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(k[0]=f&255,k[1]=f>>>8&255,k[2]=f>>>16&255,k[3]=f>>>24&255,t.check=Va(t.check,k,4,0)),f=0,p=0,t.mode=ab;case ab:for(;p<16;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(k[0]=f&255,k[1]=f>>>8&255,t.check=Va(t.check,k,2,0)),f=0,p=0,t.mode=lb;case lb:if(t.flags&1024){for(;p<16;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(k[0]=f&255,k[1]=f>>>8&255,t.check=Va(t.check,k,2,0)),f=0,p=0}else t.head&&(t.head.extra=null);t.mode=ub;case ub:if(t.flags&1024&&(v=t.length,v>u&&(v=u),v&&(t.head&&(q=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(s,s+v),q)),t.flags&512&&t.wrap&4&&(t.check=Va(t.check,r,v,s)),u-=v,s+=v,t.length-=v),t.length))break e;t.length=0,t.mode=cb;case cb:if(t.flags&2048){if(u===0)break e;v=0;do q=r[s+v++],t.head&&q&&t.length<65536&&(t.head.name+=String.fromCharCode(q));while(q&&v<u);if(t.flags&512&&t.wrap&4&&(t.check=Va(t.check,r,v,s)),u-=v,s+=v,q)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=hb;case hb:if(t.flags&4096){if(u===0)break e;v=0;do q=r[s+v++],t.head&&q&&t.length<65536&&(t.head.comment+=String.fromCharCode(q));while(q&&v<u);if(t.flags&512&&t.wrap&4&&(t.check=Va(t.check,r,v,s)),u-=v,s+=v,q)break e}else t.head&&(t.head.comment=null);t.mode=fb;case fb:if(t.flags&512){for(;p<16;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(t.wrap&4&&f!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Ar;break}f=0,p=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Pl;break;case db:for(;p<32;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}n.adler=t.check=Tb(f),f=0,p=0,t.mode=Tm;case Tm:if(t.havedict===0)return n.next_out=l,n.avail_out=c,n.next_in=s,n.avail_in=u,t.hold=f,t.bits=p,eF;n.adler=t.check=1,t.mode=Pl;case Pl:if(e===Q9||e===_p)break e;case P0:if(t.last){f>>>=p&7,p-=p&7,t.mode=k0;break}for(;p<3;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}switch(t.last=f&1,f>>>=1,p-=1,f&3){case 0:t.mode=pb;break;case 1:if(lF(t),t.mode=bp,e===_p){f>>>=2,p-=2;break e}break;case 2:t.mode=gb;break;case 3:n.msg="invalid block type",t.mode=Ar}f>>>=2,p-=2;break;case pb:for(f>>>=p&7,p-=p&7;p<32;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if((f&65535)!==(f>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Ar;break}if(t.length=f&65535,f=0,p=0,t.mode=N0,e===_p)break e;case N0:t.mode=mb;case mb:if(v=t.length,v){if(v>u&&(v=u),v>c&&(v=c),v===0)break e;i.set(r.subarray(s,s+v),l),u-=v,s+=v,c-=v,l+=v,t.length-=v;break}t.mode=Pl;break;case gb:for(;p<14;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(t.nlen=(f&31)+257,f>>>=5,p-=5,t.ndist=(f&31)+1,f>>>=5,p-=5,t.ncode=(f&15)+4,f>>>=4,p-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Ar;break}t.have=0,t.mode=yb;case yb:for(;t.have<t.ncode;){for(;p<3;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}t.lens[F[t.have++]]=f&7,f>>>=3,p-=3}for(;t.have<19;)t.lens[F[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,U={bits:t.lenbits},R=Wf(X9,t.lens,0,19,t.lencode,0,t.work,U),t.lenbits=U.bits,R){n.msg="invalid code lengths set",t.mode=Ar;break}t.have=0,t.mode=vb;case vb:for(;t.have<t.nlen+t.ndist;){for(;N=t.lencode[f&(1<<t.lenbits)-1],L=N>>>24,K=N>>>16&255,W=N&65535,!(L<=p);){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(W<16)f>>>=L,p-=L,t.lens[t.have++]=W;else{if(W===16){for(P=L+2;p<P;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(f>>>=L,p-=L,t.have===0){n.msg="invalid bit length repeat",t.mode=Ar;break}q=t.lens[t.have-1],v=3+(f&3),f>>>=2,p-=2}else if(W===17){for(P=L+3;p<P;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}f>>>=L,p-=L,q=0,v=3+(f&7),f>>>=3,p-=3}else{for(P=L+7;p<P;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}f>>>=L,p-=L,q=0,v=11+(f&127),f>>>=7,p-=7}if(t.have+v>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Ar;break}for(;v--;)t.lens[t.have++]=q}}if(t.mode===Ar)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Ar;break}if(t.lenbits=9,U={bits:t.lenbits},R=Wf(HS,t.lens,0,t.nlen,t.lencode,0,t.work,U),t.lenbits=U.bits,R){n.msg="invalid literal/lengths set",t.mode=Ar;break}if(t.distbits=6,t.distcode=t.distdyn,U={bits:t.distbits},R=Wf(WS,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,U),t.distbits=U.bits,R){n.msg="invalid distances set",t.mode=Ar;break}if(t.mode=bp,e===_p)break e;case bp:t.mode=xp;case xp:if(u>=6&&c>=258){n.next_out=l,n.avail_out=c,n.next_in=s,n.avail_in=u,t.hold=f,t.bits=p,H9(n,_),l=n.next_out,i=n.output,c=n.avail_out,s=n.next_in,r=n.input,u=n.avail_in,f=t.hold,p=t.bits,t.mode===Pl&&(t.back=-1);break}for(t.back=0;N=t.lencode[f&(1<<t.lenbits)-1],L=N>>>24,K=N>>>16&255,W=N&65535,!(L<=p);){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(K&&(K&240)===0){for(G=L,ie=K,pe=W;N=t.lencode[pe+((f&(1<<G+ie)-1)>>G)],L=N>>>24,K=N>>>16&255,W=N&65535,!(G+L<=p);){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}f>>>=G,p-=G,t.back+=G}if(f>>>=L,p-=L,t.back+=L,t.length=W,K===0){t.mode=Ab;break}if(K&32){t.back=-1,t.mode=Pl;break}if(K&64){n.msg="invalid literal/length code",t.mode=Ar;break}t.extra=K&15,t.mode=wb;case wb:if(t.extra){for(P=t.extra;p<P;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,p-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=_b;case _b:for(;N=t.distcode[f&(1<<t.distbits)-1],L=N>>>24,K=N>>>16&255,W=N&65535,!(L<=p);){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if((K&240)===0){for(G=L,ie=K,pe=W;N=t.distcode[pe+((f&(1<<G+ie)-1)>>G)],L=N>>>24,K=N>>>16&255,W=N&65535,!(G+L<=p);){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}f>>>=G,p-=G,t.back+=G}if(f>>>=L,p-=L,t.back+=L,K&64){n.msg="invalid distance code",t.mode=Ar;break}t.offset=W,t.extra=K&15,t.mode=bb;case bb:if(t.extra){for(P=t.extra;p<P;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,p-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Ar;break}t.mode=xb;case xb:if(c===0)break e;if(v=_-c,t.offset>v){if(v=t.offset-v,v>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Ar;break}v>t.wnext?(v-=t.wnext,C=t.wsize-v):C=t.wnext-v,v>t.length&&(v=t.length),I=t.window}else I=i,C=l-t.offset,v=t.length;v>c&&(v=c),c-=v,t.length-=v;do i[l++]=I[C++];while(--v);t.length===0&&(t.mode=xp);break;case Ab:if(c===0)break e;i[l++]=t.length,c--,t.mode=xp;break;case k0:if(t.wrap){for(;p<32;){if(u===0)break e;u--,f|=r[s++]<<p,p+=8}if(_-=c,n.total_out+=_,t.total+=_,t.wrap&4&&_&&(n.adler=t.check=t.flags?Va(t.check,i,_,l-_):q1(t.check,i,_,l-_)),_=c,t.wrap&4&&(t.flags?f:Tb(f))!==t.check){n.msg="incorrect data check",t.mode=Ar;break}f=0,p=0}t.mode=Sb;case Sb:if(t.wrap&&t.flags){for(;p<32;){if(u===0)break e;u--,f+=r[s++]<<p,p+=8}if(t.wrap&4&&f!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Ar;break}f=0,p=0}t.mode=Eb;case Eb:R=Z9;break e;case Ar:R=GS;break e;case YS:return KS;case JS:default:return Wo}return n.next_out=l,n.avail_out=c,n.next_in=s,n.avail_in=u,t.hold=f,t.bits=p,(t.wsize||_!==n.avail_out&&t.mode<Ar&&(t.mode<k0||e!==rb))&&tE(n,n.output,n.next_out,_-n.avail_out),w-=n.avail_in,_-=n.avail_out,n.total_in+=w,n.total_out+=_,t.total+=_,t.wrap&4&&_&&(n.adler=t.check=t.flags?Va(t.check,i,_,n.next_out-_):q1(t.check,i,_,n.next_out-_)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Pl?128:0)+(t.mode===bp||t.mode===N0?256:0),(w===0&&_===0||e===rb)&&R===Rc&&(R=tF),R},cF=n=>{if(Fc(n))return Wo;let e=n.state;return e.window&&(e.window=null),n.state=null,Rc},hF=(n,e)=>{if(Fc(n))return Wo;const t=n.state;return(t.wrap&2)===0?Wo:(t.head=e,e.done=!1,Rc)},fF=(n,e)=>{const t=e.length;let r,i,s;return Fc(n)||(r=n.state,r.wrap!==0&&r.mode!==Tm)?Wo:r.mode===Tm&&(i=1,i=q1(i,e,t,0),i!==r.check)?GS:(s=tE(n,e,t,t),s?(r.mode=YS,KS):(r.havedict=1,Rc))};var dF=QS,pF=ZS,mF=XS,gF=aF,yF=eE,vF=uF,wF=cF,_F=hF,bF=fF,xF="pako inflate (from Nodeca project)",kl={inflateReset:dF,inflateReset2:pF,inflateResetKeep:mF,inflateInit:gF,inflateInit2:yF,inflate:vF,inflateEnd:wF,inflateGetHeader:_F,inflateSetDictionary:bF,inflateInfo:xF};function AF(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var SF=AF;const nE=Object.prototype.toString,{Z_NO_FLUSH:EF,Z_FINISH:TF,Z_OK:ud,Z_STREAM_END:L0,Z_NEED_DICT:D0,Z_STREAM_ERROR:IF,Z_DATA_ERROR:Pb,Z_MEM_ERROR:PF}=zS;function Id(n){this.options=qS.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new q9,this.strm.avail_out=0;let t=kl.inflateInit2(this.strm,e.windowBits);if(t!==ud)throw new Error($1[t]);if(this.header=new SF,kl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=H1.string2buf(e.dictionary):nE.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=kl.inflateSetDictionary(this.strm,e.dictionary),t!==ud)))throw new Error($1[t])}Id.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,l,u;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?TF:EF,nE.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),s=kl.inflate(t,l),s===D0&&i&&(s=kl.inflateSetDictionary(t,i),s===ud?s=kl.inflate(t,l):s===Pb&&(s=D0));t.avail_in>0&&s===L0&&t.state.wrap>0&&n[t.next_in]!==0;)kl.inflateReset(t),s=kl.inflate(t,l);switch(s){case IF:case Pb:case D0:case PF:return this.onEnd(s),this.ended=!0,!1}if(u=t.avail_out,t.next_out&&(t.avail_out===0||s===L0))if(this.options.to==="string"){let c=H1.utf8border(t.output,t.next_out),f=t.next_out-c,p=H1.buf2string(t.output,c);t.next_out=f,t.avail_out=r-f,f&&t.output.set(t.output.subarray(c,c+f),0),this.onData(p)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===ud&&u===0)){if(s===L0)return s=kl.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Id.prototype.onData=function(n){this.chunks.push(n)};Id.prototype.onEnd=function(n){n===ud&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=qS.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function NF(n,e){const t=new Id(e);if(t.push(n),t.err)throw t.msg||$1[t.err];return t.result}var kF=Id,CF=NF,RF={Inflate:kF,inflate:CF};const{Inflate:LF,inflate:DF}=RF;var Nb=LF,OF=DF;const rE=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;rE[n]=e}const kb=4294967295;function MF(n,e,t){let r=n;for(let i=0;i<t;i++)r=rE[(r^e[i])&255]^r>>>8;return r}function FF(n,e){return(MF(kb,n,e)^kb)>>>0}function Cb(n,e,t){const r=n.readUint32(),i=FF(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function iE(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function sE(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function oE(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function aE(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=n[s]+(t[s]>>1)&255;for(;s<r;s++)e[s]=n[s]+(e[s-i]+t[s]>>1)&255}}function lE(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=n[s]+t[s]&255;for(;s<r;s++)e[s]=n[s]+jF(e[s-i],t[s],t[s-i])&255}}function jF(n,e,t){const r=n+e-t,i=Math.abs(r-n),s=Math.abs(r-e),l=Math.abs(r-t);return i<=s&&i<=l?n:s<=l?e:t}function VF(n,e,t,r,i,s){switch(n){case 0:iE(e,t,i);break;case 1:sE(e,t,i,s);break;case 2:oE(e,t,r,i);break;case 3:aE(e,t,r,i,s);break;case 4:lE(e,t,r,i,s);break;default:throw new Error(`Unsupported filter: ${n}`)}}const UF=new Uint16Array([255]),BF=new Uint8Array(UF.buffer),zF=BF[0]===255;function qF(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(s/8)*i,c=new Uint8Array(r*t*u);let f=0;for(let p=0;p<7;p++){const w=l[p],_=Math.ceil((t-w.x)/w.xStep),v=Math.ceil((r-w.y)/w.yStep);if(_<=0||v<=0)continue;const C=_*u,I=new Uint8Array(C);for(let N=0;N<v;N++){const L=e[f++],K=e.subarray(f,f+C);f+=C;const W=new Uint8Array(C);VF(L,K,W,I,C,u),I.set(W);for(let G=0;G<_;G++){const ie=w.x+G*w.xStep,pe=w.y+N*w.yStep;if(!(ie>=t||pe>=r))for(let q=0;q<u;q++)c[(pe*t+ie)*u+q]=W[G*u+q]}}}if(s===16){const p=new Uint16Array(c.buffer);if(zF)for(let w=0;w<p.length;w++)p[w]=$F(p[w]);return p}else return c}function $F(n){return(n&255)<<8|n>>8&255}const HF=new Uint16Array([255]),WF=new Uint8Array(HF.buffer),GF=WF[0]===255,KF=new Uint8Array(0);function Rb(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,l=Math.ceil(s/8)*i,u=Math.ceil(s/8*i*t),c=new Uint8Array(r*u);let f=KF,p=0,w,_;for(let v=0;v<r;v++){switch(w=e.subarray(p+1,p+1+u),_=c.subarray(v*u,(v+1)*u),e[p]){case 0:iE(w,_,u);break;case 1:sE(w,_,u,l);break;case 2:oE(w,_,f,u);break;case 3:aE(w,_,f,u,l);break;case 4:lE(w,_,f,u,l);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}f=_,p+=u+1}if(s===16){const v=new Uint16Array(c.buffer);if(GF)for(let C=0;C<v.length;C++)v[C]=YF(v[C]);return v}else return c}function YF(n){return(n&255)<<8|n>>8&255}const qp=Uint8Array.of(137,80,78,71,13,10,26,10);function Lb(n){if(!JF(n.readBytes(qp.length)))throw new Error("wrong PNG signature")}function JF(n){if(n.length<qp.length)return!1;for(let e=0;e<qp.length;e++)if(n[e]!==qp[e])return!1;return!0}const XF="tEXt",QF=0,uE=new TextDecoder("latin1");function ZF(n){if(tj(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const ej=/^[\u0000-\u00FF]*$/;function tj(n){if(!ej.test(n))throw new Error("invalid latin1 text")}function nj(n,e,t){const r=cE(e);n[r]=rj(e,t-r.length-1)}function cE(n){for(n.mark();n.readByte()!==QF;);const e=n.offset;n.reset();const t=uE.decode(n.readBytes(e-n.offset-1));return n.skip(1),ZF(t),t}function rj(n,e){return uE.decode(n.readBytes(e))}const fo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},O0={UNKNOWN:-1,DEFLATE:0},Db={UNKNOWN:-1,ADAPTIVE:0},M0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ap={NONE:0,BACKGROUND:1,PREVIOUS:2},F0={SOURCE:0,OVER:1};class ij extends O2{constructor(t,r={}){super(t);Kn(this,"_checkCrc");Kn(this,"_inflator");Kn(this,"_png");Kn(this,"_apng");Kn(this,"_end");Kn(this,"_hasPalette");Kn(this,"_palette");Kn(this,"_hasTransparency");Kn(this,"_transparency");Kn(this,"_compressionMethod");Kn(this,"_filterMethod");Kn(this,"_interlaceMethod");Kn(this,"_colorType");Kn(this,"_isAnimated");Kn(this,"_numberOfFrames");Kn(this,"_numberOfPlays");Kn(this,"_frames");Kn(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new Nb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=O0.UNKNOWN,this._filterMethod=Db.UNKNOWN,this._interlaceMethod=M0.UNKNOWN,this._colorType=fo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Lb(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(Lb(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case XF:nj(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Cb(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Cb(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=sj(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case fo.GREYSCALE:i=1;break;case fo.TRUECOLOUR:i=3;break;case fo.INDEXED_COLOUR:i=1;break;case fo.GREYSCALE_ALPHA:i=2;break;case fo.TRUECOLOUR_ALPHA:i=4;break;case fo.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==O0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case fo.GREYSCALE:case fo.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case fo.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case fo.UNKNOWN:case fo.GREYSCALE_ALPHA:case fo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=cE(this),i=this.readUint8();if(i!==O0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:OF(s)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=Rb({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,i){switch(t.disposeOp){case Ap.NONE:break;case Ap.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let l=0;l<this._png.width;l++){const u=(s*t.width+l)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[u+c]=0}break;case Ap.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const i=1<<this._png.depth,s=(l,u)=>{const c=((l+r.yOffset)*this._png.width+r.xOffset+u)*this._png.channels,f=(l*r.width+u)*this._png.channels;return{index:c,frameIndex:f}};switch(r.blendOp){case F0.SOURCE:for(let l=0;l<r.height;l++)for(let u=0;u<r.width;u++){const{index:c,frameIndex:f}=s(l,u);for(let p=0;p<this._png.channels;p++)t.data[c+p]=r.data[f+p]}break;case F0.OVER:for(let l=0;l<r.height;l++)for(let u=0;u<r.width;u++){const{index:c,frameIndex:f}=s(l,u);for(let p=0;p<this._png.channels;p++){const w=r.data[f+this._png.channels-1]/i,_=p%(this._png.channels-1)===0?1:r.data[f+p],v=Math.floor(w*_+(1-w)*t.data[c+p]);t.data[c+p]+=v}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==Db.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===M0.NO_INTERLACE)this._png.data=Rb({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===M0.ADAM7)this._png.data=qF({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ap.NONE,blendOp:F0.SOURCE,data:t}),this._inflator=new Nb,this._writingDataChunks=!1}}function sj(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Ob;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Ob||(Ob={}));function oj(n,e){return new ij(n,e).decode()}var Wt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function j0(){Wt.console&&typeof Wt.console.log=="function"&&Wt.console.log.apply(Wt.console,arguments)}var er={log:j0,warn:function(n){Wt.console&&(typeof Wt.console.warn=="function"?Wt.console.warn.apply(Wt.console,arguments):j0.call(null,arguments))},error:function(n){Wt.console&&(typeof Wt.console.error=="function"?Wt.console.error.apply(Wt.console,arguments):j0(n))}};function V0(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){vc(r.response,e,t)},r.onerror=function(){er.error("could not download file")},r.send()}function Mb(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Sp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var vc=Wt.saveAs||((typeof window>"u"?"undefined":Yn(window))!=="object"||window!==Wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Wt.URL||Wt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?Mb(i.href)?V0(n,e,t):Sp(i,i.target="_blank"):Sp(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Sp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Mb(n))V0(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Sp(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Yn(s)!=="object"&&(er.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return V0(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(Wt.HTMLElement)||Wt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&s)&&(typeof FileReader>"u"?"undefined":Yn(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var p=u.result;p=l?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},u.readAsDataURL(n)}else{var c=Wt.URL||Wt.webkitURL,f=c.createObjectURL(n);r?r.location=f:location.href=f,r=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function hE(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,l=i.exec(n);l&&(e=s(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+u+c+f}}var $p=Wt.atob.bind(Wt),Fb=Wt.btoa.bind(Wt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function U0(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=ms(t,r,i,s,e[0],7,-680876936),s=ms(s,t,r,i,e[1],12,-389564586),i=ms(i,s,t,r,e[2],17,606105819),r=ms(r,i,s,t,e[3],22,-1044525330),t=ms(t,r,i,s,e[4],7,-176418897),s=ms(s,t,r,i,e[5],12,1200080426),i=ms(i,s,t,r,e[6],17,-1473231341),r=ms(r,i,s,t,e[7],22,-45705983),t=ms(t,r,i,s,e[8],7,1770035416),s=ms(s,t,r,i,e[9],12,-1958414417),i=ms(i,s,t,r,e[10],17,-42063),r=ms(r,i,s,t,e[11],22,-1990404162),t=ms(t,r,i,s,e[12],7,1804603682),s=ms(s,t,r,i,e[13],12,-40341101),i=ms(i,s,t,r,e[14],17,-1502002290),t=gs(t,r=ms(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=gs(s,t,r,i,e[6],9,-1069501632),i=gs(i,s,t,r,e[11],14,643717713),r=gs(r,i,s,t,e[0],20,-373897302),t=gs(t,r,i,s,e[5],5,-701558691),s=gs(s,t,r,i,e[10],9,38016083),i=gs(i,s,t,r,e[15],14,-660478335),r=gs(r,i,s,t,e[4],20,-405537848),t=gs(t,r,i,s,e[9],5,568446438),s=gs(s,t,r,i,e[14],9,-1019803690),i=gs(i,s,t,r,e[3],14,-187363961),r=gs(r,i,s,t,e[8],20,1163531501),t=gs(t,r,i,s,e[13],5,-1444681467),s=gs(s,t,r,i,e[2],9,-51403784),i=gs(i,s,t,r,e[7],14,1735328473),t=ys(t,r=gs(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=ys(s,t,r,i,e[8],11,-2022574463),i=ys(i,s,t,r,e[11],16,1839030562),r=ys(r,i,s,t,e[14],23,-35309556),t=ys(t,r,i,s,e[1],4,-1530992060),s=ys(s,t,r,i,e[4],11,1272893353),i=ys(i,s,t,r,e[7],16,-155497632),r=ys(r,i,s,t,e[10],23,-1094730640),t=ys(t,r,i,s,e[13],4,681279174),s=ys(s,t,r,i,e[0],11,-358537222),i=ys(i,s,t,r,e[3],16,-722521979),r=ys(r,i,s,t,e[6],23,76029189),t=ys(t,r,i,s,e[9],4,-640364487),s=ys(s,t,r,i,e[12],11,-421815835),i=ys(i,s,t,r,e[15],16,530742520),t=vs(t,r=ys(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=vs(s,t,r,i,e[7],10,1126891415),i=vs(i,s,t,r,e[14],15,-1416354905),r=vs(r,i,s,t,e[5],21,-57434055),t=vs(t,r,i,s,e[12],6,1700485571),s=vs(s,t,r,i,e[3],10,-1894986606),i=vs(i,s,t,r,e[10],15,-1051523),r=vs(r,i,s,t,e[1],21,-2054922799),t=vs(t,r,i,s,e[8],6,1873313359),s=vs(s,t,r,i,e[15],10,-30611744),i=vs(i,s,t,r,e[6],15,-1560198380),r=vs(r,i,s,t,e[13],21,1309151649),t=vs(t,r,i,s,e[4],6,-145523070),s=vs(s,t,r,i,e[11],10,-1120210379),i=vs(i,s,t,r,e[2],15,718787259),r=vs(r,i,s,t,e[9],21,-343485551),n[0]=Eu(t,n[0]),n[1]=Eu(r,n[1]),n[2]=Eu(i,n[2]),n[3]=Eu(s,n[3])}function og(n,e,t,r,i,s){return e=Eu(Eu(e,n),Eu(r,s)),Eu(e<<i|e>>>32-i,t)}function ms(n,e,t,r,i,s,l){return og(e&t|~e&r,n,e,i,s,l)}function gs(n,e,t,r,i,s,l){return og(e&r|t&~r,n,e,i,s,l)}function ys(n,e,t,r,i,s,l){return og(e^t^r,n,e,i,s,l)}function vs(n,e,t,r,i,s,l){return og(t^(e|~r),n,e,i,s,l)}function fE(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)U0(r,aj(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(U0(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,U0(r,i),r}function aj(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var jb="0123456789abcdef".split("");function lj(n){for(var e="",t=0;t<4;t++)e+=jb[n>>8*t+4&15]+jb[n>>8*t&15];return e}function uj(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function W1(n){return fE(n).map(uj).join("")}var cj=(function(n){for(var e=0;e<n.length;e++)n[e]=lj(n[e]);return n.join("")})(fE("hello"))!="5d41402abc4b2a76b9719d911017c592";function Eu(n,e){if(cj){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function G1(n,e){var t,r,i,s;if(n!==t){for(var l=(i=n,s=1+(256/n.length|0),new Array(s+1).join(i)),u=[],c=0;c<256;c++)u[c]=c;var f=0;for(c=0;c<256;c++){var p=u[c];f=(f+p+l.charCodeAt(c))%256,u[c]=u[f],u[f]=p}t=n,r=u}else u=r;var w=e.length,_=0,v=0,C="";for(c=0;c<w;c++)v=(v+(p=u[_=(_+1)%256]))%256,u[_]=u[v],u[v]=p,l=u[(u[_]+u[v])%256],C+=String.fromCharCode(e.charCodeAt(c)^l);return C}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Vb={print:4,modify:8,copy:16,"annot-forms":32};function dh(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(u){if(Vb.perm!==void 0)throw new Error("Invalid permission: "+u);i+=Vb[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,l),this.P=-(1+(255^i)),this.encryptionKey=W1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=G1(this.encryptionKey,this.padding)}function ph(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function Ub(n){if(Yn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var l=e[t][s];try{l[0].apply(n,r)}catch(u){Wt.console&&er.error("jsPDF PubSub Error",u.message,u)}l[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Im(n){if(!(this instanceof Im))return new Im(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function dE(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function wc(n,e,t,r,i){if(!(this instanceof wc))return new wc(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,dE.call(this,r,i)}function _h(n,e,t,r,i){if(!(this instanceof _h))return new _h(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,dE.call(this,r,i)}function At(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],l=[],u=1,c=16,f="S",p=null;Yn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),f=n.defaultPathOperation||"S"),l=n.filters||(s===!0?["FlateEncode"]:l),r=r||"mm",t=(""+(t||"P")).toLowerCase();var w=n.putOnlyUsedFonts||!1,_={},v={internal:{},__private__:{}};v.__private__.PubSub=Ub;var C="1.3",I=v.__private__.getPdfVersion=function(){return C};v.__private__.setPdfVersion=function(b){C=b};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return N};var L=v.__private__.getPageFormat=function(b){return N[b]};i=i||"a4";var K="compat",W="advanced",G=K;function ie(){this.saveGraphicsState(),se(new It(Et,0,0,-Et,0,_i()*Et).toString()+" cm"),this.setFontSize(this.getFontSize()/Et),f="n",G=W}function pe(){this.restoreGraphicsState(),f="S",G=K}var q=v.__private__.combineFontStyleAndFontWeight=function(b,j){if(b=="bold"&&j=="normal"||b=="bold"&&j==400||b=="normal"&&j=="italic"||b=="bold"&&j=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return j&&(b=j==400||j==="normal"?b==="italic"?"italic":"normal":j!=700&&j!=="bold"||b!=="normal"?(j==700?"bold":j)+""+b:"bold"),b};v.advancedAPI=function(b){var j=G===K;return j&&ie.call(this),typeof b!="function"||(b(this),j&&pe.call(this)),this},v.compatAPI=function(b){var j=G===W;return j&&pe.call(this),typeof b!="function"||(b(this),j&&ie.call(this)),this},v.isAdvancedAPI=function(){return G===W};var R,k=function(b){if(G!==W)throw new Error(b+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=v.roundToPrecision=v.__private__.roundToPrecision=function(b,j){var te=e||j;if(isNaN(b)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return b.toFixed(te).replace(/0+$/,"")};R=v.hpf=v.__private__.hpf=typeof c=="number"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return U(b,c)}:c==="smart"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return U(b,b>-1&&b<1?16:5)}:function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return U(b,16)};var P=v.f2=v.__private__.f2=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f2");return U(b,2)},F=v.__private__.f3=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f3");return U(b,3)},O=v.scale=v.__private__.scale=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.scale");return G===K?b*Et:G===W?b:void 0},ae=function(b){return O((function(j){return G===K?_i()-j:G===W?j:void 0})(b))};v.__private__.setPrecision=v.setPrecision=function(b){typeof parseInt(b,10)=="number"&&(e=parseInt(b,10))};var Pe,Le="00000000000000000000000000000000",xe=v.__private__.getFileId=function(){return Le},le=v.__private__.setFileId=function(b){return Le=b!==void 0&&/^[a-fA-F0-9]{32}$/.test(b)?b.toUpperCase():Le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Ln=new dh(p.userPermissions,p.userPassword,p.ownerPassword,Le)),Le};v.setFileId=function(b){return le(b),this},v.getFileId=function(){return xe()};var _e=v.__private__.convertDateToPDFDate=function(b){var j=b.getTimezoneOffset(),te=j<0?"+":"-",ce=Math.floor(Math.abs(j/60)),we=Math.abs(j%60),Ue=[te,re(ce),"'",re(we),"'"].join("");return["D:",b.getFullYear(),re(b.getMonth()+1),re(b.getDate()),re(b.getHours()),re(b.getMinutes()),re(b.getSeconds()),Ue].join("")},ke=v.__private__.convertPDFDateToDate=function(b){var j=parseInt(b.substr(2,4),10),te=parseInt(b.substr(6,2),10)-1,ce=parseInt(b.substr(8,2),10),we=parseInt(b.substr(10,2),10),Ue=parseInt(b.substr(12,2),10),qe=parseInt(b.substr(14,2),10);return new Date(j,te,ce,we,Ue,qe,0)},ne=v.__private__.setCreationDate=function(b){var j;if(b===void 0&&(b=new Date),b instanceof Date)j=_e(b);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(b))throw new Error("Invalid argument passed to jsPDF.setCreationDate");j=b}return Pe=j},M=v.__private__.getCreationDate=function(b){var j=Pe;return b==="jsDate"&&(j=ke(Pe)),j};v.setCreationDate=function(b){return ne(b),this},v.getCreationDate=function(b){return M(b)};var Q,re=v.__private__.padd2=function(b){return("0"+parseInt(b)).slice(-2)},ue=v.__private__.padd2Hex=function(b){return("00"+(b=b.toString())).substr(b.length)},he=0,ve=[],Ee=[],Te=0,Fe=[],He=[],nt=!1,tt=Ee;v.__private__.setCustomOutputDestination=function(b){nt=!0,tt=b};var Me=function(b){nt||(tt=b)};v.__private__.resetCustomOutputDestination=function(){nt=!1,tt=Ee};var se=v.__private__.out=function(b){return b=b.toString(),Te+=b.length+1,tt.push(b),tt},nn=v.__private__.write=function(b){return se(arguments.length===1?b.toString():Array.prototype.join.call(arguments," "))},zt=v.__private__.getArrayBuffer=function(b){for(var j=b.length,te=new ArrayBuffer(j),ce=new Uint8Array(te);j--;)ce[j]=b.charCodeAt(j);return te},St=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return St};var Ye=n.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(b){return Ye=G===W?b/Et:b,this};var lt,Ze=v.__private__.getFontSize=v.getFontSize=function(){return G===K?Ye:Ye*Et},qt=n.R2L||!1;v.__private__.setR2L=v.setR2L=function(b){return qt=b,this},v.__private__.getR2L=v.getR2L=function(){return qt};var vt,cn=v.__private__.setZoomMode=function(b){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(b))lt=b;else if(isNaN(b)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(b)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+b+'" is not recognized.');lt=b}else lt=parseInt(b,10)};v.__private__.getZoomMode=function(){return lt};var jt,mt=v.__private__.setPageMode=function(b){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(b)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+b+'" is not recognized.');vt=b};v.__private__.getPageMode=function(){return vt};var $t=v.__private__.setLayoutMode=function(b){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(b)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+b+'" is not recognized.');jt=b};v.__private__.getLayoutMode=function(){return jt},v.__private__.setDisplayMode=v.setDisplayMode=function(b,j,te){return cn(b),$t(j),mt(te),this};var kt={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(b){if(Object.keys(kt).indexOf(b)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return kt[b]},v.__private__.getDocumentProperties=function(){return kt},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(b){for(var j in kt)kt.hasOwnProperty(j)&&b[j]&&(kt[j]=b[j]);return this},v.__private__.setDocumentProperty=function(b,j){if(Object.keys(kt).indexOf(b)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return kt[b]=j};var wt,Et,gt,bn,mn,ht={},Vt={},An=[],Tt={},en={},Mt={},Jn={},Nn=null,hn=0,Ct=[],rn=new Ub(v),Js=n.hotfixes||[],fr={},Ss={},ti=[],It=function b(j,te,ce,we,Ue,qe){if(!(this instanceof b))return new b(j,te,ce,we,Ue,qe);isNaN(j)&&(j=1),isNaN(te)&&(te=0),isNaN(ce)&&(ce=0),isNaN(we)&&(we=1),isNaN(Ue)&&(Ue=0),isNaN(qe)&&(qe=0),this._matrix=[j,te,ce,we,Ue,qe]};Object.defineProperty(It.prototype,"sx",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(It.prototype,"shy",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(It.prototype,"shx",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(It.prototype,"sy",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(It.prototype,"tx",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(It.prototype,"ty",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(It.prototype,"a",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(It.prototype,"b",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(It.prototype,"c",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(It.prototype,"d",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(It.prototype,"e",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(It.prototype,"f",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(It.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(It.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(It.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(It.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),It.prototype.join=function(b){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(b)},It.prototype.multiply=function(b){var j=b.sx*this.sx+b.shy*this.shx,te=b.sx*this.shy+b.shy*this.sy,ce=b.shx*this.sx+b.sy*this.shx,we=b.shx*this.shy+b.sy*this.sy,Ue=b.tx*this.sx+b.ty*this.shx+this.tx,qe=b.tx*this.shy+b.ty*this.sy+this.ty;return new It(j,te,ce,we,Ue,qe)},It.prototype.decompose=function(){var b=this.sx,j=this.shy,te=this.shx,ce=this.sy,we=this.tx,Ue=this.ty,qe=Math.sqrt(b*b+j*j),it=(b/=qe)*te+(j/=qe)*ce;te-=b*it,ce-=j*it;var ft=Math.sqrt(te*te+ce*ce);return it/=ft,b*(ce/=ft)<j*(te/=ft)&&(b=-b,j=-j,it=-it,qe=-qe),{scale:new It(qe,0,0,ft,0,0),translate:new It(1,0,0,1,we,Ue),rotate:new It(b,j,-j,b,0,0),skew:new It(1,0,it,1,0,0)}},It.prototype.toString=function(b){return this.join(" ")},It.prototype.inversed=function(){var b=this.sx,j=this.shy,te=this.shx,ce=this.sy,we=this.tx,Ue=this.ty,qe=1/(b*ce-j*te),it=ce*qe,ft=-j*qe,Nt=-te*qe,Ot=b*qe;return new It(it,ft,Nt,Ot,-it*we-Nt*Ue,-ft*we-Ot*Ue)},It.prototype.applyToPoint=function(b){var j=b.x*this.sx+b.y*this.shx+this.tx,te=b.x*this.shy+b.y*this.sy+this.ty;return new Ts(j,te)},It.prototype.applyToRectangle=function(b){var j=this.applyToPoint(b),te=this.applyToPoint(new Ts(b.x+b.w,b.y+b.h));return new Po(j.x,j.y,te.x-j.x,te.y-j.y)},It.prototype.clone=function(){var b=this.sx,j=this.shy,te=this.shx,ce=this.sy,we=this.tx,Ue=this.ty;return new It(b,j,te,ce,we,Ue)},v.Matrix=It;var Rn=v.matrixMult=function(b,j){return j.multiply(b)},Zi=new It(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=Zi;var dr=function(b,j){if(!en[b]){var te=(j instanceof wc?"Sh":"P")+(Object.keys(Tt).length+1).toString(10);j.id=te,en[b]=te,Tt[te]=j,rn.publish("addPattern",j)}};v.ShadingPattern=wc,v.TilingPattern=_h,v.addShadingPattern=function(b,j){return k("addShadingPattern()"),dr(b,j),this},v.beginTilingPattern=function(b){k("beginTilingPattern()"),vi(b.boundingBox[0],b.boundingBox[1],b.boundingBox[2]-b.boundingBox[0],b.boundingBox[3]-b.boundingBox[1],b.matrix)},v.endTilingPattern=function(b,j){k("endTilingPattern()"),j.stream=He[Q].join(`
`),dr(b,j),rn.publish("endTilingPattern",j),ti.pop().restore()};var ni,Mn=v.__private__.newObject=function(){var b=sr();return qn(b,!0),b},sr=v.__private__.newObjectDeferred=function(){return he++,ve[he]=function(){return Te},he},qn=function(b,j){return j=typeof j=="boolean"&&j,ve[b]=Te,j&&se(b+" 0 obj"),b},Xs=v.__private__.newAdditionalObject=function(){var b={objId:sr(),content:""};return Fe.push(b),b},_o=sr(),Pi=sr(),Es=v.__private__.decodeColorString=function(b){var j=b.split(" ");if(j.length!==2||j[1]!=="g"&&j[1]!=="G")j.length!==5||j[4]!=="k"&&j[4]!=="K"||(j=[(1-j[0])*(1-j[3]),(1-j[1])*(1-j[3]),(1-j[2])*(1-j[3]),"r"]);else{var te=parseFloat(j[0]);j=[te,te,te,"r"]}for(var ce="#",we=0;we<3;we++)ce+=("0"+Math.floor(255*parseFloat(j[we])).toString(16)).slice(-2);return ce},Er=v.__private__.encodeColorString=function(b){var j;typeof b=="string"&&(b={ch1:b});var te=b.ch1,ce=b.ch2,we=b.ch3,Ue=b.ch4,qe=b.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var it=new hE(te);if(it.ok)te=it.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var ft=parseInt(te.substr(1),16);te=ft>>16&255,ce=ft>>8&255,we=255&ft}if(ce===void 0||Ue===void 0&&te===ce&&ce===we)j=typeof te=="string"?te+" "+qe[0]:b.precision===2?P(te/255)+" "+qe[0]:F(te/255)+" "+qe[0];else if(Ue===void 0||Yn(Ue)==="object"){if(Ue&&!isNaN(Ue.a)&&Ue.a===0)return["1.","1.","1.",qe[1]].join(" ");j=typeof te=="string"?[te,ce,we,qe[1]].join(" "):b.precision===2?[P(te/255),P(ce/255),P(we/255),qe[1]].join(" "):[F(te/255),F(ce/255),F(we/255),qe[1]].join(" ")}else j=typeof te=="string"?[te,ce,we,Ue,qe[2]].join(" "):b.precision===2?[P(te),P(ce),P(we),P(Ue),qe[2]].join(" "):[F(te),F(ce),F(we),F(Ue),qe[2]].join(" ");return j},fi=v.__private__.getFilters=function(){return l},pr=v.__private__.putStream=function(b){var j=(b=b||{}).data||"",te=b.filters||fi(),ce=b.alreadyAppliedFilters||[],we=b.addLength1||!1,Ue=j.length,qe=b.objectId,it=function(gr){return gr};if(p!==null&&qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(it=Ln.encryptor(qe,0));var ft={};te===!0&&(te=["FlateEncode"]);var Nt=b.additionalKeyValues||[],Ot=(ft=At.API.processDataByFilters!==void 0?At.API.processDataByFilters(j,te):{data:j,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(ft.data.length!==0&&(Nt.push({key:"Length",value:ft.data.length}),we===!0&&Nt.push({key:"Length1",value:Ue})),Ot.length!=0)if(Ot.split("/").length-1==1)Nt.push({key:"Filter",value:Ot});else{Nt.push({key:"Filter",value:"["+Ot+"]"});for(var vn=0;vn<Nt.length;vn+=1)if(Nt[vn].key==="DecodeParms"){for(var Sn=[],ar=0;ar<ft.reverseChain.split("/").length-1;ar+=1)Sn.push("null");Sn.push(Nt[vn].value),Nt[vn].value="["+Sn.join(" ")+"]"}}se("<<");for(var Dn=0;Dn<Nt.length;Dn++)se("/"+Nt[Dn].key+" "+Nt[Dn].value);se(">>"),ft.data.length!==0&&(se("stream"),se(it(ft.data)),se("endstream"))},bo=v.__private__.putPage=function(b){var j=b.number,te=b.data,ce=b.objId,we=b.contentsObjId;qn(ce,!0),se("<</Type /Page"),se("/Parent "+b.rootDictionaryObjId+" 0 R"),se("/Resources "+b.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(R(b.mediaBox.bottomLeftX))+" "+parseFloat(R(b.mediaBox.bottomLeftY))+" "+R(b.mediaBox.topRightX)+" "+R(b.mediaBox.topRightY)+"]"),b.cropBox!==null&&se("/CropBox ["+R(b.cropBox.bottomLeftX)+" "+R(b.cropBox.bottomLeftY)+" "+R(b.cropBox.topRightX)+" "+R(b.cropBox.topRightY)+"]"),b.bleedBox!==null&&se("/BleedBox ["+R(b.bleedBox.bottomLeftX)+" "+R(b.bleedBox.bottomLeftY)+" "+R(b.bleedBox.topRightX)+" "+R(b.bleedBox.topRightY)+"]"),b.trimBox!==null&&se("/TrimBox ["+R(b.trimBox.bottomLeftX)+" "+R(b.trimBox.bottomLeftY)+" "+R(b.trimBox.topRightX)+" "+R(b.trimBox.topRightY)+"]"),b.artBox!==null&&se("/ArtBox ["+R(b.artBox.bottomLeftX)+" "+R(b.artBox.bottomLeftY)+" "+R(b.artBox.topRightX)+" "+R(b.artBox.topRightY)+"]"),typeof b.userUnit=="number"&&b.userUnit!==1&&se("/UserUnit "+b.userUnit),rn.publish("putPage",{objId:ce,pageContext:Ct[j],pageNumber:j,page:te}),se("/Contents "+we+" 0 R"),se(">>"),se("endobj");var Ue=te.join(`
`);return G===W&&(Ue+=`
Q`),qn(we,!0),pr({data:Ue,filters:fi(),objectId:we}),se("endobj"),ce},es=v.__private__.putPages=function(){var b,j,te=[];for(b=1;b<=hn;b++)Ct[b].objId=sr(),Ct[b].contentsObjId=sr();for(b=1;b<=hn;b++)te.push(bo({number:b,data:He[b],objId:Ct[b].objId,contentsObjId:Ct[b].contentsObjId,mediaBox:Ct[b].mediaBox,cropBox:Ct[b].cropBox,bleedBox:Ct[b].bleedBox,trimBox:Ct[b].trimBox,artBox:Ct[b].artBox,userUnit:Ct[b].userUnit,rootDictionaryObjId:_o,resourceDictionaryObjId:Pi}));qn(_o,!0),se("<</Type /Pages");var ce="/Kids [";for(j=0;j<hn;j++)ce+=te[j]+" 0 R ";se(ce+"]"),se("/Count "+hn),se(">>"),se("endobj"),rn.publish("postPutPages")},Ls=function(b){rn.publish("putFont",{font:b,out:se,newObject:Mn,putStream:pr}),b.isAlreadyPutted!==!0&&(b.objectNumber=Mn(),se("<<"),se("/Type /Font"),se("/BaseFont /"+ph(b.postScriptName)),se("/Subtype /Type1"),typeof b.encoding=="string"&&se("/Encoding /"+b.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},Qs=function(b){b.objectNumber=Mn();var j=[];j.push({key:"Type",value:"/XObject"}),j.push({key:"Subtype",value:"/Form"}),j.push({key:"BBox",value:"["+[R(b.x),R(b.y),R(b.x+b.width),R(b.y+b.height)].join(" ")+"]"}),j.push({key:"Matrix",value:"["+b.matrix.toString()+"]"});var te=b.pages[1].join(`
`);pr({data:te,additionalKeyValues:j,objectId:b.objectNumber}),se("endobj")},xo=function(b,j){j||(j=21);var te=Mn(),ce=(function(qe,it){var ft,Nt=[],Ot=1/(it-1);for(ft=0;ft<1;ft+=Ot)Nt.push(ft);if(Nt.push(1),qe[0].offset!=0){var vn={offset:0,color:qe[0].color};qe.unshift(vn)}if(qe[qe.length-1].offset!=1){var Sn={offset:1,color:qe[qe.length-1].color};qe.push(Sn)}for(var ar="",Dn=0,gr=0;gr<Nt.length;gr++){for(ft=Nt[gr];ft>qe[Dn+1].offset;)Dn++;var tr=qe[Dn].offset,yr=(ft-tr)/(qe[Dn+1].offset-tr),Xn=qe[Dn].color,bi=qe[Dn+1].color;ar+=ue(Math.round((1-yr)*Xn[0]+yr*bi[0]).toString(16))+ue(Math.round((1-yr)*Xn[1]+yr*bi[1]).toString(16))+ue(Math.round((1-yr)*Xn[2]+yr*bi[2]).toString(16))}return ar.trim()})(b.colors,j),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+j+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pr({data:ce,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),se("endobj"),b.objectNumber=Mn(),se("<< /ShadingType "+b.type),se("/ColorSpace /DeviceRGB");var Ue="/Coords ["+R(parseFloat(b.coords[0]))+" "+R(parseFloat(b.coords[1]))+" ";b.type===2?Ue+=R(parseFloat(b.coords[2]))+" "+R(parseFloat(b.coords[3])):Ue+=R(parseFloat(b.coords[2]))+" "+R(parseFloat(b.coords[3]))+" "+R(parseFloat(b.coords[4]))+" "+R(parseFloat(b.coords[5])),se(Ue+="]"),b.matrix&&se("/Matrix ["+b.matrix.toString()+"]"),se("/Function "+te+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},Go=function(b,j){var te=sr(),ce=Mn();j.push({resourcesOid:te,objectOid:ce}),b.objectNumber=ce;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+b.boundingBox.map(R).join(" ")+"]"}),we.push({key:"XStep",value:R(b.xStep)}),we.push({key:"YStep",value:R(b.yStep)}),we.push({key:"Resources",value:te+" 0 R"}),b.matrix&&we.push({key:"Matrix",value:"["+b.matrix.toString()+"]"}),pr({data:b.stream,additionalKeyValues:we,objectId:b.objectNumber}),se("endobj")},Gu=function(b){for(var j in b.objectNumber=Mn(),se("<<"),b)switch(j){case"opacity":se("/ca "+P(b[j]));break;case"stroke-opacity":se("/CA "+P(b[j]))}se(">>"),se("endobj")},kn=function(b){qn(b.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var j in se("/Font <<"),ht)ht.hasOwnProperty(j)&&(w===!1||w===!0&&_.hasOwnProperty(j))&&se("/"+j+" "+ht[j].objectNumber+" 0 R");se(">>")})(),(function(){if(Object.keys(Tt).length>0){for(var j in se("/Shading <<"),Tt)Tt.hasOwnProperty(j)&&Tt[j]instanceof wc&&Tt[j].objectNumber>=0&&se("/"+j+" "+Tt[j].objectNumber+" 0 R");rn.publish("putShadingPatternDict"),se(">>")}})(),(function(j){if(Object.keys(Tt).length>0){for(var te in se("/Pattern <<"),Tt)Tt.hasOwnProperty(te)&&Tt[te]instanceof v.TilingPattern&&Tt[te].objectNumber>=0&&Tt[te].objectNumber<j&&se("/"+te+" "+Tt[te].objectNumber+" 0 R");rn.publish("putTilingPatternDict"),se(">>")}})(b.objectOid),(function(){if(Object.keys(Mt).length>0){var j;for(j in se("/ExtGState <<"),Mt)Mt.hasOwnProperty(j)&&Mt[j].objectNumber>=0&&se("/"+j+" "+Mt[j].objectNumber+" 0 R");rn.publish("putGStateDict"),se(">>")}})(),(function(){for(var j in se("/XObject <<"),fr)fr.hasOwnProperty(j)&&fr[j].objectNumber>=0&&se("/"+j+" "+fr[j].objectNumber+" 0 R");rn.publish("putXobjectDict"),se(">>")})(),se(">>"),se("endobj")},sl=function(b){Vt[b.fontName]=Vt[b.fontName]||{},Vt[b.fontName][b.fontStyle]=b.id},Ao=function(b,j,te,ce,we){var Ue={id:"F"+(Object.keys(ht).length+1).toString(10),postScriptName:b,fontName:j,fontStyle:te,encoding:ce,isStandardFont:we||!1,metadata:{}};return rn.publish("addFont",{font:Ue,instance:this}),ht[Ue.id]=Ue,sl(Ue),Ue.id},$r=v.__private__.pdfEscape=v.pdfEscape=function(b,j){return(function(te,ce){var we,Ue,qe,it,ft,Nt,Ot,vn,Sn;if(qe=(ce=ce||{}).sourceEncoding||"Unicode",ft=ce.outputEncoding,(ce.autoencode||ft)&&ht[wt].metadata&&ht[wt].metadata[qe]&&ht[wt].metadata[qe].encoding&&(it=ht[wt].metadata[qe].encoding,!ft&&ht[wt].encoding&&(ft=ht[wt].encoding),!ft&&it.codePages&&(ft=it.codePages[0]),typeof ft=="string"&&(ft=it[ft]),ft)){for(Ot=!1,Nt=[],we=0,Ue=te.length;we<Ue;we++)(vn=ft[te.charCodeAt(we)])?Nt.push(String.fromCharCode(vn)):Nt.push(te[we]),Nt[we].charCodeAt(0)>>8&&(Ot=!0);te=Nt.join("")}for(we=te.length;Ot===void 0&&we!==0;)te.charCodeAt(we-1)>>8&&(Ot=!0),we--;if(!Ot)return te;for(Nt=ce.noBOM?[]:[254,255],we=0,Ue=te.length;we<Ue;we++){if((Sn=(vn=te.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+te+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Nt.push(Sn),Nt.push(vn-(Sn<<8))}return String.fromCharCode.apply(void 0,Nt)})(b,j).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ni=v.__private__.beginPage=function(b){He[++hn]=[],Ct[hn]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(b[0]),topRightY:Number(b[1])}},So(hn),Me(He[Q])},ba=function(b,j){var te,ce,we;switch(t=j||t,typeof b=="string"&&(te=L(b.toLowerCase()),Array.isArray(te)&&(ce=te[0],we=te[1])),Array.isArray(b)&&(ce=b[0]*Et,we=b[1]*Et),isNaN(ce)&&(ce=i[0],we=i[1]),(ce>14400||we>14400)&&(er.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),we=Math.min(14400,we)),i=[ce,we],t.substr(0,1)){case"l":we>ce&&(i=[we,ce]);break;case"p":ce>we&&(i=[we,ce])}Ni(i),rs(zi),se(Os),Fn!==0&&se(Fn+" J"),ul!==0&&se(ul+" j"),rn.publish("addPage",{pageNumber:hn})},xa=function(b){b>0&&b<=hn&&(He.splice(b,1),Ct.splice(b,1),hn--,Q>hn&&(Q=hn),this.setPage(Q))},So=function(b){b>0&&b<=hn&&(Q=b)},ki=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return He.length-1},ol=function(b,j,te){var ce,we=void 0;return te=te||{},b=b!==void 0?b:ht[wt].fontName,j=j!==void 0?j:ht[wt].fontStyle,ce=b.toLowerCase(),Vt[ce]!==void 0&&Vt[ce][j]!==void 0?we=Vt[ce][j]:Vt[b]!==void 0&&Vt[b][j]!==void 0?we=Vt[b][j]:te.disableWarning===!1&&er.warn("Unable to look up font label for font '"+b+"', '"+j+"'. Refer to getFontList() for available fonts."),we||te.noFallback||(we=Vt.times[j])==null&&(we=Vt.times.normal),we},Or=v.__private__.putInfo=function(){var b=Mn(),j=function(ce){return ce};for(var te in p!==null&&(j=Ln.encryptor(b,0)),se("<<"),se("/Producer ("+$r(j("jsPDF "+At.version))+")"),kt)kt.hasOwnProperty(te)&&kt[te]&&se("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+$r(j(kt[te]))+")");se("/CreationDate ("+$r(j(Pe))+")"),se(">>"),se("endobj")},al=v.__private__.putCatalog=function(b){var j=(b=b||{}).rootDictionaryObjId||_o;switch(Mn(),se("<<"),se("/Type /Catalog"),se("/Pages "+j+" 0 R"),lt||(lt="fullwidth"),lt){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+lt;te.substr(te.length-1)==="%"&&(lt=parseInt(lt)/100),typeof lt=="number"&&se("/OpenAction [3 0 R /XYZ null null "+P(lt)+"]")}switch(jt||(jt="continuous"),jt){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}vt&&se("/PageMode /"+vt),rn.publish("putCatalog"),se(">>"),se("endobj")},or=v.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(he+1)),se("/Root "+he+" 0 R"),se("/Info "+(he-1)+" 0 R"),p!==null&&se("/Encrypt "+Ln.oid+" 0 R"),se("/ID [ <"+Le+"> <"+Le+"> ]"),se(">>")},ll=v.__private__.putHeader=function(){se("%PDF-"+C),se("%")},Ko=v.__private__.putXRef=function(){var b="0000000000";se("xref"),se("0 "+(he+1)),se("0000000000 65535 f ");for(var j=1;j<=he;j++)typeof ve[j]=="function"?se((b+ve[j]()).slice(-10)+" 00000 n "):ve[j]!==void 0?se((b+ve[j]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},ts=v.__private__.buildDocument=function(){var b;he=0,Te=0,Ee=[],ve=[],Fe=[],_o=sr(),Pi=sr(),Me(Ee),rn.publish("buildDocument"),ll(),es(),(function(){rn.publish("putAdditionalObjects");for(var te=0;te<Fe.length;te++){var ce=Fe[te];qn(ce.objId,!0),se(ce.content),se("endobj")}rn.publish("postPutAdditionalObjects")})(),b=[],(function(){for(var te in ht)ht.hasOwnProperty(te)&&(w===!1||w===!0&&_.hasOwnProperty(te))&&Ls(ht[te])})(),(function(){var te;for(te in Mt)Mt.hasOwnProperty(te)&&Gu(Mt[te])})(),(function(){for(var te in fr)fr.hasOwnProperty(te)&&Qs(fr[te])})(),(function(te){var ce;for(ce in Tt)Tt.hasOwnProperty(ce)&&(Tt[ce]instanceof wc?xo(Tt[ce]):Tt[ce]instanceof _h&&Go(Tt[ce],te))})(b),rn.publish("putResources"),b.forEach(kn),kn({resourcesOid:Pi,objectOid:Number.MAX_SAFE_INTEGER}),rn.publish("postPutResources"),p!==null&&(Ln.oid=Mn(),se("<<"),se("/Filter /Standard"),se("/V "+Ln.v),se("/R "+Ln.r),se("/U <"+Ln.toHexString(Ln.U)+">"),se("/O <"+Ln.toHexString(Ln.O)+">"),se("/P "+Ln.P),se(">>"),se("endobj")),Or(),al();var j=Te;return Ko(),or(),se("startxref"),se(""+j),se("%%EOF"),Me(He[Q]),Ee.join(`
`)},ns=v.__private__.getBlob=function(b){return new Blob([zt(b)],{type:"application/pdf"})},di=v.output=v.__private__.output=(ni=function(b,j){switch(typeof(j=j||{})=="string"?j={filename:j}:j.filename=j.filename||"generated.pdf",b){case void 0:return ts();case"save":v.save(j.filename);break;case"arraybuffer":return zt(ts());case"blob":return ns(ts());case"bloburi":case"bloburl":if(Wt.URL!==void 0&&typeof Wt.URL.createObjectURL=="function")return Wt.URL&&Wt.URL.createObjectURL(ns(ts()))||void 0;er.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",ce=ts();try{te=Fb(ce)}catch{te=Fb(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+j.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ue=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';j.pdfObjectUrl&&(we=j.pdfObjectUrl,Ue="");var qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Ue+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(j)+");<\/script></body></html>",it=Wt.open();return it!==null&&it.document.write(qe),it}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(j.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+j.filename+'" width="500px" height="400px" /></body></html>',Nt=Wt.open();if(Nt!==null){Nt.document.write(ft);var Ot=this;Nt.document.documentElement.querySelector("#pdfViewer").onload=function(){Nt.document.title=j.filename,Nt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ot.output("bloburl"))}}return Nt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var vn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",j)+'"></iframe></body></html>',Sn=Wt.open();if(Sn!==null&&(Sn.document.write(vn),Sn.document.title=j.filename),Sn||typeof safari>"u")return Sn;break;case"datauri":case"dataurl":return Wt.document.location.href=this.output("datauristring",j);default:return null}},ni.foo=function(){try{return ni.apply(this,arguments)}catch(te){var b=te.stack||"";~b.indexOf(" at ")&&(b=b.split(" at ")[1]);var j="Error in function "+b.split(`
`)[0].split("<")[0]+": "+te.message;if(!Wt.console)throw new Error(j);Wt.console.error(j,te),Wt.alert&&alert(j)}},ni.foo.bar=ni,ni.foo),Yo=function(b){return Array.isArray(Js)===!0&&Js.indexOf(b)>-1};switch(r){case"pt":Et=1;break;case"mm":Et=72/25.4;break;case"cm":Et=72/2.54;break;case"in":Et=72;break;case"px":Et=Yo("px_scaling")==1?.75:96/72;break;case"pc":case"em":Et=12;break;case"ex":Et=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Et=r}var Ln=null;ne(),le();var pi=v.__private__.getPageInfo=v.getPageInfo=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[b].objId,pageNumber:b,pageContext:Ct[b]}},Jo=v.__private__.getPageInfoByObjId=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var j in Ct)if(Ct[j].objId===b)break;return pi(j)},Eo=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:Ct[Q].objId,pageNumber:Q,pageContext:Ct[Q]}};v.addPage=function(){return ba.apply(this,arguments),this},v.setPage=function(){return So.apply(this,arguments),Me.call(this,He[Q]),this},v.insertPage=function(b){return this.addPage(),this.movePage(Q,b),this},v.movePage=function(b,j){var te,ce;if(b>j){te=He[b],ce=Ct[b];for(var we=b;we>j;we--)He[we]=He[we-1],Ct[we]=Ct[we-1];He[j]=te,Ct[j]=ce,this.setPage(j)}else if(b<j){te=He[b],ce=Ct[b];for(var Ue=b;Ue<j;Ue++)He[Ue]=He[Ue+1],Ct[Ue]=Ct[Ue+1];He[j]=te,Ct[j]=ce,this.setPage(j)}return this},v.deletePage=function(){return xa.apply(this,arguments),this},v.__private__.text=v.text=function(b,j,te,ce,we){var Ue,qe,it,ft,Nt,Ot,vn,Sn,ar,Dn=(ce=ce||{}).scope||this;if(typeof b=="number"&&typeof j=="number"&&(typeof te=="string"||Array.isArray(te))){var gr=te;te=j,j=b,b=gr}if(arguments[3]instanceof It==0?(it=arguments[4],ft=arguments[5],Yn(vn=arguments[3])==="object"&&vn!==null||(typeof it=="string"&&(ft=it,it=null),typeof vn=="string"&&(ft=vn,vn=null),typeof vn=="number"&&(it=vn,vn=null),ce={flags:vn,angle:it,align:ft})):(k("The transform parameter of text() with a Matrix value"),ar=we),isNaN(j)||isNaN(te)||b==null)throw new Error("Invalid arguments passed to jsPDF.text");if(b.length===0)return Dn;var tr,yr="",Xn=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:gi,bi=Dn.internal.scaleFactor;function cl(En){return En=En.split("	").join(Array(ce.TabLen||9).join(" ")),$r(En,vn)}function qi(En){for(var Vn,wr=En.concat(),Fr=[],so=wr.length;so--;)typeof(Vn=wr.shift())=="string"?Fr.push(Vn):Array.isArray(En)&&(Vn.length===1||Vn[1]===void 0&&Vn[2]===void 0)?Fr.push(Vn[0]):Fr.push([Vn[0],Vn[1],Vn[2]]);return Fr}function m(En,Vn){var wr;if(typeof En=="string")wr=Vn(En)[0];else if(Array.isArray(En)){for(var Fr,so,Yu=En.concat(),Ql=[],na=Yu.length;na--;)typeof(Fr=Yu.shift())=="string"?Ql.push(Vn(Fr)[0]):Array.isArray(Fr)&&typeof Fr[0]=="string"&&(so=Vn(Fr[0],Fr[1],Fr[2]),Ql.push([so[0],so[1],so[2]]));wr=Ql}return wr}var S=!1,D=!0;if(typeof b=="string")S=!0;else if(Array.isArray(b)){var J=b.concat();qe=[];for(var be,Re=J.length;Re--;)(typeof(be=J.shift())!="string"||Array.isArray(be)&&typeof be[0]!="string")&&(D=!1);S=D}if(S===!1)throw new Error('Type of text must be string or Array. "'+b+'" is not recognized.');typeof b=="string"&&(b=b.match(/[\r?\n]/)?b.split(/\r\n|\r|\n/g):[b]);var Xe=Ye/Dn.internal.scaleFactor,gn=Xe*(Xn-1);switch(ce.baseline){case"bottom":te-=gn;break;case"top":te+=Xe-gn;break;case"hanging":te+=Xe-2*gn;break;case"middle":te+=Xe/2-gn}if((Ot=ce.maxWidth||0)>0&&(typeof b=="string"?b=Dn.splitTextToSize(b,Ot):Object.prototype.toString.call(b)==="[object Array]"&&(b=b.reduce(function(En,Vn){return En.concat(Dn.splitTextToSize(Vn,Ot))},[]))),Ue={text:b,x:j,y:te,options:ce,mutex:{pdfEscape:$r,activeFontKey:wt,fonts:ht,activeFontSize:Ye}},rn.publish("preProcessText",Ue),b=Ue.text,it=(ce=Ue.options).angle,ar instanceof It==0&&it&&typeof it=="number"){it*=Math.PI/180,ce.rotationDirection===0&&(it=-it),G===W&&(it=-it);var lr=Math.cos(it),an=Math.sin(it);ar=new It(lr,an,-an,lr,0,0)}else it&&it instanceof It&&(ar=it);G!==W||ar||(ar=Zi),(Nt=ce.charSpace||is)!==void 0&&(yr+=R(O(Nt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Sn=ce.horizontalScale)!==void 0&&(yr+=R(100*Sn)+` Tz
`),ce.lang;var sn=-1,jn=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,xi=Dn.internal.getCurrentPageInfo().pageContext;switch(jn){case 0:case!1:case"fill":sn=0;break;case 1:case!0:case"stroke":sn=1;break;case 2:case"fillThenStroke":sn=2;break;case 3:case"invisible":sn=3;break;case 4:case"fillAndAddForClipping":sn=4;break;case 5:case"strokeAndAddPathForClipping":sn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":sn=6;break;case 7:case"addToPathForClipping":sn=7}var Ri=xi.usedRenderingMode!==void 0?xi.usedRenderingMode:-1;sn!==-1?yr+=sn+` Tr
`:Ri!==-1&&(yr+=`0 Tr
`),sn!==-1&&(xi.usedRenderingMode=sn),ft=ce.align||"left";var ii,Fs=Ye*Xn,Kl=Dn.internal.pageSize.getWidth(),Yl=ht[wt];Nt=ce.charSpace||is,Ot=ce.maxWidth||0,vn=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var Qo=[],js=function(En){return Dn.getStringUnitWidth(En,{font:Yl,charSpace:Nt,fontSize:Ye,doKerning:!1})*Ye/bi};if(Object.prototype.toString.call(b)==="[object Array]"){var Is;qe=qi(b),ft!=="left"&&(ii=qe.map(js));var Ps,Na=0;if(ft==="right"){j-=ii[0],b=[],Re=qe.length;for(var ko=0;ko<Re;ko++)ko===0?(Ps=mr(j),Is=to(te)):(Ps=O(Na-ii[ko]),Is=-Fs),b.push([qe[ko],Ps,Is]),Na=ii[ko]}else if(ft==="center"){j-=ii[0]/2,b=[],Re=qe.length;for(var Zo=0;Zo<Re;Zo++)Zo===0?(Ps=mr(j),Is=to(te)):(Ps=O((Na-ii[Zo])/2),Is=-Fs),b.push([qe[Zo],Ps,Is]),Na=ii[Zo]}else if(ft==="left"){b=[],Re=qe.length;for(var ea=0;ea<Re;ea++)b.push(qe[ea])}else if(ft==="justify"&&Yl.encoding==="Identity-H"){b=[],Re=qe.length,Ot=Ot!==0?Ot:Kl;for(var Co=0,Tr=0;Tr<Re;Tr++)if(Is=Tr===0?to(te):-Fs,Ps=Tr===0?mr(j):Co,Tr<Re-1){var hl=O((Ot-ii[Tr])/(qe[Tr].split(" ").length-1)),Ro=qe[Tr].split(" ");b.push([Ro[0]+" ",Ps,Is]),Co=0;for(var io=1;io<Ro.length;io++){var fl=(js(Ro[io-1]+" "+Ro[io])-js(Ro[io]))*bi+hl;io==Ro.length-1?b.push([Ro[io],fl,0]):b.push([Ro[io]+" ",fl,0]),Co-=fl}}else b.push([qe[Tr],Ps,Is]);b.push(["",Co,0])}else{if(ft!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(b=[],Re=qe.length,Ot=Ot!==0?Ot:Kl,Tr=0;Tr<Re;Tr++){Is=Tr===0?to(te):-Fs,Ps=Tr===0?mr(j):0;var dl=qe[Tr].split(" ").length-1,Jl=dl>0?(Ot-ii[Tr])/dl:0;Tr<Re-1?Qo.push(R(O(Jl))):Qo.push(0),b.push([qe[Tr],Ps,Is])}}}(typeof ce.R2L=="boolean"?ce.R2L:qt)===!0&&(b=m(b,function(En,Vn,wr){return[En.split("").reverse().join(""),Vn,wr]})),Ue={text:b,x:j,y:te,options:ce,mutex:{pdfEscape:$r,activeFontKey:wt,fonts:ht,activeFontSize:Ye}},rn.publish("postProcessText",Ue),b=Ue.text,tr=Ue.mutex.isHex||!1;var Xl=ht[wt].encoding;Xl!=="WinAnsiEncoding"&&Xl!=="StandardEncoding"||(b=m(b,function(En,Vn,wr){return[cl(En),Vn,wr]})),qe=qi(b),b=[];for(var ta,ka,Ca,pl=Array.isArray(qe[0])?1:0,Ra="",ml=function(En,Vn,wr){var Fr="";return wr instanceof It?(wr=typeof ce.angle=="number"?Rn(wr,new It(1,0,0,1,En,Vn)):Rn(new It(1,0,0,1,En,Vn),wr),G===W&&(wr=Rn(new It(1,0,0,-1,0,0),wr)),Fr=wr.join(" ")+` Tm
`):Fr=R(En)+" "+R(Vn)+` Td
`,Fr},vr=0;vr<qe.length;vr++){switch(Ra="",pl){case 1:Ca=(tr?"<":"(")+qe[vr][0]+(tr?">":")"),ta=parseFloat(qe[vr][1]),ka=parseFloat(qe[vr][2]);break;case 0:Ca=(tr?"<":"(")+qe[vr]+(tr?">":")"),ta=mr(j),ka=to(te)}Qo!==void 0&&Qo[vr]!==void 0&&(Ra=Qo[vr]+` Tw
`),vr===0?b.push(Ra+ml(ta,ka,ar)+Ca):pl===0?b.push(Ra+Ca):pl===1&&b.push(Ra+ml(ta,ka,ar)+Ca)}b=pl===0?b.join(` Tj
T* `):b.join(` Tj
`),b+=` Tj
`;var os=`BT
/`;return os+=wt+" "+Ye+` Tf
`,os+=R(Ye*Xn)+` TL
`,os+=yi+`
`,os+=yr,os+=b,se(os+="ET"),_[wt]=!0,Dn};var To=v.__private__.clip=v.clip=function(b){return se(b==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return To("evenodd")},v.__private__.discardPath=v.discardPath=function(){return se("n"),this};var fn=v.__private__.isValidStyle=function(b){var j=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(b)!==-1&&(j=!0),j};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(b){return fn(b)&&(f=b),this};var Zs=v.__private__.getStyle=v.getStyle=function(b){var j=f;switch(b){case"D":case"S":j="S";break;case"F":j="f";break;case"FD":case"DF":j="B";break;case"f":case"f*":case"B":case"B*":j=b}return j},on=v.close=function(){return se("h"),this};v.stroke=function(){return se("S"),this},v.fill=function(b){return Bi("f",b),this},v.fillEvenOdd=function(b){return Bi("f*",b),this},v.fillStroke=function(b){return Bi("B",b),this},v.fillStrokeEvenOdd=function(b){return Bi("B*",b),this};var Bi=function(b,j){Yn(j)==="object"?$l(j,b):se(b)},Aa=function(b){b===null||G===W&&b===void 0||(b=Zs(b),se(b))};function Sa(b,j,te,ce,we){var Ue=new _h(j||this.boundingBox,te||this.xStep,ce||this.yStep,this.gState,we||this.matrix);Ue.stream=this.stream;var qe=b+"$$"+this.cloneIndex+++"$$";return dr(qe,Ue),Ue}var $l=function(b,j){var te=en[b.key],ce=Tt[te];if(ce instanceof wc)se("q"),se(Hl(j)),ce.gState&&v.setGState(ce.gState),se(b.matrix.toString()+" cm"),se("/"+te+" sh"),se("Q");else if(ce instanceof _h){var we=new It(1,0,0,-1,0,_i());b.matrix&&(we=we.multiply(b.matrix||Zi),te=Sa.call(ce,b.key,b.boundingBox,b.xStep,b.yStep,we).id),se("q"),se("/Pattern cs"),se("/"+te+" scn"),ce.gState&&v.setGState(ce.gState),se(j),se("Q")}},Hl=function(b){switch(b){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ea=v.moveTo=function(b,j){return se(R(O(b))+" "+R(ae(j))+" m"),this},eo=v.lineTo=function(b,j){return se(R(O(b))+" "+R(ae(j))+" l"),this},mi=v.curveTo=function(b,j,te,ce,we,Ue){return se([R(O(b)),R(ae(j)),R(O(te)),R(ae(ce)),R(O(we)),R(ae(Ue)),"c"].join(" ")),this};v.__private__.line=v.line=function(b,j,te,ce,we){if(isNaN(b)||isNaN(j)||isNaN(te)||isNaN(ce)||!fn(we))throw new Error("Invalid arguments passed to jsPDF.line");return G===K?this.lines([[te-b,ce-j]],b,j,[1,1],we||"S"):this.lines([[te-b,ce-j]],b,j,[1,1]).stroke()},v.__private__.lines=v.lines=function(b,j,te,ce,we,Ue){var qe,it,ft,Nt,Ot,vn,Sn,ar,Dn,gr,tr,yr;if(typeof b=="number"&&(yr=te,te=j,j=b,b=yr),ce=ce||[1,1],Ue=Ue||!1,isNaN(j)||isNaN(te)||!Array.isArray(b)||!Array.isArray(ce)||!fn(we)||typeof Ue!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ea(j,te),qe=ce[0],it=ce[1],Nt=b.length,gr=j,tr=te,ft=0;ft<Nt;ft++)(Ot=b[ft]).length===2?(gr=Ot[0]*qe+gr,tr=Ot[1]*it+tr,eo(gr,tr)):(vn=Ot[0]*qe+gr,Sn=Ot[1]*it+tr,ar=Ot[2]*qe+gr,Dn=Ot[3]*it+tr,gr=Ot[4]*qe+gr,tr=Ot[5]*it+tr,mi(vn,Sn,ar,Dn,gr,tr));return Ue&&on(),Aa(we),this},v.path=function(b){for(var j=0;j<b.length;j++){var te=b[j],ce=te.c;switch(te.op){case"m":Ea(ce[0],ce[1]);break;case"l":eo(ce[0],ce[1]);break;case"c":mi.apply(this,ce);break;case"h":on()}}return this},v.__private__.rect=v.rect=function(b,j,te,ce,we){if(isNaN(b)||isNaN(j)||isNaN(te)||isNaN(ce)||!fn(we))throw new Error("Invalid arguments passed to jsPDF.rect");return G===K&&(ce=-ce),se([R(O(b)),R(ae(j)),R(O(te)),R(O(ce)),"re"].join(" ")),Aa(we),this},v.__private__.triangle=v.triangle=function(b,j,te,ce,we,Ue,qe){if(isNaN(b)||isNaN(j)||isNaN(te)||isNaN(ce)||isNaN(we)||isNaN(Ue)||!fn(qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-b,ce-j],[we-te,Ue-ce],[b-we,j-Ue]],b,j,[1,1],qe,!0),this},v.__private__.roundedRect=v.roundedRect=function(b,j,te,ce,we,Ue,qe){if(isNaN(b)||isNaN(j)||isNaN(te)||isNaN(ce)||isNaN(we)||isNaN(Ue)||!fn(qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var it=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*te),Ue=Math.min(Ue,.5*ce),this.lines([[te-2*we,0],[we*it,0,we,Ue-Ue*it,we,Ue],[0,ce-2*Ue],[0,Ue*it,-we*it,Ue,-we,Ue],[2*we-te,0],[-we*it,0,-we,-Ue*it,-we,-Ue],[0,2*Ue-ce],[0,-Ue*it,we*it,-Ue,we,-Ue]],b+we,j,[1,1],qe,!0),this},v.__private__.ellipse=v.ellipse=function(b,j,te,ce,we){if(isNaN(b)||isNaN(j)||isNaN(te)||isNaN(ce)||!fn(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ue=4/3*(Math.SQRT2-1)*te,qe=4/3*(Math.SQRT2-1)*ce;return Ea(b+te,j),mi(b+te,j-qe,b+Ue,j-ce,b,j-ce),mi(b-Ue,j-ce,b-te,j-qe,b-te,j),mi(b-te,j+qe,b-Ue,j+ce,b,j+ce),mi(b+Ue,j+ce,b+te,j+qe,b+te,j),Aa(we),this},v.__private__.circle=v.circle=function(b,j,te,ce){if(isNaN(b)||isNaN(j)||isNaN(te)||!fn(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(b,j,te,te,ce)},v.setFont=function(b,j,te){return te&&(j=q(j,te)),wt=ol(b,j,{disableWarning:!1}),this};var Hr=v.__private__.getFont=v.getFont=function(){return ht[ol.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var b,j,te={};for(b in Vt)if(Vt.hasOwnProperty(b))for(j in te[b]=[],Vt[b])Vt[b].hasOwnProperty(j)&&te[b].push(j);return te},v.addFont=function(b,j,te,ce,we){var Ue=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ue.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Ue.indexOf(arguments[3])==-1&&(te=q(te,ce)),Ao.call(this,b,j,te,we=we||"Identity-H")};var gi,zi=n.lineWidth||.200025,Pt=v.__private__.getLineWidth=v.getLineWidth=function(){return zi},rs=v.__private__.setLineWidth=v.setLineWidth=function(b){return zi=b,se(R(O(b))+" w"),this};v.__private__.setLineDash=At.API.setLineDash=At.API.setLineDashPattern=function(b,j){if(b=b||[],j=j||0,isNaN(j)||!Array.isArray(b))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return b=b.map(function(te){return R(O(te))}).join(" "),j=R(O(j)),se("["+b+"] "+j+" d"),this};var Ds=v.__private__.getLineHeight=v.getLineHeight=function(){return Ye*gi};v.__private__.getLineHeight=v.getLineHeight=function(){return Ye*gi};var Ku=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(b){return typeof(b=b||1.15)=="number"&&(gi=b),this},Wl=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return gi};Ku(n.lineHeight);var mr=v.__private__.getHorizontalCoordinate=function(b){return O(b)},to=v.__private__.getVerticalCoordinate=function(b){return G===W?b:Ct[Q].mediaBox.topRightY-Ct[Q].mediaBox.bottomLeftY-O(b)},Gl=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(b){return R(mr(b))},no=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(b){return R(to(b))},Os=n.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return Es(Os)},v.__private__.setStrokeColor=v.setDrawColor=function(b,j,te,ce){return Os=Er({ch1:b,ch2:j,ch3:te,ch4:ce,pdfColorType:"draw",precision:2}),se(Os),this};var Ta=n.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return Es(Ta)},v.__private__.setFillColor=v.setFillColor=function(b,j,te,ce){return Ta=Er({ch1:b,ch2:j,ch3:te,ch4:ce,pdfColorType:"fill",precision:2}),se(Ta),this};var yi=n.textColor||"0 g",Ci=v.__private__.getTextColor=v.getTextColor=function(){return Es(yi)};v.__private__.setTextColor=v.setTextColor=function(b,j,te,ce){return yi=Er({ch1:b,ch2:j,ch3:te,ch4:ce,pdfColorType:"text",precision:3}),this};var is=n.charSpace,Io=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(is||0)};v.__private__.setCharSpace=v.setCharSpace=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return is=b,this};var Fn=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(b){var j=v.CapJoinStyles[b];if(j===void 0)throw new Error("Line cap style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fn=j,se(j+" J"),this};var ul=0;v.__private__.setLineJoin=v.setLineJoin=function(b){var j=v.CapJoinStyles[b];if(j===void 0)throw new Error("Line join style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ul=j,se(j+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(b){if(b=b||0,isNaN(b))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(R(O(b))+" M"),this},v.GState=Im,v.setGState=function(b){(b=typeof b=="string"?Mt[Jn[b]]:ro(null,b)).equals(Nn)||(se("/"+b.id+" gs"),Nn=b)};var ro=function(b,j){if(!b||!Jn[b]){var te=!1;for(var ce in Mt)if(Mt.hasOwnProperty(ce)&&Mt[ce].equals(j)){te=!0;break}if(te)j=Mt[ce];else{var we="GS"+(Object.keys(Mt).length+1).toString(10);Mt[we]=j,j.id=we}return b&&(Jn[b]=j.id),rn.publish("addGState",j),j}};v.addGState=function(b,j){return ro(b,j),this},v.saveGraphicsState=function(){return se("q"),An.push({key:wt,size:Ye,color:yi}),this},v.restoreGraphicsState=function(){se("Q");var b=An.pop();return wt=b.key,Ye=b.size,yi=b.color,Nn=null,this},v.setCurrentTransformationMatrix=function(b){return se(b.toString()+" cm"),this},v.comment=function(b){return se("#"+b),this};var Ts=function(b,j){var te=b||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(Ue){isNaN(Ue)||(te=parseFloat(Ue))}});var ce=j||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Ue){isNaN(Ue)||(ce=parseFloat(Ue))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Ue){we=Ue.toString()}}),this},Po=function(b,j,te,ce){Ts.call(this,b,j),this.type="rect";var we=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(qe){isNaN(qe)||(we=parseFloat(qe))}});var Ue=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ue},set:function(qe){isNaN(qe)||(Ue=parseFloat(qe))}}),this},No=function(){this.page=hn,this.currentPage=Q,this.pages=He.slice(0),this.pagesContext=Ct.slice(0),this.x=gt,this.y=bn,this.matrix=mn,this.width=wi(Q),this.height=ss(Q),this.outputDestination=tt,this.id="",this.objectNumber=-1};No.prototype.restore=function(){hn=this.page,Q=this.currentPage,Ct=this.pagesContext,He=this.pages,gt=this.x,bn=this.y,mn=this.matrix,Ia(Q,this.width),ri(Q,this.height),tt=this.outputDestination};var vi=function(b,j,te,ce,we){ti.push(new No),hn=Q=0,He=[],gt=b,bn=j,mn=we,Ni([te,ce])};for(var Ms in v.beginFormObject=function(b,j,te,ce,we){return vi(b,j,te,ce,we),this},v.endFormObject=function(b){return(function(j){if(Ss[j])ti.pop().restore();else{var te=new No,ce="Xo"+(Object.keys(fr).length+1).toString(10);te.id=ce,Ss[j]=ce,fr[ce]=te,rn.publish("addFormObject",te),ti.pop().restore()}})(b),this},v.doFormObject=function(b,j){var te=fr[Ss[b]];return se("q"),se(j.toString()+" cm"),se("/"+te.id+" Do"),se("Q"),this},v.getFormObject=function(b){var j=fr[Ss[b]];return{x:j.x,y:j.y,width:j.width,height:j.height,matrix:j.matrix}},v.save=function(b,j){return b=b||"generated.pdf",(j=j||{}).returnPromise=j.returnPromise||!1,j.returnPromise===!1?(vc(ns(ts()),b),typeof vc.unload=="function"&&Wt.setTimeout&&setTimeout(vc.unload,911),this):new Promise(function(te,ce){try{var we=vc(ns(ts()),b);typeof vc.unload=="function"&&Wt.setTimeout&&setTimeout(vc.unload,911),te(we)}catch(Ue){ce(Ue.message)}})},At.API)At.API.hasOwnProperty(Ms)&&(Ms==="events"&&At.API.events.length?(function(b,j){var te,ce,we;for(we=j.length-1;we!==-1;we--)te=j[we][0],ce=j[we][1],b.subscribe.apply(b,[te].concat(typeof ce=="function"?[ce]:ce))})(rn,At.API.events):v[Ms]=At.API[Ms]);function wi(b){return Ct[b].mediaBox.topRightX-Ct[b].mediaBox.bottomLeftX}function Ia(b,j){Ct[b].mediaBox.topRightX=j+Ct[b].mediaBox.bottomLeftX}function ss(b){return Ct[b].mediaBox.topRightY-Ct[b].mediaBox.bottomLeftY}function ri(b,j){Ct[b].mediaBox.topRightY=j+Ct[b].mediaBox.bottomLeftY}var Pa=v.getPageWidth=function(b){return wi(b=b||Q)/Et},Mr=v.setPageWidth=function(b,j){Ia(b,j*Et)},_i=v.getPageHeight=function(b){return ss(b=b||Q)/Et},Xo=v.setPageHeight=function(b,j){ri(b,j*Et)};return v.internal={pdfEscape:$r,getStyle:Zs,getFont:Hr,getFontSize:Ze,getCharSpace:Io,getTextColor:Ci,getLineHeight:Ds,getLineHeightFactor:Wl,getLineWidth:Pt,write:nn,getHorizontalCoordinate:mr,getVerticalCoordinate:to,getCoordinateString:Gl,getVerticalCoordinateString:no,collections:{},newObject:Mn,newAdditionalObject:Xs,newObjectDeferred:sr,newObjectDeferredBegin:qn,getFilters:fi,putStream:pr,events:rn,scaleFactor:Et,pageSize:{getWidth:function(){return Pa(Q)},setWidth:function(b){Mr(Q,b)},getHeight:function(){return _i(Q)},setHeight:function(b){Xo(Q,b)}},encryptionOptions:p,encryption:Ln,getEncryptor:function(b){return p!==null?Ln.encryptor(b,0):function(j){return j}},output:di,getNumberOfPages:ki,pages:He,out:se,f2:P,f3:F,getPageInfo:pi,getPageInfoByObjId:Jo,getCurrentPageInfo:Eo,getPDFVersion:I,Point:Ts,Rectangle:Po,Matrix:It,hasHotfix:Yo},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return Pa(Q)},set:function(b){Mr(Q,b)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return _i(Q)},set:function(b){Xo(Q,b)},enumerable:!0,configurable:!0}),(function(b){for(var j=0,te=St.length;j<te;j++){var ce=Ao.call(this,b[j][0],b[j][1],b[j][2],St[j][3],!0);w===!1&&(_[ce]=!0);var we=b[j][0].split("-");sl({id:ce,fontName:we[0],fontStyle:we[1]||""})}rn.publish("addFonts",{fonts:ht,dictionary:Vt})}).call(v,St),wt="F1",ba(i,t),rn.publish("initialized"),v}dh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},dh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},dh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},dh.prototype.processOwnerPassword=function(n,e){return G1(W1(e).substr(0,5),n)},dh.prototype.encryptor=function(n,e){var t=W1(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return G1(t,r)}},Im.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Yn(n)!==Yn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},At.API={events:[]},At.version="3.0.3";var zr=At.API,M2=1,jc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ah=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xt=function(n){return n.toFixed(2)},wu=function(n){return n.toFixed(5)};zr.__acroform__={};var Ys=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Bb=function(n){return n*M2},Ua=function(n){var e=new mE,t=pt.internal.getHeight(n)||0,r=pt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Xt(r)),Number(Xt(t))],e},hj=zr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},fj=zr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},dj=zr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Xr=zr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return dj(n,e-1)},Qr=zr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return hj(n,e-1)},Zr=zr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return fj(n,e-1)},pj=zr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],l=n[2],u=n[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=r(s+u)||0,c.upperRight_X=t(i+l)||0,c.upperRight_Y=r(s)||0,[Number(Xt(c.lowerLeft_X)),Number(Xt(c.lowerLeft_Y)),Number(Xt(c.upperRight_X)),Number(Xt(c.upperRight_Y))]},mj=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=K1(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Xt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ua(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},K1=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var s=t,l=pt.internal.getHeight(n)||0;l=l<0?-l:l;var u=pt.internal.getWidth(n)||0;u=u<0?-u:u;var c=function(P,F,O){if(P+1<i.length){var ae=F+" "+i[P+1][0];return Ep(ae,n,O).width<=u-4}return!1};s++;e:for(;s>0;){e="",s--;var f,p,w=Ep("3",n,s).height,_=n.multiline?l-s:(l-w)/2,v=_+=2,C=0,I=0,N=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Ep(e,n,s=12).width+", FieldWidth:"+u+`
`;break}for(var L="",K=0,W=0;W<i.length;W++)if(i.hasOwnProperty(W)){var G=!1;if(i[W].length!==1&&N!==i[W].length-1){if((w+2)*(K+2)+2>l)continue e;L+=i[W][N],G=!0,I=W,W--}else{L=(L+=i[W][N]+" ").substr(L.length-1)==" "?L.substr(0,L.length-1):L;var ie=parseInt(W),pe=c(ie,L,s),q=W>=i.length-1;if(pe&&!q){L+=" ",N=0;continue}if(pe||q){if(q)I=ie;else if(n.multiline&&(w+2)*(K+2)+2>l)continue e}else{if(!n.multiline||(w+2)*(K+2)+2>l)continue e;I=ie}}for(var R="",k=C;k<=I;k++){var U=i[k];if(n.multiline){if(k===I){R+=U[N]+" ",N=(N+1)%U.length;continue}if(k===C){R+=U[U.length-1]+" ";continue}}R+=U[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,p=Ep(R,n,s).width,n.textAlign){case"right":f=u-p-2;break;case"center":f=(u-p)/2;break;default:f=2}e+=Xt(f)+" "+Xt(v)+` Td
`,e+="("+jc(R)+`) Tj
`,e+=-Xt(f)+` 0 Td
`,v=-(s+2),p=0,C=G?I:I+1,K++,L=""}break}return r.text=e,r.fontSize=s,r},Ep=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},gj={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},yj=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},vj=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(wa.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(gj)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");M2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new gE,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&yj(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var l in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var u=r[l],c=[],f=u.Rect;if(u.Rect&&(u.Rect=pj(u.Rect,i)),i.internal.newObjectDeferredBegin(u.objId,!0),u.DA=pt.createDefaultAppearanceStream(u),Yn(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(c=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var p=mj(u);c.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(u.appearanceStreamContent){var w="";for(var _ in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(_)){var v=u.appearanceStreamContent[_];if(w+="/"+_+" ",w+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var l in v)if(v.hasOwnProperty(l)){var C=v[l];typeof C=="function"&&(C=C.call(i,u)),w+="/"+l+" "+C+" ",i.internal.acroformPlugin.xForms.indexOf(C)>=0||i.internal.acroformPlugin.xForms.push(C)}}else typeof(C=v)=="function"&&(C=C.call(i,u)),w+="/"+l+" "+C,i.internal.acroformPlugin.xForms.indexOf(C)>=0||i.internal.acroformPlugin.xForms.push(C);w+=">>"}c.push({key:"AP",value:`<<
`+w+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:u.objId}),i.internal.out("endobj")}s&&(function(I,N){for(var L in I)if(I.hasOwnProperty(L)){var K=L,W=I[L];N.internal.newObjectDeferredBegin(W.objId,!0),Yn(W)==="object"&&typeof W.putStream=="function"&&W.putStream(),delete I[K]}})(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},pE=zr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(l){return l};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),Yn(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+jc(r(n[s].toString()))+")"):i+=n[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},B0=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+jc(r(n))+")"},qa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qa.prototype.toString=function(){return this.objId+" 0 R"},qa.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},qa.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:pE(i,this.objId,this.scope)}):i instanceof qa?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var mE=function(){qa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ys(mE,qa);var gE=function(){qa.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+jc(t(n))+")"}},set:function(t){n=t}})};Ys(gE,qa);var wa=function n(){qa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute F supplied.');e=L}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xr(e,3)},set:function(L){L?this.F=Qr(e,3):this.F=Zr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute Ff supplied.');t=L}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(L){r=L!==void 0?L:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(L){r[0]=L}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(L){r[1]=L}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(L){r[2]=L}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(L){r[3]=L}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(L){switch(L){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=L;break;default:throw new Error('Invalid value "'+L+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Pm)return;s="FieldObject"+n.FieldNum++}var L=function(K){return K};return this.scope&&(L=this.scope.internal.getEncryptor(this.objId)),"("+jc(L(s))+")"},set:function(L){s=L.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(L){s=L}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(L){l=L}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(L){u=L}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(L){c=L}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/M2:f},set:function(L){f=L}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(L){p=L}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof Pm||this instanceof Ec))return B0(w,this.objId,this.scope)},set:function(L){L=L.toString(),w=L}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Ui==0?B0(_,this.objId,this.scope):_},set:function(L){L=L.toString(),_=this instanceof Ui==0?L.substr(0,1)==="("?ah(L.substr(1,L.length-2)):ah(L):L}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ui==1?ah(_.substr(1,_.length-1)):_},set:function(L){L=L.toString(),_=this instanceof Ui==1?"/"+L:L}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(L){this.V=L}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Ui==0?B0(v,this.objId,this.scope):v},set:function(L){L=L.toString(),v=this instanceof Ui==0?L.substr(0,1)==="("?ah(L.substr(1,L.length-2)):ah(L):L}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ui==1?ah(v.substr(1,v.length-1)):v},set:function(L){L=L.toString(),v=this instanceof Ui==1?"/"+L:L}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,I=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return I},set:function(L){L=!!L,I=L}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(C)return C},set:function(L){C=L}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,1)},set:function(L){L?this.Ff=Qr(this.Ff,1):this.Ff=Zr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,2)},set:function(L){L?this.Ff=Qr(this.Ff,2):this.Ff=Zr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,3)},set:function(L){L?this.Ff=Qr(this.Ff,3):this.Ff=Zr(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(L){if([0,1,2].indexOf(L)===-1)throw new Error('Invalid value "'+L+'" for attribute Q supplied.');N=L}}),Object.defineProperty(this,"textAlign",{get:function(){var L;switch(N){case 0:default:L="left";break;case 1:L="center";break;case 2:L="right"}return L},configurable:!0,enumerable:!0,set:function(L){switch(L){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};Ys(wa,qa);var Th=function(){wa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return pE(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=(function(s,l,u){u||(u=1);for(var c,f=[];c=l.exec(s);)f.push(c[u]);return f})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,18)},set:function(t){t?this.Ff=Qr(this.Ff,18):this.Ff=Zr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Qr(this.Ff,19):this.Ff=Zr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,20)},set:function(t){t?(this.Ff=Qr(this.Ff,20),e.sort()):this.Ff=Zr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,22)},set:function(t){t?this.Ff=Qr(this.Ff,22):this.Ff=Zr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,23)},set:function(t){t?this.Ff=Qr(this.Ff,23):this.Ff=Zr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,27)},set:function(t){t?this.Ff=Qr(this.Ff,27):this.Ff=Zr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ys(Th,wa);var Ih=function(){Th.call(this),this.fontName="helvetica",this.combo=!1};Ys(Ih,Th);var Ph=function(){Ih.call(this),this.combo=!0};Ys(Ph,Ih);var Hp=function(){Ph.call(this),this.edit=!0};Ys(Hp,Ph);var Ui=function(){wa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,15)},set:function(t){t?this.Ff=Qr(this.Ff,15):this.Ff=Zr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,16)},set:function(t){t?this.Ff=Qr(this.Ff,16):this.Ff=Zr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,17)},set:function(t){t?this.Ff=Qr(this.Ff,17):this.Ff=Zr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,26)},set:function(t){t?this.Ff=Qr(this.Ff,26):this.Ff=Zr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+jc(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Yn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Ys(Ui,wa);var Wp=function(){Ui.call(this),this.pushButton=!0};Ys(Wp,Ui);var Nh=function(){Ui.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Ys(Nh,Ui);var Pm=function(){var n,e;wa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(u){return u};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,l=[];for(s in l.push("<<"),r)l.push("/"+s+" ("+jc(i(r[s]))+")");return l.push(">>"),l.join(`
`)},set:function(i){Yn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=pt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ys(Pm,wa),Nh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Nh.prototype.createOption=function(n){var e=new Pm;return e.Parent=this,e.optionName=n,this.Kids.push(e),wj.call(this.scope,e),e};var Gp=function(){Ui.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=pt.CheckBox.createAppearanceStream()};Ys(Gp,Ui);var Ec=function(){wa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,13)},set:function(e){e?this.Ff=Qr(this.Ff,13):this.Ff=Zr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,21)},set:function(e){e?this.Ff=Qr(this.Ff,21):this.Ff=Zr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,23)},set:function(e){e?this.Ff=Qr(this.Ff,23):this.Ff=Zr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,24)},set:function(e){e?this.Ff=Qr(this.Ff,24):this.Ff=Zr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,25)},set:function(e){e?this.Ff=Qr(this.Ff,25):this.Ff=Zr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,26)},set:function(e){e?this.Ff=Qr(this.Ff,26):this.Ff=Zr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ys(Ec,wa);var Kp=function(){Ec.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,14)},set:function(n){n?this.Ff=Qr(this.Ff,14):this.Ff=Zr(this.Ff,14)}}),this.password=!0};Ys(Kp,Ec);var pt={CheckBox:{createAppearanceStream:function(){return{N:{On:pt.CheckBox.YesNormal},D:{On:pt.CheckBox.YesPushDown,Off:pt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Ua(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=K1(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Xt(pt.internal.getWidth(n))+" "+Xt(pt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Xt(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Ua(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=pt.internal.getHeight(n),l=pt.internal.getWidth(n),u=K1(n,n.caption);return i.push("1 g"),i.push("0 0 "+Xt(l)+" "+Xt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Xt(l-1)+" "+Xt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Xt(u.fontSize)+" Tf "+r),i.push(u.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Ua(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Xt(pt.internal.getWidth(n))+" "+Xt(pt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:pt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=pt.RadioButton.Circle.YesNormal,e.D[n]=pt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Ua(n);e.scope=n.scope;var t=[],r=pt.internal.getWidth(n)<=pt.internal.getHeight(n)?pt.internal.getWidth(n)/4:pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=pt.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+wu(pt.internal.getWidth(n)/2)+" "+wu(pt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ua(n);e.scope=n.scope;var t=[],r=pt.internal.getWidth(n)<=pt.internal.getHeight(n)?pt.internal.getWidth(n)/4:pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*pt.internal.Bezier_C).toFixed(5)),l=Number((r*pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+wu(pt.internal.getWidth(n)/2)+" "+wu(pt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+wu(pt.internal.getWidth(n)/2)+" "+wu(pt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),t.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),t.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),t.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Ua(n);e.scope=n.scope;var t=[],r=pt.internal.getWidth(n)<=pt.internal.getHeight(n)?pt.internal.getWidth(n)/4:pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+wu(pt.internal.getWidth(n)/2)+" "+wu(pt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:pt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=pt.RadioButton.Cross.YesNormal,e.D[n]=pt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Ua(n);e.scope=n.scope;var t=[],r=pt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Xt(pt.internal.getWidth(n)-2)+" "+Xt(pt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Xt(r.x1.x)+" "+Xt(r.x1.y)+" m"),t.push(Xt(r.x2.x)+" "+Xt(r.x2.y)+" l"),t.push(Xt(r.x4.x)+" "+Xt(r.x4.y)+" m"),t.push(Xt(r.x3.x)+" "+Xt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ua(n);e.scope=n.scope;var t=pt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Xt(pt.internal.getWidth(n))+" "+Xt(pt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Xt(pt.internal.getWidth(n)-2)+" "+Xt(pt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Xt(t.x1.x)+" "+Xt(t.x1.y)+" m"),r.push(Xt(t.x2.x)+" "+Xt(t.x2.y)+" l"),r.push(Xt(t.x4.x)+" "+Xt(t.x4.y)+" m"),r.push(Xt(t.x3.x)+" "+Xt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Ua(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Xt(pt.internal.getWidth(n))+" "+Xt(pt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};pt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=pt.internal.getWidth(n),t=pt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},pt.internal.getWidth=function(n){var e=0;return Yn(n)==="object"&&(e=Bb(n.Rect[2])),e},pt.internal.getHeight=function(n){var e=0;return Yn(n)==="object"&&(e=Bb(n.Rect[3])),e};var wj=zr.addField=function(n){if(vj(this,n),!(n instanceof wa))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};zr.AcroFormChoiceField=Th,zr.AcroFormListBox=Ih,zr.AcroFormComboBox=Ph,zr.AcroFormEditBox=Hp,zr.AcroFormButton=Ui,zr.AcroFormPushButton=Wp,zr.AcroFormRadioButton=Nh,zr.AcroFormCheckBox=Gp,zr.AcroFormTextField=Ec,zr.AcroFormPasswordField=Kp,zr.AcroFormAppearance=pt,zr.AcroForm={ChoiceField:Th,ListBox:Ih,ComboBox:Ph,EditBox:Hp,Button:Ui,PushButton:Wp,RadioButton:Nh,CheckBox:Gp,TextField:Ec,PasswordField:Kp,Appearance:pt},At.AcroForm={ChoiceField:Th,ListBox:Ih,ComboBox:Ph,EditBox:Hp,Button:Ui,PushButton:Wp,RadioButton:Nh,CheckBox:Gp,TextField:Ec,PasswordField:Kp,Appearance:pt};At.AcroForm;function yE(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(P,F){var O,ae,Pe,Le,xe,le=t;if((F=F||t)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(pe(P))for(xe in r)for(Pe=r[xe],O=0;O<Pe.length;O+=1){for(Le=!0,ae=0;ae<Pe[O].length;ae+=1)if(Pe[O][ae]!==void 0&&Pe[O][ae]!==P[ae]){Le=!1;break}if(Le===!0){le=xe;break}}else for(xe in r)for(Pe=r[xe],O=0;O<Pe.length;O+=1){for(Le=!0,ae=0;ae<Pe[O].length;ae+=1)if(Pe[O][ae]!==void 0&&Pe[O][ae]!==P.charCodeAt(ae)){Le=!1;break}if(Le===!0){le=xe;break}}return le===t&&F!==t&&(le=F),le},s=function P(F){for(var O=this.internal.write,ae=this.internal.putStream,Pe=(0,this.internal.getFilters)();Pe.indexOf("FlateEncode")!==-1;)Pe.splice(Pe.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var Le=[];if(Le.push({key:"Type",value:"/XObject"}),Le.push({key:"Subtype",value:"/Image"}),Le.push({key:"Width",value:F.width}),Le.push({key:"Height",value:F.height}),F.colorSpace===L.INDEXED?Le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(Le.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===L.DEVICE_CMYK&&Le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Le.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&Le.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var xe="",le=0,_e=F.transparency.length;le<_e;le++)xe+=F.transparency[le]+" "+F.transparency[le]+" ";Le.push({key:"Mask",value:"["+xe+"]"})}F.sMask!==void 0&&Le.push({key:"SMask",value:F.objectId+1+" 0 R"});var ke=F.filter!==void 0?["/"+F.filter]:void 0;if(ae({data:F.data,additionalKeyValues:Le,alreadyAppliedFilters:ke,objectId:F.objectId}),O("endobj"),"sMask"in F&&F.sMask!==void 0){var ne,M=(ne=F.sMaskBitsPerComponent)!==null&&ne!==void 0?ne:F.bitsPerComponent,Q={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:F.sMask};"filter"in F&&(Q.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(F.width),Q.filter=F.filter),P.call(this,Q)}if(F.colorSpace===L.INDEXED){var re=this.internal.newObject();ae({data:R(new Uint8Array(F.palette)),objectId:re}),O("endobj")}},l=function(){var P=this.internal.collections[e+"images"];for(var F in P)s.call(this,P[F])},u=function(){var P,F=this.internal.collections[e+"images"],O=this.internal.write;for(var ae in F)O("/I"+(P=F[ae]).index,P.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",u))},f=function(){var P=this.internal.collections[e+"images"];return c.call(this),P},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},w=function(P){return typeof n["process"+P.toUpperCase()]=="function"},_=function(P){return Yn(P)==="object"&&P.nodeType===1},v=function(P,F){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var O=""+P.getAttribute("src");if(O.indexOf("data:image/")===0)return $p(unescape(O).split("base64,").pop());var ae=n.loadFile(O,!0);if(ae!==void 0)return ae}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var Pe;switch(F){case"PNG":Pe="image/png";break;case"WEBP":Pe="image/webp";break;default:Pe="image/jpeg"}return $p(P.toDataURL(Pe,1).split("base64,").pop())}},C=function(P){var F=this.internal.collections[e+"images"];if(F){for(var O in F)if(P===F[O].alias)return F[O]}},I=function(P,F,O){return P||F||(P=-96,F=-96),P<0&&(P=-1*O.width*72/P/this.internal.scaleFactor),F<0&&(F=-1*O.height*72/F/this.internal.scaleFactor),P===0&&(P=F*O.width/O.height),F===0&&(F=P*O.height/O.width),[P,F]},N=function(P,F,O,ae,Pe,Le){var xe=I.call(this,O,ae,Pe),le=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,ke=f.call(this);if(O=xe[0],ae=xe[1],ke[Pe.index]=Pe,Le){Le*=Math.PI/180;var ne=Math.cos(Le),M=Math.sin(Le),Q=function(ue){return ue.toFixed(4)},re=[Q(ne),Q(M),Q(-1*M),Q(ne),0,0,"cm"]}this.internal.write("q"),Le?(this.internal.write([1,"0","0",1,le(P),_e(F+ae),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([le(O),"0","0",le(ae),"0","0","cm"].join(" "))):this.internal.write([le(O),"0","0",le(ae),le(P),_e(F+ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Pe.index+" Do"),this.internal.write("Q")},L=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var K=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},W=n.__addimage__.sHashCode=function(P){var F,O,ae=0;if(typeof P=="string")for(O=P.length,F=0;F<O;F++)ae=(ae<<5)-ae+P.charCodeAt(F),ae|=0;else if(pe(P))for(O=P.byteLength/2,F=0;F<O;F++)ae=(ae<<5)-ae+P[F],ae|=0;return ae},G=n.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var F=!0;return P.length===0&&(F=!1),P.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(F=!1),F},ie=n.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var F=P.indexOf(",");return F<0?null:P.substring(0,F).trim().endsWith("base64")?P.substring(F+1):null};n.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var pe=n.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},q=n.__addimage__.binaryStringToUint8Array=function(P){for(var F=P.length,O=new Uint8Array(F),ae=0;ae<F;ae++)O[ae]=P.charCodeAt(ae);return O},R=n.__addimage__.arrayBufferToBinaryString=function(P){for(var F="",O=pe(P)?P:new Uint8Array(P),ae=0;ae<O.length;ae+=8192)F+=String.fromCharCode.apply(null,O.subarray(ae,ae+8192));return F};n.addImage=function(){var P,F,O,ae,Pe,Le,xe,le,_e;if(typeof arguments[1]=="number"?(F=t,O=arguments[1],ae=arguments[2],Pe=arguments[3],Le=arguments[4],xe=arguments[5],le=arguments[6],_e=arguments[7]):(F=arguments[1],O=arguments[2],ae=arguments[3],Pe=arguments[4],Le=arguments[5],xe=arguments[6],le=arguments[7],_e=arguments[8]),Yn(P=arguments[0])==="object"&&!_(P)&&"imageData"in P){var ke=P;P=ke.imageData,F=ke.format||F||t,O=ke.x||O||0,ae=ke.y||ae||0,Pe=ke.w||ke.width||Pe,Le=ke.h||ke.height||Le,xe=ke.alias||xe,le=ke.compression||le,_e=ke.rotation||ke.angle||_e}var ne=this.internal.getFilters();if(le===void 0&&ne.indexOf("FlateEncode")!==-1&&(le="SLOW"),isNaN(O)||isNaN(ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var M=k.call(this,P,F,xe,le);return N.call(this,O,ae,Pe,Le,M,_e),this};var k=function(P,F,O,ae){var Pe,Le,xe;if(typeof P=="string"&&i(P)===t){P=unescape(P);var le=U(P,!1);(le!==""||(le=n.loadFile(P,!0))!==void 0)&&(P=le)}if(_(P)&&(P=v(P,F)),F=i(P,F),!w(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((xe=O)==null||xe.length===0)&&(O=(function(_e){return typeof _e=="string"||pe(_e)?W(_e):pe(_e.data)?W(_e.data):null})(P)),(Pe=C.call(this,O))||(P instanceof Uint8Array||F==="RGBA"||(Le=P,P=q(P)),Pe=this["process"+F.toUpperCase()](P,p.call(this),O,(function(_e){return _e&&typeof _e=="string"&&(_e=_e.toUpperCase()),_e in n.image_compression?_e:K.NONE})(ae),Le)),!Pe)throw new Error("An unknown error occurred whilst processing the image.");return Pe},U=n.__addimage__.convertBase64ToBinaryString=function(P,F){F=typeof F!="boolean"||F;var O,ae="";if(typeof P=="string"){var Pe;O=(Pe=ie(P))!==null&&Pe!==void 0?Pe:P;try{ae=$p(O)}catch(Le){if(F)throw G(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ae};n.getImageProperties=function(P){var F,O,ae="";if(_(P)&&(P=v(P)),typeof P=="string"&&i(P)===t&&((ae=U(P,!1))===""&&(ae=n.loadFile(P)||""),P=ae),O=i(P),!w(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(P instanceof Uint8Array||(P=q(P)),!(F=this["process"+O.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=O,F}})(At.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};At.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,p=!1,w=0;w<f.length&&!p;w++)switch((r=f[w]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var _=0;_<f.length;_++){r=f[_];var v=this.internal.pdfEscape,C=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var I=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),L=this.internal.getEncryptor(I.objId),K=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+l(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+v(L(r.contents))+")",s+=" /Popup "+N.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+v(L(K))+") >>",I.content=s;var W=I.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+l(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+W,r.open&&(s+=" /Open true"),s+=" >>",N.content=s,this.internal.write(I.objId,"0 R",N.objId,"0 R");break;case"freetext":i="/Rect ["+l(r.bounds.x)+" "+u(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var G=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+v(C(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+G+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var ie=this.annotations._nameMap[r.options.name];r.options.pageNumber=ie.page,r.options.top=ie.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+v(C(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var pe=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+pe+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,l){var u=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:c(t),y:f(r),w:c(t+i),h:f(r+s)},options:l,type:"link"})},n.textWithLink=function(t,r,i,s){var l,u,c=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){u=s.maxWidth;var p=this.splitTextToSize(t,u).length;l=Math.ceil(f*p)}else u=c,l=f;return this.text(t,r,i,s),i+=.2*f,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-f,u,l,s),c},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(At.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(I){return e[I.charCodeAt(0)]!==void 0},l=n.__arabicParser__.isArabicLetter=function(I){return typeof I=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(I)},u=n.__arabicParser__.isArabicEndLetter=function(I){return l(I)&&s(I)&&e[I.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(I){return l(I)&&i.indexOf(I.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(I){return l(I)&&s(I)&&e[I.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(I){return l(I)&&s(I)&&e[I.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(I){return l(I)&&s(I)&&e[I.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(I){return l(I)&&s(I)&&e[I.charCodeAt(0)].length==4},w=n.__arabicParser__.resolveLigatures=function(I){var N=0,L=t,K="",W=0;for(N=0;N<I.length;N+=1)L[I.charCodeAt(N)]!==void 0?(W++,typeof(L=L[I.charCodeAt(N)])=="number"&&(K+=String.fromCharCode(L),L=t,W=0),N===I.length-1&&(L=t,K+=I.charAt(N-(W-1)),N-=W-1,W=0)):(L=t,K+=I.charAt(N-W),N-=W,W=0);return K};n.__arabicParser__.isArabicDiacritic=function(I){return I!==void 0&&r[I.charCodeAt(0)]!==void 0};var _=n.__arabicParser__.getCorrectForm=function(I,N,L){return l(I)?s(I)===!1?-1:!f(I)||!l(N)&&!l(L)||!l(L)&&u(N)||u(I)&&!l(N)||u(I)&&c(N)||u(I)&&u(N)?0:p(I)&&l(N)&&!u(N)&&l(L)&&f(L)?3:u(I)||!l(L)?1:2:-1},v=function(I){var N=0,L=0,K=0,W="",G="",ie="",pe=(I=I||"").split("\\s+"),q=[];for(N=0;N<pe.length;N+=1){for(q.push(""),L=0;L<pe[N].length;L+=1)W=pe[N][L],G=pe[N][L-1],ie=pe[N][L+1],l(W)?(K=_(W,G,ie),q[N]+=K!==-1?String.fromCharCode(e[W.charCodeAt(0)][K]):W):q[N]+=W;q[N]=w(q[N])}return q.join(" ")},C=n.__arabicParser__.processArabic=n.processArabic=function(){var I,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,L=[];if(Array.isArray(N)){var K=0;for(L=[],K=0;K<N.length;K+=1)Array.isArray(N[K])?L.push([v(N[K][0]),N[K][1],N[K][2]]):L.push([v(N[K])]);I=L}else I=v(N);return typeof arguments[0]=="string"?I:(arguments[0].text=I,arguments[0])};n.events.push(["preProcessText",C])})(At.API),At.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(u){s=u}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(u){l=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(At.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(I){c=I}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(I){f=I}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(I){p=I}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(I){w=I}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(I){_=I}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(I){v=I}});var C=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return C},set:function(I){C=I}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,f){r.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),w=f.font||this.getFont(),_=f.scaleFactor||this.internal.scaleFactor,v=0,C=0,I=0,N=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var L=f.maxWidth;L>0?typeof c=="string"?c=this.splitTextToSize(c,L):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(W,G){return W.concat(N.splitTextToSize(G,L))},[])):c=Array.isArray(c)?c:[c];for(var K=0;K<c.length;K++)v<(I=this.getStringUnitWidth(c[K],{font:w})*p)&&(v=I);return v!==0&&(C=c.length),{w:v/=_,h:Math.max((C*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/_,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=n.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=w.top,v&&_&&(this.printHeaderRow(c.lineNumber,!0),c.y+=_[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-p,c.y+p,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+p,{align:"center",baseline:"top",maxWidth:c.width-p-p}):this.text(c.text,c.x+p,c.y+p,{align:"left",baseline:"top",maxWidth:c.width-p-p})),this.internal.__cell__.lastCell=c,this};n.table=function(c,f,p,w,_){if(r.call(this),!p)throw new Error("No data for PDF table.");var v,C,I,N,L=[],K=[],W=[],G={},ie={},pe=[],q=[],R=(_=_||{}).autoSize||!1,k=_.printHeaders!==!1,U=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,P=_.margins||Object.assign({width:this.getPageWidth()},e),F=typeof _.padding=="number"?_.padding:3,O=_.headerBackgroundColor||"#c8c8c8",ae=_.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=ae,this.setFontSize(U),w==null)K=L=Object.keys(p[0]),W=L.map(function(){return"left"});else if(Array.isArray(w)&&Yn(w[0])==="object")for(L=w.map(function(ke){return ke.name}),K=w.map(function(ke){return ke.prompt||ke.name||""}),W=w.map(function(ke){return ke.align||"left"}),v=0;v<w.length;v+=1)ie[w[v].name]=.7499990551181103*w[v].width;else Array.isArray(w)&&typeof w[0]=="string"&&(K=L=w,W=L.map(function(){return"left"}));if(R||Array.isArray(w)&&typeof w[0]=="string")for(v=0;v<L.length;v+=1){for(G[N=L[v]]=p.map(function(ke){return ke[N]}),this.setFont(void 0,"bold"),pe.push(this.getTextDimensions(K[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),C=G[N],this.setFont(void 0,"normal"),I=0;I<C.length;I+=1)pe.push(this.getTextDimensions(C[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ie[N]=Math.max.apply(null,pe)+F+F,pe=[]}if(k){var Pe={};for(v=0;v<L.length;v+=1)Pe[L[v]]={},Pe[L[v]].text=K[v],Pe[L[v]].align=W[v];var Le=u.call(this,Pe,ie);q=L.map(function(ke){return new s(c,f,ie[ke],Le,Pe[ke].text,void 0,Pe[ke].align)}),this.setTableHeaderRow(q),this.printHeaderRow(1,!1)}var xe=w.reduce(function(ke,ne){return ke[ne.name]=ne.align,ke},{});for(v=0;v<p.length;v+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:v,data:p[v]},this);var le=u.call(this,p[v],ie);for(I=0;I<L.length;I+=1){var _e=p[v][L[I]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:v,col:I,data:_e},this),l.call(this,new s(c,f,ie[L[I]],le,_e,v+2,xe[L[I]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var u=function(c,f){var p=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(c).map(function(v){var C=c[v];return this.splitTextToSize(C.hasOwnProperty("text")?C.text:C,f[v]-p-p)},this).map(function(v){return this.getLineHeightFactor()*v.length*w/_+p+p},this).reduce(function(v,C){return Math.max(v,C)},0)};n.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){p=this.internal.__cell__.tableHeaderRow[v].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,_.push(p)),p.lineNumber=c;var C=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,p),this.setTextColor(C)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),t=!1}})(At.API);var vE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},wE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Y1=yE(wE),_E=[100,200,300,400,500,600,700,800,900],_j=yE(_E);function z0(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return vE[s=s||"normal"]?s:"normal"})(n.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(n.weight),i=(function(s){return typeof Y1[s=s||"normal"]=="number"?s:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function zb(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var bj={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},qb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $b(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Hb(n){return n.trimLeft()}function xj(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function Aj(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Tp,Wb,Gb,lh,Ip,Kb,Yb,Jb,q0=["times"];function Xb(n,e,t,r,i){var s=4,l=Zb;switch(i){case At.API.image_compression.FAST:s=1,l=Qb;break;case At.API.image_compression.MEDIUM:s=6,l=ex;break;case At.API.image_compression.SLOW:s=9,l=tx}n=(function(c,f,p,w){for(var _,v=c.length/f,C=new Uint8Array(c.length+v),I=[Sj,Qb,Zb,ex,tx],N=0;N<v;N+=1){var L=N*f,K=c.subarray(L,L+f);if(w)C.set(w(K,p,_),L+N);else{for(var W=I.length,G=[],ie=0;ie<W;ie+=1)G[ie]=I[ie](K,p,_);var pe=Tj(G.concat());C.set(G[pe],L+N)}_=K}return C})(n,e,Math.ceil(t*r/8),l);var u=z1(n,{level:s});return At.API.__addimage__.arrayBufferToBinaryString(u)}function Sj(n){var e=Array.apply([],n);return e.unshift(0),e}function Qb(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var s=n[i-e]||0;r[i+1]=n[i]-s+256&255}return r}function Zb(n,e,t){var r=n.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var l=t&&t[s]||0;i[s+1]=n[s]-l+256&255}return i}function ex(n,e,t){var r=n.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var l=n[s-e]||0,u=t&&t[s]||0;i[s+1]=n[s]+256-(l+u>>>1)&255}return i}function tx(n,e,t){var r=n.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var l=Ej(n[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=n[s]-l+256&255}return i}function Ej(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),s=Math.abs(n+e-t-t);return r<=i&&r<=s?n:i<=s?e:t}function Tj(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function $0(n,e,t){var r=e*t,i=Math.floor(r/8),s=16-(r-8*i+t),l=(1<<t)-1;return bE(n,i)>>s&l}function nx(n,e,t,r){var i=t*r,s=Math.floor(i/8),l=16-(i-8*s+r),u=(1<<r)-1,c=(e&u)<<l;(function(f,p,w){if(p+1<f.byteLength)f.setUint16(p,w,!1);else{var _=w>>8&255;f.setUint8(p,_)}})(n,s,bE(n,s)&~(u<<l)&65535|c)}function bE(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function Ij(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,l=1<<1+(7&i);n[e++],n[e++];var u=null,c=null;s&&(u=e,c=l,e+=3*l);var f=!0,p=[],w=0,_=null,v=0,C=null;for(this.width=t,this.height=r;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,C=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var I=n[e++];w=n[e++]|n[e++]<<8,_=n[e++],1&I||(_=null),v=I>>2&7,e++;break;case 254:for(;;){if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var N=n[e++]|n[e++]<<8,L=n[e++]|n[e++]<<8,K=n[e++]|n[e++]<<8,W=n[e++]|n[e++]<<8,G=n[e++],ie=G>>6&1,pe=1<<1+(7&G),q=u,R=c,k=!1;G>>7&&(k=!0,q=e,R=pe,e+=3*pe);var U=e;for(e++;;){var P;if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}p.push({x:N,y:L,width:K,height:W,has_local_palette:k,palette_offset:q,palette_size:R,data_offset:U,data_length:e-U,transparent_index:_,interlaced:!!ie,delay:w,disposal:v});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return C},this.frameInfo=function(F){if(F<0||F>=p.length)throw new Error("Frame index out of range.");return p[F]},this.decodeAndBlitFrameBGRA=function(F,O){var ae=this.frameInfo(F),Pe=ae.width*ae.height,Le=new Uint8Array(Pe);rx(n,ae.data_offset,Le,Pe);var xe=ae.palette_offset,le=ae.transparent_index;le===null&&(le=256);var _e=ae.width,ke=t-_e,ne=_e,M=4*(ae.y*t+ae.x),Q=4*((ae.y+ae.height)*t+ae.x),re=M,ue=4*ke;ae.interlaced===!0&&(ue+=4*t*7);for(var he=8,ve=0,Ee=Le.length;ve<Ee;++ve){var Te=Le[ve];if(ne===0&&(ne=_e,(re+=ue)>=Q&&(ue=4*ke+4*t*(he-1),re=M+(_e+ke)*(he<<1),he>>=1)),Te===le)re+=4;else{var Fe=n[xe+3*Te],He=n[xe+3*Te+1],nt=n[xe+3*Te+2];O[re++]=nt,O[re++]=He,O[re++]=Fe,O[re++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(F,O){var ae=this.frameInfo(F),Pe=ae.width*ae.height,Le=new Uint8Array(Pe);rx(n,ae.data_offset,Le,Pe);var xe=ae.palette_offset,le=ae.transparent_index;le===null&&(le=256);var _e=ae.width,ke=t-_e,ne=_e,M=4*(ae.y*t+ae.x),Q=4*((ae.y+ae.height)*t+ae.x),re=M,ue=4*ke;ae.interlaced===!0&&(ue+=4*t*7);for(var he=8,ve=0,Ee=Le.length;ve<Ee;++ve){var Te=Le[ve];if(ne===0&&(ne=_e,(re+=ue)>=Q&&(ue=4*ke+4*t*(he-1),re=M+(_e+ke)*(he<<1),he>>=1)),Te===le)re+=4;else{var Fe=n[xe+3*Te],He=n[xe+3*Te+1],nt=n[xe+3*Te+2];O[re++]=Fe,O[re++]=He,O[re++]=nt,O[re++]=255}--ne}}}function rx(n,e,t,r){for(var i=n[e++],s=1<<i,l=s+1,u=l+1,c=i+1,f=(1<<c)-1,p=0,w=0,_=0,v=n[e++],C=new Int32Array(4096),I=null;;){for(;p<16&&v!==0;)w|=n[e++]<<p,p+=8,v===1?v=n[e++]:--v;if(p<c)break;var N=w&f;if(w>>=c,p-=c,N!==s){if(N===l)break;for(var L=N<u?N:I,K=0,W=L;W>s;)W=C[W]>>8,++K;var G=W;if(_+K+(L!==N?1:0)>r)return void er.log("Warning, gif stream longer than expected.");t[_++]=G;var ie=_+=K;for(L!==N&&(t[_++]=G),W=L;K--;)W=C[W],t[--ie]=255&W,W>>=8;I!==null&&u<4096&&(C[u++]=I<<8|G,u>=f+1&&c<12&&(++c,f=f<<1|1)),I=N}else u=l+1,f=(1<<(c=i+1))-1,I=null}return _!==r&&er.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function H0(n){var e,t,r,i,s,l=Math.floor,u=new Array(64),c=new Array(64),f=new Array(64),p=new Array(64),w=new Array(65535),_=new Array(65535),v=new Array(64),C=new Array(64),I=[],N=0,L=7,K=new Array(64),W=new Array(64),G=new Array(64),ie=new Array(256),pe=new Array(2048),q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Le(M,Q){for(var re=0,ue=0,he=new Array,ve=1;ve<=16;ve++){for(var Ee=1;Ee<=M[ve];Ee++)he[Q[ue]]=[],he[Q[ue]][0]=re,he[Q[ue]][1]=ve,ue++,re++;re*=2}return he}function xe(M){for(var Q=M[0],re=M[1]-1;re>=0;)Q&1<<re&&(N|=1<<L),re--,--L<0&&(N==255?(le(255),le(0)):le(N),L=7,N=0)}function le(M){I.push(M)}function _e(M){le(M>>8&255),le(255&M)}function ke(M,Q,re,ue,he){for(var ve,Ee=he[0],Te=he[240],Fe=(function(Ye,lt){var Ze,qt,vt,cn,jt,mt,$t,kt,wt,Et,gt=0;for(wt=0;wt<8;++wt){Ze=Ye[gt],qt=Ye[gt+1],vt=Ye[gt+2],cn=Ye[gt+3],jt=Ye[gt+4],mt=Ye[gt+5],$t=Ye[gt+6];var bn=Ze+(kt=Ye[gt+7]),mn=Ze-kt,ht=qt+$t,Vt=qt-$t,An=vt+mt,Tt=vt-mt,en=cn+jt,Mt=cn-jt,Jn=bn+en,Nn=bn-en,hn=ht+An,Ct=ht-An;Ye[gt]=Jn+hn,Ye[gt+4]=Jn-hn;var rn=.707106781*(Ct+Nn);Ye[gt+2]=Nn+rn,Ye[gt+6]=Nn-rn;var Js=.382683433*((Jn=Mt+Tt)-(Ct=Vt+mn)),fr=.5411961*Jn+Js,Ss=1.306562965*Ct+Js,ti=.707106781*(hn=Tt+Vt),It=mn+ti,Rn=mn-ti;Ye[gt+5]=Rn+fr,Ye[gt+3]=Rn-fr,Ye[gt+1]=It+Ss,Ye[gt+7]=It-Ss,gt+=8}for(gt=0,wt=0;wt<8;++wt){Ze=Ye[gt],qt=Ye[gt+8],vt=Ye[gt+16],cn=Ye[gt+24],jt=Ye[gt+32],mt=Ye[gt+40],$t=Ye[gt+48];var Zi=Ze+(kt=Ye[gt+56]),dr=Ze-kt,ni=qt+$t,Mn=qt-$t,sr=vt+mt,qn=vt-mt,Xs=cn+jt,_o=cn-jt,Pi=Zi+Xs,Es=Zi-Xs,Er=ni+sr,fi=ni-sr;Ye[gt]=Pi+Er,Ye[gt+32]=Pi-Er;var pr=.707106781*(fi+Es);Ye[gt+16]=Es+pr,Ye[gt+48]=Es-pr;var bo=.382683433*((Pi=_o+qn)-(fi=Mn+dr)),es=.5411961*Pi+bo,Ls=1.306562965*fi+bo,Qs=.707106781*(Er=qn+Mn),xo=dr+Qs,Go=dr-Qs;Ye[gt+40]=Go+es,Ye[gt+24]=Go-es,Ye[gt+8]=xo+Ls,Ye[gt+56]=xo-Ls,gt++}for(wt=0;wt<64;++wt)Et=Ye[wt]*lt[wt],v[wt]=Et>0?Et+.5|0:Et-.5|0;return v})(M,Q),He=0;He<64;++He)C[q[He]]=Fe[He];var nt=C[0]-re;re=C[0],nt==0?xe(ue[0]):(xe(ue[_[ve=32767+nt]]),xe(w[ve]));for(var tt=63;tt>0&&C[tt]==0;)tt--;if(tt==0)return xe(Ee),re;for(var Me,se=1;se<=tt;){for(var nn=se;C[se]==0&&se<=tt;)++se;var zt=se-nn;if(zt>=16){Me=zt>>4;for(var St=1;St<=Me;++St)xe(Te);zt&=15}ve=32767+C[se],xe(he[(zt<<4)+_[ve]]),xe(w[ve]),se++}return tt!=63&&xe(Ee),re}function ne(M){M=Math.min(Math.max(M,1),100),s!=M&&((function(Q){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var he=l((re[ue]*Q+50)/100);he=Math.min(Math.max(he,1),255),u[q[ue]]=he}for(var ve=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ee=0;Ee<64;Ee++){var Te=l((ve[Ee]*Q+50)/100);Te=Math.min(Math.max(Te,1),255),c[q[Ee]]=Te}for(var Fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],He=0,nt=0;nt<8;nt++)for(var tt=0;tt<8;tt++)f[He]=1/(u[q[He]]*Fe[nt]*Fe[tt]*8),p[He]=1/(c[q[He]]*Fe[nt]*Fe[tt]*8),He++})(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,Q){Q&&ne(Q),I=new Array,N=0,L=7,_e(65496),_e(65504),_e(16),le(74),le(70),le(73),le(70),le(0),le(1),le(1),le(0),_e(1),_e(1),le(0),le(0),(function(){_e(65499),_e(132),le(0);for(var qt=0;qt<64;qt++)le(u[qt]);le(1);for(var vt=0;vt<64;vt++)le(c[vt])})(),(function(qt,vt){_e(65472),_e(17),le(8),_e(vt),_e(qt),le(3),le(1),le(17),le(0),le(2),le(17),le(1),le(3),le(17),le(1)})(M.width,M.height),(function(){_e(65476),_e(418),le(0);for(var qt=0;qt<16;qt++)le(R[qt+1]);for(var vt=0;vt<=11;vt++)le(k[vt]);le(16);for(var cn=0;cn<16;cn++)le(U[cn+1]);for(var jt=0;jt<=161;jt++)le(P[jt]);le(1);for(var mt=0;mt<16;mt++)le(F[mt+1]);for(var $t=0;$t<=11;$t++)le(O[$t]);le(17);for(var kt=0;kt<16;kt++)le(ae[kt+1]);for(var wt=0;wt<=161;wt++)le(Pe[wt])})(),_e(65498),_e(12),le(3),le(1),le(0),le(2),le(17),le(3),le(17),le(0),le(63),le(0);var re=0,ue=0,he=0;N=0,L=7,this.encode.displayName="_encode_";for(var ve,Ee,Te,Fe,He,nt,tt,Me,se,nn=M.data,zt=M.width,St=M.height,Ye=4*zt,lt=0;lt<St;){for(ve=0;ve<Ye;){for(He=Ye*lt+ve,tt=-1,Me=0,se=0;se<64;se++)nt=He+(Me=se>>3)*Ye+(tt=4*(7&se)),lt+Me>=St&&(nt-=Ye*(lt+1+Me-St)),ve+tt>=Ye&&(nt-=ve+tt-Ye+4),Ee=nn[nt++],Te=nn[nt++],Fe=nn[nt++],K[se]=(pe[Ee]+pe[Te+256|0]+pe[Fe+512|0]>>16)-128,W[se]=(pe[Ee+768|0]+pe[Te+1024|0]+pe[Fe+1280|0]>>16)-128,G[se]=(pe[Ee+1280|0]+pe[Te+1536|0]+pe[Fe+1792|0]>>16)-128;re=ke(K,f,re,e,r),ue=ke(W,p,ue,t,i),he=ke(G,p,he,t,i),ve+=32}lt+=8}if(L>=0){var Ze=[];Ze[1]=L+1,Ze[0]=(1<<L+1)-1,xe(Ze)}return _e(65497),new Uint8Array(I)},n=n||50,(function(){for(var M=String.fromCharCode,Q=0;Q<256;Q++)ie[Q]=M(Q)})(),e=Le(R,k),t=Le(F,O),r=Le(U,P),i=Le(ae,Pe),(function(){for(var M=1,Q=2,re=1;re<=15;re++){for(var ue=M;ue<Q;ue++)_[32767+ue]=re,w[32767+ue]=[],w[32767+ue][1]=re,w[32767+ue][0]=ue;for(var he=-(Q-1);he<=-M;he++)_[32767+he]=re,w[32767+he]=[],w[32767+he][1]=re,w[32767+he][0]=Q-1+he;M<<=1,Q<<=1}})(),(function(){for(var M=0;M<256;M++)pe[M]=19595*M,pe[M+256|0]=38470*M,pe[M+512|0]=7471*M+32768,pe[M+768|0]=-11059*M,pe[M+1024|0]=-21709*M,pe[M+1280|0]=32768*M+8421375,pe[M+1536|0]=-27439*M,pe[M+1792|0]=-5329*M})(),ne(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function fa(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ix(n){function e(k){if(!k)throw Error("assert :P")}function t(k,U,P){for(var F=0;4>F;F++)if(k[U+F]!=P.charCodeAt(F))return!0;return!1}function r(k,U,P,F,O){for(var ae=0;ae<O;ae++)k[U+ae]=P[F+ae]}function i(k,U,P,F){for(var O=0;O<F;O++)k[U+O]=P}function s(k){return new Int32Array(k)}function l(k,U){for(var P=[],F=0;F<k;F++)P.push(new U);return P}function u(k,U){var P=[];return(function F(O,ae,Pe){for(var Le=Pe[ae],xe=0;xe<Le&&(O.push(Pe.length>ae+1?[]:new U),!(Pe.length<ae+1));xe++)F(O[xe],ae+1,Pe)})(P,0,k),P}var c=function(){var k=this;function U(d,y){for(var A=1<<y-1>>>0;d&A;)A>>>=1;return A?(d&A-1)+A:d}function P(d,y,A,T,V){e(!(T%A));do d[y+(T-=A)]=V;while(0<T)}function F(d,y,A,T,V){if(e(2328>=V),512>=V)var z=s(512);else if((z=s(V))==null)return 0;return(function(H,Y,X,Z,fe,Se){var ee,me,Ae=Y,Ve=1<<X,Ne=s(16),Oe=s(16);for(e(fe!=0),e(Z!=null),e(H!=null),e(0<X),me=0;me<fe;++me){if(15<Z[me])return 0;++Ne[Z[me]]}if(Ne[0]==fe)return 0;for(Oe[1]=0,ee=1;15>ee;++ee){if(Ne[ee]>1<<ee)return 0;Oe[ee+1]=Oe[ee]+Ne[ee]}for(me=0;me<fe;++me)ee=Z[me],0<Z[me]&&(Se[Oe[ee]++]=me);if(Oe[15]==1)return(Z=new O).g=0,Z.value=Se[0],P(H,Ae,1,Ve,Z),Ve;var je,Be=-1,ze=Ve-1,_t=0,ot=1,Kt=1,ct=1<<X;for(me=0,ee=1,fe=2;ee<=X;++ee,fe<<=1){if(ot+=Kt<<=1,0>(Kt-=Ne[ee]))return 0;for(;0<Ne[ee];--Ne[ee])(Z=new O).g=ee,Z.value=Se[me++],P(H,Ae+_t,fe,ct,Z),_t=U(_t,ee)}for(ee=X+1,fe=2;15>=ee;++ee,fe<<=1){if(ot+=Kt<<=1,0>(Kt-=Ne[ee]))return 0;for(;0<Ne[ee];--Ne[ee]){if(Z=new O,(_t&ze)!=Be){for(Ae+=ct,je=1<<(Be=ee)-X;15>Be&&!(0>=(je-=Ne[Be]));)++Be,je<<=1;Ve+=ct=1<<(je=Be-X),H[Y+(Be=_t&ze)].g=je+X,H[Y+Be].value=Ae-Y-Be}Z.g=ee-X,Z.value=Se[me++],P(H,Ae+(_t>>X),fe,ct,Z),_t=U(_t,ee)}}return ot!=2*Oe[15]-1?0:Ve})(d,y,A,T,V,z)}function O(){this.value=this.g=0}function ae(){this.value=this.g=0}function Pe(){this.G=l(5,O),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(js,ae)}function Le(d,y,A,T){e(d!=null),e(y!=null),e(2147483648>T),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=y,d.pa=A,d.Jd=y,d.Yc=A+T,d.Zc=4<=T?A+T-4+1:A,Ee(d)}function xe(d,y){for(var A=0;0<y--;)A|=Fe(d,128)<<y;return A}function le(d,y){var A=xe(d,y);return Te(d)?-A:A}function _e(d,y,A,T){var V,z=0;for(e(d!=null),e(y!=null),e(4294967288>T),d.Sb=T,d.Ra=0,d.u=0,d.h=0,4<T&&(T=4),V=0;V<T;++V)z+=y[A+V]<<8*V;d.Ra=z,d.bb=T,d.oa=y,d.pa=A}function ke(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Na-8>>>0,++d.bb,d.u-=8;ue(d)&&(d.h=1,d.u=0)}function ne(d,y){if(e(0<=y),!d.h&&y<=Ps){var A=re(d)&Is[y];return d.u+=y,ke(d),A}return d.h=1,d.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function re(d){return d.Ra>>>(d.u&Na-1)>>>0}function ue(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Na}function he(d,y){d.u=y,d.h=ue(d)}function ve(d){d.u>=ko&&(e(d.u>=ko),ke(d))}function Ee(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function Te(d){return xe(d,1)}function Fe(d,y){var A=d.Ca;0>d.b&&Ee(d);var T=d.b,V=A*y>>>8,z=(d.I>>>T>V)+0;for(z?(A-=V,d.I-=V+1<<T>>>0):A=V+1,T=A,V=0;256<=T;)V+=8,T>>=8;return T=7^V+Zo[T],d.b-=T,d.Ca=(A<<T)-1,z}function He(d,y,A){d[y+0]=A>>24&255,d[y+1]=A>>16&255,d[y+2]=A>>8&255,d[y+3]=255&A}function nt(d,y){return d[y+0]|d[y+1]<<8}function tt(d,y){return nt(d,y)|d[y+2]<<16}function Me(d,y){return nt(d,y)|nt(d,y+2)<<16}function se(d,y){var A=1<<y;return e(d!=null),e(0<y),d.X=s(A),d.X==null?0:(d.Mb=32-y,d.Xa=y,1)}function nn(d,y){e(d!=null),e(y!=null),e(d.Xa==y.Xa),r(y.X,0,d.X,0,1<<y.Xa)}function zt(){this.X=[],this.Xa=this.Mb=0}function St(d,y,A,T){e(A!=null),e(T!=null);var V=A[0],z=T[0];return V==0&&(V=(d*z+y/2)/y),z==0&&(z=(y*V+d/2)/d),0>=V||0>=z?0:(A[0]=V,T[0]=z,1)}function Ye(d,y){return d+(1<<y)-1>>>y}function lt(d,y){return((4278255360&d)+(4278255360&y)>>>0&4278255360)+((16711935&d)+(16711935&y)>>>0&16711935)>>>0}function Ze(d,y){k[y]=function(A,T,V,z,H,Y,X){var Z;for(Z=0;Z<H;++Z){var fe=k[d](Y[X+Z-1],V,z+Z);Y[X+Z]=lt(A[T+Z],fe)}}}function qt(){this.ud=this.hd=this.jd=0}function vt(d,y){return((4278124286&(d^y))>>>1)+(d&y)>>>0}function cn(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function jt(d,y){return cn(d+(d-y+.5>>1))}function mt(d,y,A){return Math.abs(y-A)-Math.abs(d-A)}function $t(d,y,A,T,V,z,H){for(T=z[H-1],A=0;A<V;++A)z[H+A]=T=lt(d[y+A],T)}function kt(d,y,A,T,V){var z;for(z=0;z<A;++z){var H=d[y+z],Y=H>>8&255,X=16711935&(X=(X=16711935&H)+((Y<<16)+Y));T[V+z]=(4278255360&H)+X>>>0}}function wt(d,y){y.jd=255&d,y.hd=d>>8&255,y.ud=d>>16&255}function Et(d,y,A,T,V,z){var H;for(H=0;H<T;++H){var Y=y[A+H],X=Y>>>8,Z=Y,fe=255&(fe=(fe=Y>>>16)+((d.jd<<24>>24)*(X<<24>>24)>>>5));Z=255&(Z=(Z+=(d.hd<<24>>24)*(X<<24>>24)>>>5)+((d.ud<<24>>24)*(fe<<24>>24)>>>5)),V[z+H]=(4278255360&Y)+(fe<<16)+Z}}function gt(d,y,A,T,V){k[y]=function(z,H,Y,X,Z,fe,Se,ee,me){for(X=Se;X<ee;++X)for(Se=0;Se<me;++Se)Z[fe++]=V(Y[T(z[H++])])},k[d]=function(z,H,Y,X,Z,fe,Se){var ee=8>>z.b,me=z.Ea,Ae=z.K[0],Ve=z.w;if(8>ee)for(z=(1<<z.b)-1,Ve=(1<<ee)-1;H<Y;++H){var Ne,Oe=0;for(Ne=0;Ne<me;++Ne)Ne&z||(Oe=T(X[Z++])),fe[Se++]=V(Ae[Oe&Ve]),Oe>>=ee}else k["VP8LMapColor"+A](X,Z,Ae,Ve,fe,Se,H,Y,me)}}function bn(d,y,A,T,V){for(A=y+A;y<A;){var z=d[y++];T[V++]=z>>16&255,T[V++]=z>>8&255,T[V++]=255&z}}function mn(d,y,A,T,V){for(A=y+A;y<A;){var z=d[y++];T[V++]=z>>16&255,T[V++]=z>>8&255,T[V++]=255&z,T[V++]=z>>24&255}}function ht(d,y,A,T,V){for(A=y+A;y<A;){var z=(H=d[y++])>>16&240|H>>12&15,H=240&H|H>>28&15;T[V++]=z,T[V++]=H}}function Vt(d,y,A,T,V){for(A=y+A;y<A;){var z=(H=d[y++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;T[V++]=z,T[V++]=H}}function An(d,y,A,T,V){for(A=y+A;y<A;){var z=d[y++];T[V++]=255&z,T[V++]=z>>8&255,T[V++]=z>>16&255}}function Tt(d,y,A,T,V,z){if(z==0)for(A=y+A;y<A;)He(T,((z=d[y++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),V+=32;else r(T,V,d,y,A)}function en(d,y){k[y][0]=k[d+"0"],k[y][1]=k[d+"1"],k[y][2]=k[d+"2"],k[y][3]=k[d+"3"],k[y][4]=k[d+"4"],k[y][5]=k[d+"5"],k[y][6]=k[d+"6"],k[y][7]=k[d+"7"],k[y][8]=k[d+"8"],k[y][9]=k[d+"9"],k[y][10]=k[d+"10"],k[y][11]=k[d+"11"],k[y][12]=k[d+"12"],k[y][13]=k[d+"13"],k[y][14]=k[d+"0"],k[y][15]=k[d+"0"]}function Mt(d){return d==tu||d==vl||d==ec||d==tc}function Jn(){this.eb=[],this.size=this.A=this.fb=0}function Nn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function hn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Jn,this.f.kb=new Nn,this.sd=null}function Ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Js(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function fr(d,y){var A=d.T,T=y.ba.f.RGBA,V=T.eb,z=T.fb+d.ka*T.A,H=ls[y.ba.S],Y=d.y,X=d.O,Z=d.f,fe=d.N,Se=d.ea,ee=d.W,me=y.cc,Ae=y.dc,Ve=y.Mc,Ne=y.Nc,Oe=d.ka,je=d.ka+d.T,Be=d.U,ze=Be+1>>1;for(Oe==0?H(Y,X,null,null,Z,fe,Se,ee,Z,fe,Se,ee,V,z,null,null,Be):(H(y.ec,y.fc,Y,X,me,Ae,Ve,Ne,Z,fe,Se,ee,V,z-T.A,V,z,Be),++A);Oe+2<je;Oe+=2)me=Z,Ae=fe,Ve=Se,Ne=ee,fe+=d.Rc,ee+=d.Rc,z+=2*T.A,H(Y,(X+=2*d.fa)-d.fa,Y,X,me,Ae,Ve,Ne,Z,fe,Se,ee,V,z-T.A,V,z,Be);return X+=d.fa,d.j+je<d.o?(r(y.ec,y.fc,Y,X,Be),r(y.cc,y.dc,Z,fe,ze),r(y.Mc,y.Nc,Se,ee,ze),A--):1&je||H(Y,X,null,null,Z,fe,Se,ee,Z,fe,Se,ee,V,z+T.A,null,null,Be),A}function Ss(d,y,A){var T=d.F,V=[d.J];if(T!=null){var z=d.U,H=y.ba.S,Y=H==Zu||H==ec;y=y.ba.f.RGBA;var X=[0],Z=d.ka;X[0]=d.T,d.Kb&&(Z==0?--X[0]:(--Z,V[0]-=d.width),d.j+d.ka+d.T==d.o&&(X[0]=d.o-d.j-Z));var fe=y.eb;Z=y.fb+Z*y.A,d=Xu(T,V[0],d.width,z,X,fe,Z+(Y?0:3),y.A),e(A==X),d&&Mt(H)&&yl(fe,Z,Y,z,X,y.A)}return 0}function ti(d){var y=d.ma,A=y.ba.S,T=11>A,V=A==La||A==Qu||A==Zu||A==$n||A==12||Mt(A);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!Kl(y.Oa,d,V?11:12))return 0;if(V&&Mt(A)&&cl(),d.da)alert("todo:use_scaling");else{if(T){if(y.Ib=Js,d.Kb){if(A=d.U+1>>1,y.memory=s(d.U+2*A),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+d.U,y.Mc=y.cc,y.Nc=y.dc+A,y.Ib=fr,cl()}}else alert("todo:EmitYUV");V&&(y.Jb=Ss,T&&Xn())}if(T&&!Ai){for(d=0;256>d;++d)us[d]=89858*(d-128)+oo>>ra,cs[d]=-22014*(d-128)+oo,su[d]=-45773*(d-128),xl[d]=113618*(d-128)+oo>>ra;for(d=On;d<Un;++d)y=76283*(d-16)+oo>>ra,Hc[d-On]=sn(y,255),Ld[d-On]=sn(y+8>>4,15);Ai=1}return 1}function It(d){var y=d.ma,A=d.U,T=d.T;return e(!(1&d.ka)),0>=A||0>=T?0:(A=y.Ib(d,y),y.Jb!=null&&y.Jb(d,y,A),y.Dc+=A,1)}function Rn(d){d.ma.memory=null}function Zi(d,y,A,T){return ne(d,8)!=47?0:(y[0]=ne(d,14)+1,A[0]=ne(d,14)+1,T[0]=ne(d,1),ne(d,3)!=0?0:!d.h)}function dr(d,y){if(4>d)return d+1;var A=d-2>>1;return(2+(1&d)<<A)+ne(y,A)+1}function ni(d,y){return 120<y?y-120:1<=(A=((A=lg[y-1])>>4)*d+(8-(15&A)))?A:1;var A}function Mn(d,y,A){var T=re(A),V=d[y+=255&T].g-8;return 0<V&&(he(A,A.u+8),T=re(A),y+=d[y].value,y+=T&(1<<V)-1),he(A,A.u+d[y].g),d[y].value}function sr(d,y,A){return A.g+=d.g,A.value+=d.value<<y>>>0,e(8>=A.g),d.g}function qn(d,y,A){var T=d.xc;return e((y=T==0?0:d.vc[d.md*(A>>T)+(y>>T)])<d.Wb),d.Ya[y]}function Xs(d,y,A,T){var V=d.ab,z=d.c*y,H=d.C;y=H+y;var Y=A,X=T;for(T=d.Ta,A=d.Ua;0<V--;){var Z=d.gc[V],fe=H,Se=y,ee=Y,me=X,Ae=(X=T,Y=A,Z.Ea);switch(e(fe<Se),e(Se<=Z.nc),Z.hc){case 2:Tr(ee,me,(Se-fe)*Ae,X,Y);break;case 0:var Ve=fe,Ne=Se,Oe=X,je=Y,Be=(ct=Z).Ea;Ve==0&&(ea(ee,me,null,null,1,Oe,je),$t(ee,me+1,0,0,Be-1,Oe,je+1),me+=Be,je+=Be,++Ve);for(var ze=1<<ct.b,_t=ze-1,ot=Ye(Be,ct.b),Kt=ct.K,ct=ct.w+(Ve>>ct.b)*ot;Ve<Ne;){var dn=Kt,_r=ct,Jt=1;for(Co(ee,me,Oe,je-Be,1,Oe,je);Jt<Be;){var at=(Jt&~_t)+ze;at>Be&&(at=Be),(0,dl[dn[_r++]>>8&15])(ee,me+ +Jt,Oe,je+Jt-Be,at-Jt,Oe,je+Jt),Jt=at}me+=Be,je+=Be,++Ve&_t||(ct+=ot)}Se!=Z.nc&&r(X,Y-Ae,X,Y+(Se-fe-1)*Ae,Ae);break;case 1:for(Ae=ee,Ne=me,Be=(ee=Z.Ea)-(je=ee&~(Oe=(me=1<<Z.b)-1)),Ve=Ye(ee,Z.b),ze=Z.K,Z=Z.w+(fe>>Z.b)*Ve;fe<Se;){for(_t=ze,ot=Z,Kt=new qt,ct=Ne+je,dn=Ne+ee;Ne<ct;)wt(_t[ot++],Kt),Jl(Kt,Ae,Ne,me,X,Y),Ne+=me,Y+=me;Ne<dn&&(wt(_t[ot++],Kt),Jl(Kt,Ae,Ne,Be,X,Y),Ne+=Be,Y+=Be),++fe&Oe||(Z+=Ve)}break;case 3:if(ee==X&&me==Y&&0<Z.b){for(Ne=X,ee=Ae=Y+(Se-fe)*Ae-(je=(Se-fe)*Ye(Z.Ea,Z.b)),me=X,Oe=Y,Ve=[],je=(Be=je)-1;0<=je;--je)Ve[je]=me[Oe+je];for(je=Be-1;0<=je;--je)Ne[ee+je]=Ve[je];hl(Z,fe,Se,X,Ae,X,Y)}else hl(Z,fe,Se,ee,me,X,Y)}Y=T,X=A}X!=A&&r(T,A,Y,X,z)}function _o(d,y){var A=d.V,T=d.Ba+d.c*d.C,V=y-d.C;if(e(y<=d.l.o),e(16>=V),0<V){var z=d.l,H=d.Ta,Y=d.Ua,X=z.width;if(Xs(d,V,A,T),V=Y=[Y],e((A=d.C)<(T=y)),e(z.v<z.va),T>z.o&&(T=z.o),A<z.j){var Z=z.j-A;A=z.j,V[0]+=Z*X}if(A>=T?A=0:(V[0]+=4*z.v,z.ka=A-z.j,z.U=z.va-z.v,z.T=T-A,A=1),A){if(Y=Y[0],11>(A=d.ca).S){var fe=A.f.RGBA,Se=(T=A.S,V=z.U,z=z.T,Z=fe.eb,fe.A),ee=z;for(fe=fe.fb+d.Ma*fe.A;0<ee--;){var me=H,Ae=Y,Ve=V,Ne=Z,Oe=fe;switch(T){case Bc:Xl(me,Ae,Ve,Ne,Oe);break;case La:ta(me,Ae,Ve,Ne,Oe);break;case tu:ta(me,Ae,Ve,Ne,Oe),yl(Ne,Oe,0,Ve,1,0);break;case Pd:pl(me,Ae,Ve,Ne,Oe);break;case Qu:Tt(me,Ae,Ve,Ne,Oe,1);break;case vl:Tt(me,Ae,Ve,Ne,Oe,1),yl(Ne,Oe,0,Ve,1,0);break;case Zu:Tt(me,Ae,Ve,Ne,Oe,0);break;case ec:Tt(me,Ae,Ve,Ne,Oe,0),yl(Ne,Oe,1,Ve,1,0);break;case $n:ka(me,Ae,Ve,Ne,Oe);break;case tc:ka(me,Ae,Ve,Ne,Oe),Zh(Ne,Oe,Ve,1,0);break;case zc:Ca(me,Ae,Ve,Ne,Oe);break;default:e(0)}Y+=X,fe+=Se}d.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=A.height)}}d.C=y,e(d.C<=d.i)}function Pi(d){var y;if(0<d.ua)return 0;for(y=0;y<d.Wb;++y){var A=d.Ya[y].G,T=d.Ya[y].H;if(0<A[1][T[1]+0].g||0<A[2][T[2]+0].g||0<A[3][T[3]+0].g)return 0}return 1}function Es(d,y,A,T,V,z){if(d.Z!=0){var H=d.qd,Y=d.rd;for(e(Li[d.Z]!=null);y<A;++y)Li[d.Z](H,Y,T,V,T,V,z),H=T,Y=V,V+=z;d.qd=H,d.rd=Y}}function Er(d,y){var A=d.l.ma,T=A.Z==0||A.Z==1?d.l.j:d.C;if(T=d.C<T?T:d.C,e(y<=d.l.o),y>T){var V=d.l.width,z=A.ca,H=A.tb+V*T,Y=d.V,X=d.Ba+d.c*T,Z=d.gc;e(d.ab==1),e(Z[0].hc==3),io(Z[0],T,y,Y,X,z,H),Es(A,T,y,z,H,V)}d.C=d.Ma=y}function fi(d,y,A,T,V,z,H){var Y=d.$/T,X=d.$%T,Z=d.m,fe=d.s,Se=A+d.$,ee=Se;V=A+T*V;var me=A+T*z,Ae=280+fe.ua,Ve=d.Pb?Y:16777216,Ne=0<fe.ua?fe.Wa:null,Oe=fe.wc,je=Se<me?qn(fe,X,Y):null;e(d.C<z),e(me<=V);var Be=!1;e:for(;;){for(;Be||Se<me;){var ze=0;if(Y>=Ve){var _t=Se-A;e((Ve=d).Pb),Ve.wd=Ve.m,Ve.xd=_t,0<Ve.s.ua&&nn(Ve.s.Wa,Ve.s.vb),Ve=Y+$c}if(X&Oe||(je=qn(fe,X,Y)),e(je!=null),je.Qb&&(y[Se]=je.qb,Be=!0),!Be)if(ve(Z),je.jc){ze=Z,_t=y;var ot=Se,Kt=je.pd[re(ze)&js-1];e(je.jc),256>Kt.g?(he(ze,ze.u+Kt.g),_t[ot]=Kt.value,ze=0):(he(ze,ze.u+Kt.g-256),e(256<=Kt.value),ze=Kt.value),ze==0&&(Be=!0)}else ze=Mn(je.G[0],je.H[0],Z);if(Z.h)break;if(Be||256>ze){if(!Be)if(je.nd)y[Se]=(je.qb|ze<<8)>>>0;else{if(ve(Z),Be=Mn(je.G[1],je.H[1],Z),ve(Z),_t=Mn(je.G[2],je.H[2],Z),ot=Mn(je.G[3],je.H[3],Z),Z.h)break;y[Se]=(ot<<24|Be<<16|ze<<8|_t)>>>0}if(Be=!1,++Se,++X>=T&&(X=0,++Y,H!=null&&Y<=z&&!(Y%16)&&H(d,Y),Ne!=null))for(;ee<Se;)ze=y[ee++],Ne.X[(506832829*ze&4294967295)>>>Ne.Mb]=ze}else if(280>ze){if(ze=dr(ze-256,Z),_t=Mn(je.G[4],je.H[4],Z),ve(Z),_t=ni(T,_t=dr(_t,Z)),Z.h)break;if(Se-A<_t||V-Se<ze)break e;for(ot=0;ot<ze;++ot)y[Se+ot]=y[Se+ot-_t];for(Se+=ze,X+=ze;X>=T;)X-=T,++Y,H!=null&&Y<=z&&!(Y%16)&&H(d,Y);if(e(Se<=V),X&Oe&&(je=qn(fe,X,Y)),Ne!=null)for(;ee<Se;)ze=y[ee++],Ne.X[(506832829*ze&4294967295)>>>Ne.Mb]=ze}else{if(!(ze<Ae))break e;for(Be=ze-280,e(Ne!=null);ee<Se;)ze=y[ee++],Ne.X[(506832829*ze&4294967295)>>>Ne.Mb]=ze;ze=Se,e(!(Be>>>(_t=Ne).Xa)),y[ze]=_t.X[Be],Be=!0}Be||e(Z.h==ue(Z))}if(d.Pb&&Z.h&&Se<V)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&nn(d.s.vb,d.s.Wa);else{if(Z.h)break e;H!=null&&H(d,Y>z?z:Y),d.a=0,d.$=Se-A}return 1}return d.a=3,0}function pr(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var y=d.Wa;y!=null&&(y.X=null),d.vb=null,e(d!=null)}function bo(){var d=new ft;return d==null?null:(d.a=0,d.xb=ru,en("Predictor","VP8LPredictors"),en("Predictor","VP8LPredictors_C"),en("PredictorAdd","VP8LPredictorsAdd"),en("PredictorAdd","VP8LPredictorsAdd_C"),Tr=kt,Jl=Et,Xl=bn,ta=mn,ka=ht,Ca=Vt,pl=An,k.VP8LMapColor32b=Ro,k.VP8LMapColor8b=fl,d)}function es(d,y,A,T,V){var z=1,H=[d],Y=[y],X=T.m,Z=T.s,fe=null,Se=0;e:for(;;){if(A)for(;z&&ne(X,1);){var ee=H,me=Y,Ae=T,Ve=1,Ne=Ae.m,Oe=Ae.gc[Ae.ab],je=ne(Ne,2);if(Ae.Oc&1<<je)z=0;else{switch(Ae.Oc|=1<<je,Oe.hc=je,Oe.Ea=ee[0],Oe.nc=me[0],Oe.K=[null],++Ae.ab,e(4>=Ae.ab),je){case 0:case 1:Oe.b=ne(Ne,3)+2,Ve=es(Ye(Oe.Ea,Oe.b),Ye(Oe.nc,Oe.b),0,Ae,Oe.K),Oe.K=Oe.K[0];break;case 3:var Be,ze=ne(Ne,8)+1,_t=16<ze?0:4<ze?1:2<ze?2:3;if(ee[0]=Ye(Oe.Ea,_t),Oe.b=_t,Be=Ve=es(ze,1,0,Ae,Oe.K)){var ot,Kt=ze,ct=Oe,dn=1<<(8>>ct.b),_r=s(dn);if(_r==null)Be=0;else{var Jt=ct.K[0],at=ct.w;for(_r[0]=ct.K[0][0],ot=1;ot<1*Kt;++ot)_r[ot]=lt(Jt[at+ot],_r[ot-1]);for(;ot<4*dn;++ot)_r[ot]=0;ct.K[0]=null,ct.K[0]=_r,Be=1}}Ve=Be;break;case 2:break;default:e(0)}z=Ve}}if(H=H[0],Y=Y[0],z&&ne(X,1)&&!(z=1<=(Se=ne(X,4))&&11>=Se)){T.a=3;break e}var et;if(et=z)t:{var Ir,Ut,ln,Qn=T,si=H,jr=Y,ur=Se,Wr=A,oi=Qn.m,nr=Qn.s,yn=[null],Tn=1,rr=0,In=kd[ur];n:for(;;){if(Wr&&ne(oi,1)){var br=ne(oi,3)+2,xr=Ye(si,br),Hn=Ye(jr,br),Di=xr*Hn;if(!es(xr,Hn,0,Qn,yn))break n;for(yn=yn[0],nr.xc=br,Ir=0;Ir<Di;++Ir){var Bn=yn[Ir]>>8&65535;yn[Ir]=Bn,Bn>=Tn&&(Tn=Bn+1)}}if(oi.h)break n;for(Ut=0;5>Ut;++Ut){var Wn=wl[Ut];!Ut&&0<ur&&(Wn+=1<<ur),rr<Wn&&(rr=Wn)}var Vr=l(Tn*In,O),Si=Tn,hs=l(Si,Pe);if(hs==null)var Pr=null;else e(65536>=Si),Pr=hs;var Nr=s(rr);if(Pr==null||Nr==null||Vr==null){Qn.a=1;break n}var Oi=Vr;for(Ir=ln=0;Ir<Tn;++Ir){var Gn=Pr[Ir],Mi=Gn.G,Bs=Gn.H,ao=0,ai=1,kr=0;for(Ut=0;5>Ut;++Ut){Wn=wl[Ut],Mi[Ut]=Oi,Bs[Ut]=ln,!Ut&&0<ur&&(Wn+=1<<ur);i:{var Ma,sa=Wn,ou=Qn,Oo=Nr,Od=Oi,ff=ln,Zn=0,lo=ou.m,df=ne(lo,1);if(i(Oo,0,0,sa),df){var pf=ne(lo,1)+1,Wc=ne(lo,1),Gc=ne(lo,Wc==0?1:8);Oo[Gc]=1,pf==2&&(Oo[Gc=ne(lo,8)]=1);var Mo=1}else{var ir=s(19),Ur=ne(lo,4)+4;if(19<Ur){ou.a=3;var Cr=0;break i}for(Ma=0;Ma<Ur;++Ma)ir[ag[Ma]]=ne(lo,3);var au=void 0,oa=void 0,lu=ou,dg=ir,Gr=sa,Kc=Oo,oc=0,Fo=lu.m,uo=8,Ns=l(128,O);r:for(;F(Ns,0,7,dg,19);){if(ne(Fo,1)){var ac=2+2*ne(Fo,3);if((au=2+ne(Fo,ac))>Gr)break r}else au=Gr;for(oa=0;oa<Gr&&au--;){ve(Fo);var Yc=Ns[0+(127&re(Fo))];he(Fo,Fo.u+Yc.g);var Fa=Yc.value;if(16>Fa)Kc[oa++]=Fa,Fa!=0&&(uo=Fa);else{var Md=Fa==16,mf=Fa-16,Fd=qc[mf],gf=ne(Fo,nc[mf])+Fd;if(oa+gf>Gr)break r;for(var jd=Md?uo:0;0<gf--;)Kc[oa++]=jd}}oc=1;break r}oc||(lu.a=3),Mo=oc}(Mo=Mo&&!lo.h)&&(Zn=F(Od,ff,8,Oo,sa)),Mo&&Zn!=0?Cr=Zn:(ou.a=3,Cr=0)}if(Cr==0)break n;if(ai&&Nd[Ut]==1&&(ai=Oi[ln].g==0),ao+=Oi[ln].g,ln+=Cr,3>=Ut){var uu,Jc=Nr[0];for(uu=1;uu<Wn;++uu)Nr[uu]>Jc&&(Jc=Nr[uu]);kr+=Jc}}if(Gn.nd=ai,Gn.Qb=0,ai&&(Gn.qb=(Mi[3][Bs[3]+0].value<<24|Mi[1][Bs[1]+0].value<<16|Mi[2][Bs[2]+0].value)>>>0,ao==0&&256>Mi[0][Bs[0]+0].value&&(Gn.Qb=1,Gn.qb+=Mi[0][Bs[0]+0].value<<8)),Gn.jc=!Gn.Qb&&6>kr,Gn.jc){var lc,ks=Gn;for(lc=0;lc<js;++lc){var aa=lc,co=ks.pd[aa],Sl=ks.G[0][ks.H[0]+aa];256<=Sl.value?(co.g=Sl.g+256,co.value=Sl.value):(co.g=0,co.value=0,aa>>=sr(Sl,8,co),aa>>=sr(ks.G[1][ks.H[1]+aa],16,co),aa>>=sr(ks.G[2][ks.H[2]+aa],0,co),sr(ks.G[3][ks.H[3]+aa],24,co))}}}nr.vc=yn,nr.Wb=Tn,nr.Ya=Pr,nr.yc=Vr,et=1;break t}et=0}if(!(z=et)){T.a=3;break e}if(0<Se){if(Z.ua=1<<Se,!se(Z.Wa,Se)){T.a=1,z=0;break e}}else Z.ua=0;var Xc=T,Qc=H,Vd=Y,Zc=Xc.s,eh=Zc.xc;if(Xc.c=Qc,Xc.i=Vd,Zc.md=Ye(Qc,eh),Zc.wc=eh==0?-1:(1<<eh)-1,A){T.xb=Do;break e}if((fe=s(H*Y))==null){T.a=1,z=0;break e}z=(z=fi(T,fe,0,H,Y,Y,null))&&!X.h;break e}return z?(V!=null?V[0]=fe:(e(fe==null),e(A)),T.$=0,A||pr(Z)):pr(Z),z}function Ls(d,y){var A=d.c*d.i,T=A+y+16*y;return e(d.c<=y),d.V=s(T),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+A+y,1)}function Qs(d,y){var A=d.C,T=y-A,V=d.V,z=d.Ba+d.c*A;for(e(y<=d.l.o);0<T;){var H=16<T?16:T,Y=d.l.ma,X=d.l.width,Z=X*H,fe=Y.ca,Se=Y.tb+X*A,ee=d.Ta,me=d.Ua;Xs(d,H,V,z),ef(ee,me,fe,Se,Z),Es(Y,A,A+H,fe,Se,X),T-=H,V+=H*d.c,A+=H}e(A==y),d.C=d.Ma=y}function xo(){this.ub=this.yd=this.td=this.Rb=0}function Go(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Gu(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function kn(){this.Yb=(function(){var d=[];return(function y(A,T,V){for(var z=V[T],H=0;H<z&&(A.push(V.length>T+1?[]:0),!(V.length<T+1));H++)y(A[H],T+1,V)})(d,0,[3,11]),d})()}function sl(){this.jb=s(3),this.Wc=u([4,8],kn),this.Xc=u([4,17],kn)}function Ao(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function $r(){this.ld=this.La=this.dd=this.tc=0}function Ni(){this.Na=this.la=0}function ba(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xa(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function So(){this.uc=this.M=this.Nb=0,this.wa=Array(new $r),this.Y=0,this.ya=Array(new xa),this.aa=0,this.l=new Or}function ki(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ol(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new xo,this.Kc=new Go,this.ed=new Ao,this.Qa=new Gu,this.Ic=this.$c=this.Aa=0,this.D=new So,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,M),this.ia=0,this.pb=l(4,ba),this.Pa=new sl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ki),this.Hd=0,this.rb=Array(new Ni),this.sb=0,this.wa=Array(new $r),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xa),this.L=this.aa=0,this.gd=u([4,2],$r),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Or(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function al(){var d=new ol;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,_l||(_l=ts)),d}function or(d,y,A){return d.a==0&&(d.a=y,d.sc=A,d.cb=0),0}function ll(d,y,A){return 3<=A&&d[y+0]==157&&d[y+1]==1&&d[y+2]==42}function Ko(d,y){if(d==null)return 0;if(d.a=0,d.sc="OK",y==null)return or(d,2,"null VP8Io passed to VP8GetHeaders()");var A=y.data,T=y.w,V=y.ha;if(4>V)return or(d,7,"Truncated header.");var z=A[T+0]|A[T+1]<<8|A[T+2]<<16,H=d.Od;if(H.Rb=!(1&z),H.td=z>>1&7,H.yd=z>>4&1,H.ub=z>>5,3<H.td)return or(d,3,"Incorrect keyframe parameters.");if(!H.yd)return or(d,4,"Frame not displayable.");T+=3,V-=3;var Y=d.Kc;if(H.Rb){if(7>V)return or(d,7,"cannot parse picture header");if(!ll(A,T,V))return or(d,3,"Bad code word");Y.c=16383&(A[T+4]<<8|A[T+3]),Y.Td=A[T+4]>>6,Y.i=16383&(A[T+6]<<8|A[T+5]),Y.Ud=A[T+6]>>6,T+=7,V-=7,d.za=Y.c+15>>4,d.Ub=Y.i+15>>4,y.width=Y.c,y.height=Y.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,i((z=d.Pa).jb,0,255,z.jb.length),e((z=d.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,i(z.Zb,0,0,z.Zb.length),i(z.Lb,0,0,z.Lb)}if(H.ub>V)return or(d,7,"bad partition length");Le(z=d.m,A,T,H.ub),T+=H.ub,V-=H.ub,H.Rb&&(Y.Ld=Te(z),Y.Kd=Te(z)),Y=d.Qa;var X,Z=d.Pa;if(e(z!=null),e(Y!=null),Y.Cb=Te(z),Y.Cb){if(Y.Bb=Te(z),Te(z)){for(Y.Fb=Te(z),X=0;4>X;++X)Y.Zb[X]=Te(z)?le(z,7):0;for(X=0;4>X;++X)Y.Lb[X]=Te(z)?le(z,6):0}if(Y.Bb)for(X=0;3>X;++X)Z.jb[X]=Te(z)?xe(z,8):255}else Y.Bb=0;if(z.Ka)return or(d,3,"cannot parse segment header");if((Y=d.ed).zd=Te(z),Y.Tb=xe(z,6),Y.wb=xe(z,3),Y.Pc=Te(z),Y.Pc&&Te(z)){for(Z=0;4>Z;++Z)Te(z)&&(Y.vd[Z]=le(z,6));for(Z=0;4>Z;++Z)Te(z)&&(Y.od[Z]=le(z,6))}if(d.L=Y.Tb==0?0:Y.zd?1:2,z.Ka)return or(d,3,"cannot parse filter header");var fe=V;if(V=X=T,T=X+fe,Y=fe,d.Xb=(1<<xe(d.m,2))-1,fe<3*(Z=d.Xb))A=7;else{for(X+=3*Z,Y-=3*Z,fe=0;fe<Z;++fe){var Se=A[V+0]|A[V+1]<<8|A[V+2]<<16;Se>Y&&(Se=Y),Le(d.Jc[+fe],A,X,Se),X+=Se,Y-=Se,V+=3}Le(d.Jc[+Z],A,X,Y),A=X<T?0:5}if(A!=0)return or(d,A,"cannot parse partitions");for(A=xe(X=d.m,7),V=Te(X)?le(X,4):0,T=Te(X)?le(X,4):0,Y=Te(X)?le(X,4):0,Z=Te(X)?le(X,4):0,X=Te(X)?le(X,4):0,fe=d.Qa,Se=0;4>Se;++Se){if(fe.Cb){var ee=fe.Zb[Se];fe.Fb||(ee+=A)}else{if(0<Se){d.pb[Se]=d.pb[0];continue}ee=A}var me=d.pb[Se];me.Sc[0]=nu[sn(ee+V,127)],me.Sc[1]=rc[sn(ee+0,127)],me.Eb[0]=2*nu[sn(ee+T,127)],me.Eb[1]=101581*rc[sn(ee+Y,127)]>>16,8>me.Eb[1]&&(me.Eb[1]=8),me.Qc[0]=nu[sn(ee+Z,117)],me.Qc[1]=rc[sn(ee+X,127)],me.lc=ee+X}if(!H.Rb)return or(d,4,"Not a key frame.");for(Te(z),H=d.Pa,A=0;4>A;++A){for(V=0;8>V;++V)for(T=0;3>T;++T)for(Y=0;11>Y;++Y)Z=Fe(z,cg[A][V][T][Y])?xe(z,8):Rd[A][V][T][Y],H.Wc[A][V].Yb[T][Y]=Z;for(V=0;17>V;++V)H.Xc[A][V]=H.Wc[A][uf[V]]}return d.kc=Te(z),d.kc&&(d.Bd=xe(z,8)),d.cb=1}function ts(d,y,A,T,V,z,H){var Y=y[V].Yb[A];for(A=0;16>V;++V){if(!Fe(d,Y[A+0]))return V;for(;!Fe(d,Y[A+1]);)if(Y=y[++V].Yb[0],A=0,V==16)return 16;var X=y[V+1].Yb;if(Fe(d,Y[A+2])){var Z=d,fe=0;if(Fe(Z,(ee=Y)[(Se=A)+3]))if(Fe(Z,ee[Se+6])){for(Y=0,Se=2*(fe=Fe(Z,ee[Se+8]))+(ee=Fe(Z,ee[Se+9+fe])),fe=0,ee=af[Se];ee[Y];++Y)fe+=fe+Fe(Z,ee[Y]);fe+=3+(8<<Se)}else Fe(Z,ee[Se+7])?(fe=7+2*Fe(Z,165),fe+=Fe(Z,145)):fe=5+Fe(Z,159);else fe=Fe(Z,ee[Se+4])?3+Fe(Z,ee[Se+5]):2;Y=X[2]}else fe=1,Y=X[1];X=H+lf[V],0>(Z=d).b&&Ee(Z);var Se,ee=Z.b,me=(Se=Z.Ca>>1)-(Z.I>>ee)>>31;--Z.b,Z.Ca+=me,Z.Ca|=1,Z.I-=(Se+1&me)<<ee,z[X]=((fe^me)-me)*T[(0<V)+0]}return 16}function ns(d){var y=d.rb[d.sb-1];y.la=0,y.Na=0,i(d.zc,0,0,d.zc.length),d.ja=0}function di(d,y,A,T,V){V=d[y+A+32*T]+(V>>3),d[y+A+32*T]=-256&V?0>V?0:255:V}function Yo(d,y,A,T,V,z){di(d,y,0,A,T+V),di(d,y,1,A,T+z),di(d,y,2,A,T-z),di(d,y,3,A,T-V)}function Ln(d){return(20091*d>>16)+d}function pi(d,y,A,T){var V,z=0,H=s(16);for(V=0;4>V;++V){var Y=d[y+0]+d[y+8],X=d[y+0]-d[y+8],Z=(35468*d[y+4]>>16)-Ln(d[y+12]),fe=Ln(d[y+4])+(35468*d[y+12]>>16);H[z+0]=Y+fe,H[z+1]=X+Z,H[z+2]=X-Z,H[z+3]=Y-fe,z+=4,y++}for(V=z=0;4>V;++V)Y=(d=H[z+0]+4)+H[z+8],X=d-H[z+8],Z=(35468*H[z+4]>>16)-Ln(H[z+12]),di(A,T,0,0,Y+(fe=Ln(H[z+4])+(35468*H[z+12]>>16))),di(A,T,1,0,X+Z),di(A,T,2,0,X-Z),di(A,T,3,0,Y-fe),z++,T+=32}function Jo(d,y,A,T){var V=d[y+0]+4,z=35468*d[y+4]>>16,H=Ln(d[y+4]),Y=35468*d[y+1]>>16;Yo(A,T,0,V+H,d=Ln(d[y+1]),Y),Yo(A,T,1,V+z,d,Y),Yo(A,T,2,V-z,d,Y),Yo(A,T,3,V-H,d,Y)}function Eo(d,y,A,T,V){pi(d,y,A,T),V&&pi(d,y+16,A,T+4)}function To(d,y,A,T){ml(d,y+0,A,T,1),ml(d,y+32,A,T+128,1)}function fn(d,y,A,T){var V;for(d=d[y+0]+4,V=0;4>V;++V)for(y=0;4>y;++y)di(A,T,y,V,d)}function Zs(d,y,A,T){d[y+0]&&En(d,y+0,A,T),d[y+16]&&En(d,y+16,A,T+4),d[y+32]&&En(d,y+32,A,T+128),d[y+48]&&En(d,y+48,A,T+128+4)}function on(d,y,A,T){var V,z=s(16);for(V=0;4>V;++V){var H=d[y+0+V]+d[y+12+V],Y=d[y+4+V]+d[y+8+V],X=d[y+4+V]-d[y+8+V],Z=d[y+0+V]-d[y+12+V];z[0+V]=H+Y,z[8+V]=H-Y,z[4+V]=Z+X,z[12+V]=Z-X}for(V=0;4>V;++V)H=(d=z[0+4*V]+3)+z[3+4*V],Y=z[1+4*V]+z[2+4*V],X=z[1+4*V]-z[2+4*V],Z=d-z[3+4*V],A[T+0]=H+Y>>3,A[T+16]=Z+X>>3,A[T+32]=H-Y>>3,A[T+48]=Z-X>>3,T+=64}function Bi(d,y,A){var T,V=y-32,z=$i,H=255-d[V-1];for(T=0;T<A;++T){var Y,X=z,Z=H+d[y-1];for(Y=0;Y<A;++Y)d[y+Y]=X[Z+d[V+Y]];y+=32}}function Aa(d,y){Bi(d,y,4)}function Sa(d,y){Bi(d,y,8)}function $l(d,y){Bi(d,y,16)}function Hl(d,y){var A;for(A=0;16>A;++A)r(d,y+32*A,d,y-32,16)}function Ea(d,y){var A;for(A=16;0<A;--A)i(d,y,d[y-1],16),y+=32}function eo(d,y,A){var T;for(T=0;16>T;++T)i(y,A+32*T,d,16)}function mi(d,y){var A,T=16;for(A=0;16>A;++A)T+=d[y-1+32*A]+d[y+A-32];eo(T>>5,d,y)}function Hr(d,y){var A,T=8;for(A=0;16>A;++A)T+=d[y-1+32*A];eo(T>>4,d,y)}function gi(d,y){var A,T=8;for(A=0;16>A;++A)T+=d[y+A-32];eo(T>>4,d,y)}function zi(d,y){eo(128,d,y)}function Pt(d,y,A){return d+2*y+A+2>>2}function rs(d,y){var A,T=y-32;for(T=new Uint8Array([Pt(d[T-1],d[T+0],d[T+1]),Pt(d[T+0],d[T+1],d[T+2]),Pt(d[T+1],d[T+2],d[T+3]),Pt(d[T+2],d[T+3],d[T+4])]),A=0;4>A;++A)r(d,y+32*A,T,0,T.length)}function Ds(d,y){var A=d[y-1],T=d[y-1+32],V=d[y-1+64],z=d[y-1+96];He(d,y+0,16843009*Pt(d[y-1-32],A,T)),He(d,y+32,16843009*Pt(A,T,V)),He(d,y+64,16843009*Pt(T,V,z)),He(d,y+96,16843009*Pt(V,z,z))}function Ku(d,y){var A,T=4;for(A=0;4>A;++A)T+=d[y+A-32]+d[y-1+32*A];for(T>>=3,A=0;4>A;++A)i(d,y+32*A,T,4)}function Wl(d,y){var A=d[y-1+0],T=d[y-1+32],V=d[y-1+64],z=d[y-1-32],H=d[y+0-32],Y=d[y+1-32],X=d[y+2-32],Z=d[y+3-32];d[y+0+96]=Pt(T,V,d[y-1+96]),d[y+1+96]=d[y+0+64]=Pt(A,T,V),d[y+2+96]=d[y+1+64]=d[y+0+32]=Pt(z,A,T),d[y+3+96]=d[y+2+64]=d[y+1+32]=d[y+0+0]=Pt(H,z,A),d[y+3+64]=d[y+2+32]=d[y+1+0]=Pt(Y,H,z),d[y+3+32]=d[y+2+0]=Pt(X,Y,H),d[y+3+0]=Pt(Z,X,Y)}function mr(d,y){var A=d[y+1-32],T=d[y+2-32],V=d[y+3-32],z=d[y+4-32],H=d[y+5-32],Y=d[y+6-32],X=d[y+7-32];d[y+0+0]=Pt(d[y+0-32],A,T),d[y+1+0]=d[y+0+32]=Pt(A,T,V),d[y+2+0]=d[y+1+32]=d[y+0+64]=Pt(T,V,z),d[y+3+0]=d[y+2+32]=d[y+1+64]=d[y+0+96]=Pt(V,z,H),d[y+3+32]=d[y+2+64]=d[y+1+96]=Pt(z,H,Y),d[y+3+64]=d[y+2+96]=Pt(H,Y,X),d[y+3+96]=Pt(Y,X,X)}function to(d,y){var A=d[y-1+0],T=d[y-1+32],V=d[y-1+64],z=d[y-1-32],H=d[y+0-32],Y=d[y+1-32],X=d[y+2-32],Z=d[y+3-32];d[y+0+0]=d[y+1+64]=z+H+1>>1,d[y+1+0]=d[y+2+64]=H+Y+1>>1,d[y+2+0]=d[y+3+64]=Y+X+1>>1,d[y+3+0]=X+Z+1>>1,d[y+0+96]=Pt(V,T,A),d[y+0+64]=Pt(T,A,z),d[y+0+32]=d[y+1+96]=Pt(A,z,H),d[y+1+32]=d[y+2+96]=Pt(z,H,Y),d[y+2+32]=d[y+3+96]=Pt(H,Y,X),d[y+3+32]=Pt(Y,X,Z)}function Gl(d,y){var A=d[y+0-32],T=d[y+1-32],V=d[y+2-32],z=d[y+3-32],H=d[y+4-32],Y=d[y+5-32],X=d[y+6-32],Z=d[y+7-32];d[y+0+0]=A+T+1>>1,d[y+1+0]=d[y+0+64]=T+V+1>>1,d[y+2+0]=d[y+1+64]=V+z+1>>1,d[y+3+0]=d[y+2+64]=z+H+1>>1,d[y+0+32]=Pt(A,T,V),d[y+1+32]=d[y+0+96]=Pt(T,V,z),d[y+2+32]=d[y+1+96]=Pt(V,z,H),d[y+3+32]=d[y+2+96]=Pt(z,H,Y),d[y+3+64]=Pt(H,Y,X),d[y+3+96]=Pt(Y,X,Z)}function no(d,y){var A=d[y-1+0],T=d[y-1+32],V=d[y-1+64],z=d[y-1+96];d[y+0+0]=A+T+1>>1,d[y+2+0]=d[y+0+32]=T+V+1>>1,d[y+2+32]=d[y+0+64]=V+z+1>>1,d[y+1+0]=Pt(A,T,V),d[y+3+0]=d[y+1+32]=Pt(T,V,z),d[y+3+32]=d[y+1+64]=Pt(V,z,z),d[y+3+64]=d[y+2+64]=d[y+0+96]=d[y+1+96]=d[y+2+96]=d[y+3+96]=z}function Os(d,y){var A=d[y-1+0],T=d[y-1+32],V=d[y-1+64],z=d[y-1+96],H=d[y-1-32],Y=d[y+0-32],X=d[y+1-32],Z=d[y+2-32];d[y+0+0]=d[y+2+32]=A+H+1>>1,d[y+0+32]=d[y+2+64]=T+A+1>>1,d[y+0+64]=d[y+2+96]=V+T+1>>1,d[y+0+96]=z+V+1>>1,d[y+3+0]=Pt(Y,X,Z),d[y+2+0]=Pt(H,Y,X),d[y+1+0]=d[y+3+32]=Pt(A,H,Y),d[y+1+32]=d[y+3+64]=Pt(T,A,H),d[y+1+64]=d[y+3+96]=Pt(V,T,A),d[y+1+96]=Pt(z,V,T)}function Ta(d,y){var A;for(A=0;8>A;++A)r(d,y+32*A,d,y-32,8)}function yi(d,y){var A;for(A=0;8>A;++A)i(d,y,d[y-1],8),y+=32}function Ci(d,y,A){var T;for(T=0;8>T;++T)i(y,A+32*T,d,8)}function is(d,y){var A,T=8;for(A=0;8>A;++A)T+=d[y+A-32]+d[y-1+32*A];Ci(T>>4,d,y)}function Io(d,y){var A,T=4;for(A=0;8>A;++A)T+=d[y+A-32];Ci(T>>3,d,y)}function Fn(d,y){var A,T=4;for(A=0;8>A;++A)T+=d[y-1+32*A];Ci(T>>3,d,y)}function ul(d,y){Ci(128,d,y)}function ro(d,y,A){var T=d[y-A],V=d[y+0],z=3*(V-T)+Lo[1020+d[y-2*A]-d[y+A]],H=eu[112+(z+4>>3)];d[y-A]=$i[255+T+eu[112+(z+3>>3)]],d[y+0]=$i[255+V-H]}function Ts(d,y,A,T){var V=d[y+0],z=d[y+A];return Vs[255+d[y-2*A]-d[y-A]]>T||Vs[255+z-V]>T}function Po(d,y,A,T){return 4*Vs[255+d[y-A]-d[y+0]]+Vs[255+d[y-2*A]-d[y+A]]<=T}function No(d,y,A,T,V){var z=d[y-3*A],H=d[y-2*A],Y=d[y-A],X=d[y+0],Z=d[y+A],fe=d[y+2*A],Se=d[y+3*A];return 4*Vs[255+Y-X]+Vs[255+H-Z]>T?0:Vs[255+d[y-4*A]-z]<=V&&Vs[255+z-H]<=V&&Vs[255+H-Y]<=V&&Vs[255+Se-fe]<=V&&Vs[255+fe-Z]<=V&&Vs[255+Z-X]<=V}function vi(d,y,A,T){var V=2*T+1;for(T=0;16>T;++T)Po(d,y+T,A,V)&&ro(d,y+T,A)}function Ms(d,y,A,T){var V=2*T+1;for(T=0;16>T;++T)Po(d,y+T*A,1,V)&&ro(d,y+T*A,1)}function wi(d,y,A,T){var V;for(V=3;0<V;--V)vi(d,y+=4*A,A,T)}function Ia(d,y,A,T){var V;for(V=3;0<V;--V)Ms(d,y+=4,A,T)}function ss(d,y,A,T,V,z,H,Y){for(z=2*z+1;0<V--;){if(No(d,y,A,z,H))if(Ts(d,y,A,Y))ro(d,y,A);else{var X=d,Z=y,fe=A,Se=X[Z-2*fe],ee=X[Z-fe],me=X[Z+0],Ae=X[Z+fe],Ve=X[Z+2*fe],Ne=27*(je=Lo[1020+3*(me-ee)+Lo[1020+Se-Ae]])+63>>7,Oe=18*je+63>>7,je=9*je+63>>7;X[Z-3*fe]=$i[255+X[Z-3*fe]+je],X[Z-2*fe]=$i[255+Se+Oe],X[Z-fe]=$i[255+ee+Ne],X[Z+0]=$i[255+me-Ne],X[Z+fe]=$i[255+Ae-Oe],X[Z+2*fe]=$i[255+Ve-je]}y+=T}}function ri(d,y,A,T,V,z,H,Y){for(z=2*z+1;0<V--;){if(No(d,y,A,z,H))if(Ts(d,y,A,Y))ro(d,y,A);else{var X=d,Z=y,fe=A,Se=X[Z-fe],ee=X[Z+0],me=X[Z+fe],Ae=eu[112+(4+(Ve=3*(ee-Se))>>3)],Ve=eu[112+(Ve+3>>3)],Ne=Ae+1>>1;X[Z-2*fe]=$i[255+X[Z-2*fe]+Ne],X[Z-fe]=$i[255+Se+Ve],X[Z+0]=$i[255+ee-Ae],X[Z+fe]=$i[255+me-Ne]}y+=T}}function Pa(d,y,A,T,V,z){ss(d,y,A,1,16,T,V,z)}function Mr(d,y,A,T,V,z){ss(d,y,1,A,16,T,V,z)}function _i(d,y,A,T,V,z){var H;for(H=3;0<H;--H)ri(d,y+=4*A,A,1,16,T,V,z)}function Xo(d,y,A,T,V,z){var H;for(H=3;0<H;--H)ri(d,y+=4,1,A,16,T,V,z)}function b(d,y,A,T,V,z,H,Y){ss(d,y,V,1,8,z,H,Y),ss(A,T,V,1,8,z,H,Y)}function j(d,y,A,T,V,z,H,Y){ss(d,y,1,V,8,z,H,Y),ss(A,T,1,V,8,z,H,Y)}function te(d,y,A,T,V,z,H,Y){ri(d,y+4*V,V,1,8,z,H,Y),ri(A,T+4*V,V,1,8,z,H,Y)}function ce(d,y,A,T,V,z,H,Y){ri(d,y+4,1,V,8,z,H,Y),ri(A,T+4,1,V,8,z,H,Y)}function we(){this.ba=new hn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ue(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function qe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function it(){this.ua=0,this.Wa=new zt,this.vb=new zt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Pe,this.yc=new O}function ft(){this.xb=this.a=0,this.l=new Or,this.ca=new hn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new it,this.ab=0,this.gc=l(4,qe),this.Oc=0}function Nt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Or,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ot(d,y,A,T,V,z,H){for(d=d==null?0:d[y+0],y=0;y<H;++y)V[z+y]=d+A[T+y]&255,d=V[z+y]}function vn(d,y,A,T,V,z,H){var Y;if(d==null)Ot(null,null,A,T,V,z,H);else for(Y=0;Y<H;++Y)V[z+Y]=d[y+Y]+A[T+Y]&255}function Sn(d,y,A,T,V,z,H){if(d==null)Ot(null,null,A,T,V,z,H);else{var Y,X=d[y+0],Z=X,fe=X;for(Y=0;Y<H;++Y)Z=fe+(X=d[y+Y])-Z,fe=A[T+Y]+(-256&Z?0>Z?0:255:Z)&255,Z=X,V[z+Y]=fe}}function ar(d,y,A,T){var V=y.width,z=y.o;if(e(d!=null&&y!=null),0>A||0>=T||A+T>z)return null;if(!d.Cc){if(d.ga==null){var H;if(d.ga=new Nt,(H=d.ga==null)||(H=y.width*y.o,e(d.Gb.length==0),d.Gb=s(H),d.Uc=0,d.Gb==null?H=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,H=1),H=!H),!H){H=d.ga;var Y=d.Fa,X=d.P,Z=d.qc,fe=d.mb,Se=d.nb,ee=X+1,me=Z-1,Ae=H.l;if(e(Y!=null&&fe!=null&&y!=null),Li[0]=null,Li[1]=Ot,Li[2]=vn,Li[3]=Sn,H.ca=fe,H.tb=Se,H.c=y.width,H.i=y.height,e(0<H.c&&0<H.i),1>=Z)y=0;else if(H.$a=3&Y[X+0],H.Z=Y[X+0]>>2&3,H.Lc=Y[X+0]>>4&3,X=Y[X+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||X)y=0;else if(Ae.put=It,Ae.ac=ti,Ae.bc=Rn,Ae.ma=H,Ae.width=y.width,Ae.height=y.height,Ae.Da=y.Da,Ae.v=y.v,Ae.va=y.va,Ae.j=y.j,Ae.o=y.o,H.$a)e:{e(H.$a==1),y=bo();t:for(;;){if(y==null){y=0;break e}if(e(H!=null),H.mc=y,y.c=H.c,y.i=H.i,y.l=H.l,y.l.ma=H,y.l.width=H.c,y.l.height=H.i,y.a=0,_e(y.m,Y,ee,me),!es(H.c,H.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&Pi(y.s)?(H.ic=1,Y=y.c*y.i,y.Ta=null,y.Ua=0,y.V=s(Y),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(H.ic=0,y=Ls(y,H.c)),!y))break t;y=1;break e}H.mc=null,y=0}else y=me>=H.c*H.i;H=!y}if(H)return null;d.ga.Lc!=1?d.Ga=0:T=z-A}e(d.ga!=null),e(A+T<=z);e:{if(y=(Y=d.ga).c,z=Y.l.o,Y.$a==0){if(ee=d.rc,me=d.Vc,Ae=d.Fa,X=d.P+1+A*y,Z=d.mb,fe=d.nb+A*y,e(X<=d.P+d.qc),Y.Z!=0)for(e(Li[Y.Z]!=null),H=0;H<T;++H)Li[Y.Z](ee,me,Ae,X,Z,fe,y),ee=Z,me=fe,fe+=y,X+=y;else for(H=0;H<T;++H)r(Z,fe,Ae,X,y),ee=Z,me=fe,fe+=y,X+=y;d.rc=ee,d.Vc=me}else{if(e(Y.mc!=null),y=A+T,e((H=Y.mc)!=null),e(y<=H.i),H.C>=y)y=1;else if(Y.ic||Xn(),Y.ic){Y=H.V,ee=H.Ba,me=H.c;var Ve=H.i,Ne=(Ae=1,X=H.$/me,Z=H.$%me,fe=H.m,Se=H.s,H.$),Oe=me*Ve,je=me*y,Be=Se.wc,ze=Ne<je?qn(Se,Z,X):null;e(Ne<=Oe),e(y<=Ve),e(Pi(Se));t:for(;;){for(;!fe.h&&Ne<je;){if(Z&Be||(ze=qn(Se,Z,X)),e(ze!=null),ve(fe),256>(Ve=Mn(ze.G[0],ze.H[0],fe)))Y[ee+Ne]=Ve,++Ne,++Z>=me&&(Z=0,++X<=y&&!(X%16)&&Er(H,X));else{if(!(280>Ve)){Ae=0;break t}Ve=dr(Ve-256,fe);var _t,ot=Mn(ze.G[4],ze.H[4],fe);if(ve(fe),!(Ne>=(ot=ni(me,ot=dr(ot,fe)))&&Oe-Ne>=Ve)){Ae=0;break t}for(_t=0;_t<Ve;++_t)Y[ee+Ne+_t]=Y[ee+Ne+_t-ot];for(Ne+=Ve,Z+=Ve;Z>=me;)Z-=me,++X<=y&&!(X%16)&&Er(H,X);Ne<je&&Z&Be&&(ze=qn(Se,Z,X))}e(fe.h==ue(fe))}Er(H,X>y?y:X);break t}!Ae||fe.h&&Ne<Oe?(Ae=0,H.a=fe.h?5:3):H.$=Ne,y=Ae}else y=fi(H,H.V,H.Ba,H.c,H.i,y,Qs);if(!y){T=0;break e}}A+T>=z&&(d.Cc=1),T=1}if(!T)return null;if(d.Cc&&((T=d.ga)!=null&&(T.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+A*V}function Dn(d,y,A,T,V,z){for(;0<V--;){var H,Y=d,X=y+(A?1:0),Z=d,fe=y+(A?0:3);for(H=0;H<T;++H){var Se=Z[fe+4*H];Se!=255&&(Se*=32897,Y[X+4*H+0]=Y[X+4*H+0]*Se>>23,Y[X+4*H+1]=Y[X+4*H+1]*Se>>23,Y[X+4*H+2]=Y[X+4*H+2]*Se>>23)}y+=z}}function gr(d,y,A,T,V){for(;0<T--;){var z;for(z=0;z<A;++z){var H=d[y+2*z+0],Y=15&(Z=d[y+2*z+1]),X=4369*Y,Z=(240&Z|Z>>4)*X>>16;d[y+2*z+0]=(240&H|H>>4)*X>>16&240|(15&H|H<<4)*X>>16>>4&15,d[y+2*z+1]=240&Z|Y}y+=V}}function tr(d,y,A,T,V,z,H,Y){var X,Z,fe=255;for(Z=0;Z<V;++Z){for(X=0;X<T;++X){var Se=d[y+X];z[H+4*X]=Se,fe&=Se}y+=A,H+=Y}return fe!=255}function yr(d,y,A,T,V){var z;for(z=0;z<V;++z)A[T+z]=d[y+z]>>8}function Xn(){yl=Dn,Zh=gr,Xu=tr,ef=yr}function bi(d,y,A){k[d]=function(T,V,z,H,Y,X,Z,fe,Se,ee,me,Ae,Ve,Ne,Oe,je,Be){var ze,_t=Be-1>>1,ot=Y[X+0]|Z[fe+0]<<16,Kt=Se[ee+0]|me[Ae+0]<<16;e(T!=null);var ct=3*ot+Kt+131074>>2;for(y(T[V+0],255&ct,ct>>16,Ve,Ne),z!=null&&(ct=3*Kt+ot+131074>>2,y(z[H+0],255&ct,ct>>16,Oe,je)),ze=1;ze<=_t;++ze){var dn=Y[X+ze]|Z[fe+ze]<<16,_r=Se[ee+ze]|me[Ae+ze]<<16,Jt=ot+dn+Kt+_r+524296,at=Jt+2*(dn+Kt)>>3;ct=at+ot>>1,ot=(Jt=Jt+2*(ot+_r)>>3)+dn>>1,y(T[V+2*ze-1],255&ct,ct>>16,Ve,Ne+(2*ze-1)*A),y(T[V+2*ze-0],255&ot,ot>>16,Ve,Ne+(2*ze-0)*A),z!=null&&(ct=Jt+Kt>>1,ot=at+_r>>1,y(z[H+2*ze-1],255&ct,ct>>16,Oe,je+(2*ze-1)*A),y(z[H+2*ze+0],255&ot,ot>>16,Oe,je+(2*ze+0)*A)),ot=dn,Kt=_r}1&Be||(ct=3*ot+Kt+131074>>2,y(T[V+Be-1],255&ct,ct>>16,Ve,Ne+(Be-1)*A),z!=null&&(ct=3*Kt+ot+131074>>2,y(z[H+Be-1],255&ct,ct>>16,Oe,je+(Be-1)*A)))}}function cl(){ls[Bc]=hg,ls[La]=Da,ls[Pd]=fg,ls[Qu]=iu,ls[Zu]=bl,ls[$n]=ic,ls[zc]=cf,ls[tu]=Da,ls[vl]=iu,ls[ec]=bl,ls[tc]=ic}function qi(d){return d&-16384?0>d?0:255:d>>Oa}function m(d,y){return qi((19077*d>>8)+(26149*y>>8)-14234)}function S(d,y,A){return qi((19077*d>>8)-(6419*y>>8)-(13320*A>>8)+8708)}function D(d,y){return qi((19077*d>>8)+(33050*y>>8)-17685)}function J(d,y,A,T,V){T[V+0]=m(d,A),T[V+1]=S(d,y,A),T[V+2]=D(d,y)}function be(d,y,A,T,V){T[V+0]=D(d,y),T[V+1]=S(d,y,A),T[V+2]=m(d,A)}function Re(d,y,A,T,V){var z=S(d,y,A);y=z<<3&224|D(d,y)>>3,T[V+0]=248&m(d,A)|z>>5,T[V+1]=y}function Xe(d,y,A,T,V){var z=240&D(d,y)|15;T[V+0]=240&m(d,A)|S(d,y,A)>>4,T[V+1]=z}function gn(d,y,A,T,V){T[V+0]=255,J(d,y,A,T,V+1)}function lr(d,y,A,T,V){be(d,y,A,T,V),T[V+3]=255}function an(d,y,A,T,V){J(d,y,A,T,V),T[V+3]=255}function sn(d,y){return 0>d?0:d>y?y:d}function jn(d,y,A){k[d]=function(T,V,z,H,Y,X,Z,fe,Se){for(var ee=fe+(-2&Se)*A;fe!=ee;)y(T[V+0],z[H+0],Y[X+0],Z,fe),y(T[V+1],z[H+0],Y[X+0],Z,fe+A),V+=2,++H,++X,fe+=2*A;1&Se&&y(T[V+0],z[H+0],Y[X+0],Z,fe)}}function xi(d,y,A){return A==0?d==0?y==0?6:5:y==0?4:0:A}function Ri(d,y,A,T,V){switch(d>>>30){case 3:ml(y,A,T,V,0);break;case 2:vr(y,A,T,V);break;case 1:En(y,A,T,V)}}function ii(d,y){var A,T,V=y.M,z=y.Nb,H=d.oc,Y=d.pc+40,X=d.oc,Z=d.pc+584,fe=d.oc,Se=d.pc+600;for(A=0;16>A;++A)H[Y+32*A-1]=129;for(A=0;8>A;++A)X[Z+32*A-1]=129,fe[Se+32*A-1]=129;for(0<V?H[Y-1-32]=X[Z-1-32]=fe[Se-1-32]=129:(i(H,Y-32-1,127,21),i(X,Z-32-1,127,9),i(fe,Se-32-1,127,9)),T=0;T<d.za;++T){var ee=y.ya[y.aa+T];if(0<T){for(A=-1;16>A;++A)r(H,Y+32*A-4,H,Y+32*A+12,4);for(A=-1;8>A;++A)r(X,Z+32*A-4,X,Z+32*A+4,4),r(fe,Se+32*A-4,fe,Se+32*A+4,4)}var me=d.Gd,Ae=d.Hd+T,Ve=ee.ad,Ne=ee.Hc;if(0<V&&(r(H,Y-32,me[Ae].y,0,16),r(X,Z-32,me[Ae].f,0,8),r(fe,Se-32,me[Ae].ea,0,8)),ee.Za){var Oe=H,je=Y-32+16;for(0<V&&(T>=d.za-1?i(Oe,je,me[Ae].y[15],4):r(Oe,je,me[Ae+1].y,0,4)),A=0;4>A;A++)Oe[je+128+A]=Oe[je+256+A]=Oe[je+384+A]=Oe[je+0+A];for(A=0;16>A;++A,Ne<<=2)Oe=H,je=Y+hf[A],Us[ee.Ob[A]](Oe,je),Ri(Ne,Ve,16*+A,Oe,je)}else if(Oe=xi(T,V,ee.Ob[0]),Hi[Oe](H,Y),Ne!=0)for(A=0;16>A;++A,Ne<<=2)Ri(Ne,Ve,16*+A,H,Y+hf[A]);for(A=ee.Gc,Oe=xi(T,V,ee.Dd),as[Oe](X,Z),as[Oe](fe,Se),Ne=Ve,Oe=X,je=Z,255&(ee=0|A)&&(170&ee?os(Ne,256,Oe,je):Vn(Ne,256,Oe,je)),ee=fe,Ne=Se,255&(A>>=8)&&(170&A?os(Ve,320,ee,Ne):Vn(Ve,320,ee,Ne)),V<d.Ub-1&&(r(me[Ae].y,0,H,Y+480,16),r(me[Ae].f,0,X,Z+224,8),r(me[Ae].ea,0,fe,Se+224,8)),A=8*z*d.B,me=d.sa,Ae=d.ta+16*T+16*z*d.R,Ve=d.qa,ee=d.ra+8*T+A,Ne=d.Ha,Oe=d.Ia+8*T+A,A=0;16>A;++A)r(me,Ae+A*d.R,H,Y+32*A,16);for(A=0;8>A;++A)r(Ve,ee+A*d.B,X,Z+32*A,8),r(Ne,Oe+A*d.B,fe,Se+32*A,8)}}function Fs(d,y,A,T,V,z,H,Y,X){var Z=[0],fe=[0],Se=0,ee=X!=null?X.kd:0,me=X??new Ue;if(d==null||12>A)return 7;me.data=d,me.w=y,me.ha=A,y=[y],A=[A],me.gb=[me.gb];e:{var Ae=y,Ve=A,Ne=me.gb;if(e(d!=null),e(Ve!=null),e(Ne!=null),Ne[0]=0,12<=Ve[0]&&!t(d,Ae[0],"RIFF")){if(t(d,Ae[0]+8,"WEBP")){Ne=3;break e}var Oe=Me(d,Ae[0]+4);if(12>Oe||4294967286<Oe){Ne=3;break e}if(ee&&Oe>Ve[0]-8){Ne=7;break e}Ne[0]=Oe,Ae[0]+=12,Ve[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Oe=0<me.gb[0],A=A[0];;){e:{var je=d;Ve=y,Ne=A;var Be=Z,ze=fe,_t=Ae=[0];if((ct=Se=[Se])[0]=0,8>Ne[0])Ne=7;else{if(!t(je,Ve[0],"VP8X")){if(Me(je,Ve[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var ot=Me(je,Ve[0]+8),Kt=1+tt(je,Ve[0]+12);if(2147483648<=Kt*(je=1+tt(je,Ve[0]+15))){Ne=3;break e}_t!=null&&(_t[0]=ot),Be!=null&&(Be[0]=Kt),ze!=null&&(ze[0]=je),Ve[0]+=18,Ne[0]-=18,ct[0]=1}Ne=0}}if(Se=Se[0],Ae=Ae[0],Ne!=0)return Ne;if(Ve=!!(2&Ae),!Oe&&Se)return 3;if(z!=null&&(z[0]=!!(16&Ae)),H!=null&&(H[0]=Ve),Y!=null&&(Y[0]=0),H=Z[0],Ae=fe[0],Se&&Ve&&X==null){Ne=0;break}if(4>A){Ne=7;break}if(Oe&&Se||!Oe&&!Se&&!t(d,y[0],"ALPH")){A=[A],me.na=[me.na],me.P=[me.P],me.Sa=[me.Sa];e:{ot=d,Ne=y,Oe=A;var ct=me.gb;Be=me.na,ze=me.P,_t=me.Sa,Kt=22,e(ot!=null),e(Oe!=null),je=Ne[0];var dn=Oe[0];for(e(Be!=null),e(_t!=null),Be[0]=null,ze[0]=null,_t[0]=0;;){if(Ne[0]=je,Oe[0]=dn,8>dn){Ne=7;break e}var _r=Me(ot,je+4);if(4294967286<_r){Ne=3;break e}var Jt=8+_r+1&-2;if(Kt+=Jt,0<ct&&Kt>ct){Ne=3;break e}if(!t(ot,je,"VP8 ")||!t(ot,je,"VP8L")){Ne=0;break e}if(dn[0]<Jt){Ne=7;break e}t(ot,je,"ALPH")||(Be[0]=ot,ze[0]=je+8,_t[0]=_r),je+=Jt,dn-=Jt}}if(A=A[0],me.na=me.na[0],me.P=me.P[0],me.Sa=me.Sa[0],Ne!=0)break}A=[A],me.Ja=[me.Ja],me.xa=[me.xa];e:if(ct=d,Ne=y,Oe=A,Be=me.gb[0],ze=me.Ja,_t=me.xa,ot=Ne[0],je=!t(ct,ot,"VP8 "),Kt=!t(ct,ot,"VP8L"),e(ct!=null),e(Oe!=null),e(ze!=null),e(_t!=null),8>Oe[0])Ne=7;else{if(je||Kt){if(ct=Me(ct,ot+4),12<=Be&&ct>Be-12){Ne=3;break e}if(ee&&ct>Oe[0]-8){Ne=7;break e}ze[0]=ct,Ne[0]+=8,Oe[0]-=8,_t[0]=Kt}else _t[0]=5<=Oe[0]&&ct[ot+0]==47&&!(ct[ot+4]>>5),ze[0]=Oe[0];Ne=0}if(A=A[0],me.Ja=me.Ja[0],me.xa=me.xa[0],y=y[0],Ne!=0)break;if(4294967286<me.Ja)return 3;if(Y==null||Ve||(Y[0]=me.xa?2:1),H=[H],Ae=[Ae],me.xa){if(5>A){Ne=7;break}Y=H,ee=Ae,Ve=z,d==null||5>A?d=0:5<=A&&d[y+0]==47&&!(d[y+4]>>5)?(Oe=[0],ct=[0],Be=[0],_e(ze=new Q,d,y,A),Zi(ze,Oe,ct,Be)?(Y!=null&&(Y[0]=Oe[0]),ee!=null&&(ee[0]=ct[0]),Ve!=null&&(Ve[0]=Be[0]),d=1):d=0):d=0}else{if(10>A){Ne=7;break}Y=Ae,d==null||10>A||!ll(d,y+3,A-3)?d=0:(ee=d[y+0]|d[y+1]<<8|d[y+2]<<16,Ve=16383&(d[y+7]<<8|d[y+6]),d=16383&(d[y+9]<<8|d[y+8]),1&ee||3<(ee>>1&7)||!(ee>>4&1)||ee>>5>=me.Ja||!Ve||!d?d=0:(H&&(H[0]=Ve),Y&&(Y[0]=d),d=1))}if(!d||(H=H[0],Ae=Ae[0],Se&&(Z[0]!=H||fe[0]!=Ae)))return 3;X!=null&&(X[0]=me,X.offset=y-X.w,e(4294967286>y-X.w),e(X.offset==X.ha-A));break}return Ne==0||Ne==7&&Se&&X==null?(z!=null&&(z[0]|=me.na!=null&&0<me.na.length),T!=null&&(T[0]=H),V!=null&&(V[0]=Ae),0):Ne}function Kl(d,y,A){var T=y.width,V=y.height,z=0,H=0,Y=T,X=V;if(y.Da=d!=null&&0<d.Da,y.Da&&(Y=d.cd,X=d.bd,z=d.v,H=d.j,11>A||(z&=-2,H&=-2),0>z||0>H||0>=Y||0>=X||z+Y>T||H+X>V))return 0;if(y.v=z,y.j=H,y.va=z+Y,y.o=H+X,y.U=Y,y.T=X,y.da=d!=null&&0<d.da,y.da){if(!St(Y,X,A=[d.ib],z=[d.hb]))return 0;y.ib=A[0],y.hb=z[0]}return y.ob=d!=null&&d.ob,y.Kb=d==null||!d.Sd,y.da&&(y.ob=y.ib<3*T/4&&y.hb<3*V/4,y.Kb=0),1}function Yl(d){if(d==null)return 2;if(11>d.S){var y=d.f.RGBA;y.fb+=(d.height-1)*y.A,y.A=-y.A}else y=d.f.kb,d=d.height,y.O+=(d-1)*y.fa,y.fa=-y.fa,y.N+=(d-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(d-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(d-1)*y.lb,y.lb=-y.lb);return 0}function Qo(d,y,A,T){if(T==null||0>=d||0>=y)return 2;if(A!=null){if(A.Da){var V=A.cd,z=A.bd,H=-2&A.v,Y=-2&A.j;if(0>H||0>Y||0>=V||0>=z||H+V>d||Y+z>y)return 2;d=V,y=z}if(A.da){if(!St(d,y,V=[A.ib],z=[A.hb]))return 2;d=V[0],y=z[0]}}T.width=d,T.height=y;e:{var X=T.width,Z=T.height;if(d=T.S,0>=X||0>=Z||!(d>=Bc&&13>d))d=2;else{if(0>=T.Rd&&T.sd==null){H=z=V=y=0;var fe=(Y=X*sc[d])*Z;if(11>d||(z=(Z+1)/2*(y=(X+1)/2),d==12&&(H=(V=X)*Z)),(Z=s(fe+2*z+H))==null){d=1;break e}T.sd=Z,11>d?((X=T.f.RGBA).eb=Z,X.fb=0,X.A=Y,X.size=fe):((X=T.f.kb).y=Z,X.O=0,X.fa=Y,X.Fd=fe,X.f=Z,X.N=0+fe,X.Ab=y,X.Cd=z,X.ea=Z,X.W=0+fe+z,X.Db=y,X.Ed=z,d==12&&(X.F=Z,X.J=0+fe+2*z),X.Tc=H,X.lb=V)}if(y=1,V=T.S,z=T.width,H=T.height,V>=Bc&&13>V)if(11>V)d=T.f.RGBA,y&=(Y=Math.abs(d.A))*(H-1)+z<=d.size,y&=Y>=z*sc[V],y&=d.eb!=null;else{d=T.f.kb,Y=(z+1)/2,fe=(H+1)/2,X=Math.abs(d.fa),Z=Math.abs(d.Ab);var Se=Math.abs(d.Db),ee=Math.abs(d.lb),me=ee*(H-1)+z;y&=X*(H-1)+z<=d.Fd,y&=Z*(fe-1)+Y<=d.Cd,y=(y&=Se*(fe-1)+Y<=d.Ed)&X>=z&Z>=Y&Se>=Y,y&=d.y!=null,y&=d.f!=null,y&=d.ea!=null,V==12&&(y&=ee>=z,y&=me<=d.Tc,y&=d.F!=null)}else y=0;d=y?0:2}}return d!=0||A!=null&&A.fd&&(d=Yl(T)),d}var js=64,Is=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ps=24,Na=32,ko=8,Zo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ze("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(d){return d},k.Predictor2=function(d,y,A){return y[A+0]},k.Predictor3=function(d,y,A){return y[A+1]},k.Predictor4=function(d,y,A){return y[A-1]},k.Predictor5=function(d,y,A){return vt(vt(d,y[A+1]),y[A+0])},k.Predictor6=function(d,y,A){return vt(d,y[A-1])},k.Predictor7=function(d,y,A){return vt(d,y[A+0])},k.Predictor8=function(d,y,A){return vt(y[A-1],y[A+0])},k.Predictor9=function(d,y,A){return vt(y[A+0],y[A+1])},k.Predictor10=function(d,y,A){return vt(vt(d,y[A-1]),vt(y[A+0],y[A+1]))},k.Predictor11=function(d,y,A){var T=y[A+0];return 0>=mt(T>>24&255,d>>24&255,(y=y[A-1])>>24&255)+mt(T>>16&255,d>>16&255,y>>16&255)+mt(T>>8&255,d>>8&255,y>>8&255)+mt(255&T,255&d,255&y)?T:d},k.Predictor12=function(d,y,A){var T=y[A+0];return(cn((d>>24&255)+(T>>24&255)-((y=y[A-1])>>24&255))<<24|cn((d>>16&255)+(T>>16&255)-(y>>16&255))<<16|cn((d>>8&255)+(T>>8&255)-(y>>8&255))<<8|cn((255&d)+(255&T)-(255&y)))>>>0},k.Predictor13=function(d,y,A){var T=y[A-1];return(jt((d=vt(d,y[A+0]))>>24&255,T>>24&255)<<24|jt(d>>16&255,T>>16&255)<<16|jt(d>>8&255,T>>8&255)<<8|jt(255&d,255&T))>>>0};var ea=k.PredictorAdd0;k.PredictorAdd1=$t,Ze("Predictor2","PredictorAdd2"),Ze("Predictor3","PredictorAdd3"),Ze("Predictor4","PredictorAdd4"),Ze("Predictor5","PredictorAdd5"),Ze("Predictor6","PredictorAdd6"),Ze("Predictor7","PredictorAdd7"),Ze("Predictor8","PredictorAdd8"),Ze("Predictor9","PredictorAdd9"),Ze("Predictor10","PredictorAdd10"),Ze("Predictor11","PredictorAdd11"),Ze("Predictor12","PredictorAdd12"),Ze("Predictor13","PredictorAdd13");var Co=k.PredictorAdd2;gt("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),gt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Tr,hl=k.ColorIndexInverseTransform,Ro=k.MapARGB,io=k.VP8LColorIndexInverseTransformAlpha,fl=k.MapAlpha,dl=k.VP8LPredictorsAdd=[];dl.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var Jl,Xl,ta,ka,Ca,pl,Ra,ml,vr,os,En,Vn,wr,Fr,so,Yu,Ql,na,Vc,Zl,Uc,Qh,Ju,gl,yl,Zh,Xu,ef,tf=s(511),nf=s(2041),rf=s(225),sf=s(767),of=0,Lo=nf,eu=rf,$i=sf,Vs=tf,Bc=0,La=1,Pd=2,Qu=3,Zu=4,$n=5,zc=6,tu=7,vl=8,ec=9,tc=10,nc=[2,3,7],qc=[3,3,11],wl=[280,256,256,256,40],Nd=[0,1,1,1,0],ag=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],lg=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],kd=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$c=8,nu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],rc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_l=null,af=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],lf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Cd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Rd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ug=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],cg=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],uf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Hi=[],Us=[],as=[],Do=1,ru=2,Li=[],ls=[];bi("UpsampleRgbLinePair",J,3),bi("UpsampleBgrLinePair",be,3),bi("UpsampleRgbaLinePair",an,4),bi("UpsampleBgraLinePair",lr,4),bi("UpsampleArgbLinePair",gn,4),bi("UpsampleRgba4444LinePair",Xe,2),bi("UpsampleRgb565LinePair",Re,2);var hg=k.UpsampleRgbLinePair,fg=k.UpsampleBgrLinePair,Da=k.UpsampleRgbaLinePair,iu=k.UpsampleBgraLinePair,bl=k.UpsampleArgbLinePair,ic=k.UpsampleRgba4444LinePair,cf=k.UpsampleRgb565LinePair,ra=16,oo=1<<ra-1,On=-227,Un=482,Oa=6,Ai=0,us=s(256),xl=s(256),su=s(256),cs=s(256),Hc=s(Un-On),Ld=s(Un-On);jn("YuvToRgbRow",J,3),jn("YuvToBgrRow",be,3),jn("YuvToRgbaRow",an,4),jn("YuvToBgraRow",lr,4),jn("YuvToArgbRow",gn,4),jn("YuvToRgba4444Row",Xe,2),jn("YuvToRgb565Row",Re,2);var hf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Al=[0,2,8],Dd=[8,7,6,4,4,2,2,2,1,1,1,1],ia=1;this.WebPDecodeRGBA=function(d,y,A,T,V){var z=La,H=new we,Y=new hn;H.ba=Y,Y.S=z,Y.width=[Y.width],Y.height=[Y.height];var X=Y.width,Z=Y.height,fe=new Ct;if(fe==null||d==null)var Se=2;else e(fe!=null),Se=Fs(d,y,A,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(Se!=0?X=0:(X!=null&&(X[0]=fe.width[0]),Z!=null&&(Z[0]=fe.height[0]),X=1),X){Y.width=Y.width[0],Y.height=Y.height[0],T!=null&&(T[0]=Y.width),V!=null&&(V[0]=Y.height);e:{if(T=new Or,(V=new Ue).data=d,V.w=y,V.ha=A,V.kd=1,y=[0],e(V!=null),((d=Fs(V.data,V.w,V.ha,null,null,null,y,null,V))==0||d==7)&&y[0]&&(d=4),(y=d)==0){if(e(H!=null),T.data=V.data,T.w=V.w+V.offset,T.ha=V.ha-V.offset,T.put=It,T.ac=ti,T.bc=Rn,T.ma=H,V.xa){if((d=bo())==null){H=1;break e}if((function(ee,me){var Ae=[0],Ve=[0],Ne=[0];t:for(;;){if(ee==null)return 0;if(me==null)return ee.a=2,0;if(ee.l=me,ee.a=0,_e(ee.m,me.data,me.w,me.ha),!Zi(ee.m,Ae,Ve,Ne)){ee.a=3;break t}if(ee.xb=ru,me.width=Ae[0],me.height=Ve[0],!es(Ae[0],Ve[0],1,ee,null))break t;return 1}return e(ee.a!=0),0})(d,T)){if(T=(y=Qo(T.width,T.height,H.Oa,H.ba))==0){t:{T=d;n:for(;;){if(T==null){T=0;break t}if(e(T.s.yc!=null),e(T.s.Ya!=null),e(0<T.s.Wb),e((A=T.l)!=null),e((V=A.ma)!=null),T.xb!=0){if(T.ca=V.ba,T.tb=V.tb,e(T.ca!=null),!Kl(V.Oa,A,Qu)){T.a=2;break n}if(!Ls(T,A.width)||A.da)break n;if((A.da||Mt(T.ca.S))&&Xn(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&Xn()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!se(T.s.vb,T.s.Wa.Xa)){T.a=1;break n}T.xb=0}if(!fi(T,T.V,T.Ba,T.c,T.i,A.o,_o))break n;V.Dc=T.Ma,T=1;break t}e(T.a!=0),T=0}T=!T}T&&(y=d.a)}else y=d.a}else{if((d=new al)==null){H=1;break e}if(d.Fa=V.na,d.P=V.P,d.qc=V.Sa,Ko(d,T)){if((y=Qo(T.width,T.height,H.Oa,H.ba))==0){if(d.Aa=0,A=H.Oa,e((V=d)!=null),A!=null){if(0<(X=0>(X=A.Md)?0:100<X?255:255*X/100)){for(Z=fe=0;4>Z;++Z)12>(Se=V.pb[Z]).lc&&(Se.ia=X*Dd[0>Se.lc?0:Se.lc]>>3),fe|=Se.ia;fe&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=A.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(ee,me){if(ee==null)return 0;if(me==null)return or(ee,2,"NULL VP8Io parameter in VP8Decode().");if(!ee.cb&&!Ko(ee,me))return 0;if(e(ee.cb),me.ac==null||me.ac(me)){me.ob&&(ee.L=0);var Ae=Al[ee.L];if(ee.L==2?(ee.yb=0,ee.zb=0):(ee.yb=me.v-Ae>>4,ee.zb=me.j-Ae>>4,0>ee.yb&&(ee.yb=0),0>ee.zb&&(ee.zb=0)),ee.Va=me.o+15+Ae>>4,ee.Hb=me.va+15+Ae>>4,ee.Hb>ee.za&&(ee.Hb=ee.za),ee.Va>ee.Ub&&(ee.Va=ee.Ub),0<ee.L){var Ve=ee.ed;for(Ae=0;4>Ae;++Ae){var Ne;if(ee.Qa.Cb){var Oe=ee.Qa.Lb[Ae];ee.Qa.Fb||(Oe+=Ve.Tb)}else Oe=Ve.Tb;for(Ne=0;1>=Ne;++Ne){var je=ee.gd[Ae][Ne],Be=Oe;if(Ve.Pc&&(Be+=Ve.vd[0],Ne&&(Be+=Ve.od[0])),0<(Be=0>Be?0:63<Be?63:Be)){var ze=Be;0<Ve.wb&&(ze=4<Ve.wb?ze>>2:ze>>1)>9-Ve.wb&&(ze=9-Ve.wb),1>ze&&(ze=1),je.dd=ze,je.tc=2*Be+ze,je.ld=40<=Be?2:15<=Be?1:0}else je.tc=0;je.La=Ne}}}Ae=0}else or(ee,6,"Frame setup failed"),Ae=ee.a;if(Ae=Ae==0){if(Ae){ee.$c=0,0<ee.Aa||(ee.Ic=ia);t:{Ae=ee.Ic,Ve=4*(ze=ee.za);var _t=32*ze,ot=ze+1,Kt=0<ee.L?ze*(0<ee.Aa?2:1):0,ct=(ee.Aa==2?2:1)*ze;if((je=Ve+832+(Ne=3*(16*Ae+Al[ee.L])/2*_t)+(Oe=ee.Fa!=null&&0<ee.Fa.length?ee.Kc.c*ee.Kc.i:0))!=je)Ae=0;else{if(je>ee.Vb){if(ee.Vb=0,ee.Ec=s(je),ee.Fc=0,ee.Ec==null){Ae=or(ee,1,"no memory during frame initialization.");break t}ee.Vb=je}je=ee.Ec,Be=ee.Fc,ee.Ac=je,ee.Bc=Be,Be+=Ve,ee.Gd=l(_t,ki),ee.Hd=0,ee.rb=l(ot+1,Ni),ee.sb=1,ee.wa=Kt?l(Kt,$r):null,ee.Y=0,ee.D.Nb=0,ee.D.wa=ee.wa,ee.D.Y=ee.Y,0<ee.Aa&&(ee.D.Y+=ze),e(!0),ee.oc=je,ee.pc=Be,Be+=832,ee.ya=l(ct,xa),ee.aa=0,ee.D.ya=ee.ya,ee.D.aa=ee.aa,ee.Aa==2&&(ee.D.aa+=ze),ee.R=16*ze,ee.B=8*ze,ze=(_t=Al[ee.L])*ee.R,_t=_t/2*ee.B,ee.sa=je,ee.ta=Be+ze,ee.qa=ee.sa,ee.ra=ee.ta+16*Ae*ee.R+_t,ee.Ha=ee.qa,ee.Ia=ee.ra+8*Ae*ee.B+_t,ee.$c=0,Be+=Ne,ee.mb=Oe?je:null,ee.nb=Oe?Be:null,e(Be+Oe<=ee.Fc+ee.Vb),ns(ee),i(ee.Ac,ee.Bc,0,Ve),Ae=1}}if(Ae){if(me.ka=0,me.y=ee.sa,me.O=ee.ta,me.f=ee.qa,me.N=ee.ra,me.ea=ee.Ha,me.Vd=ee.Ia,me.fa=ee.R,me.Rc=ee.B,me.F=null,me.J=0,!of){for(Ae=-255;255>=Ae;++Ae)tf[255+Ae]=0>Ae?-Ae:Ae;for(Ae=-1020;1020>=Ae;++Ae)nf[1020+Ae]=-128>Ae?-128:127<Ae?127:Ae;for(Ae=-112;112>=Ae;++Ae)rf[112+Ae]=-16>Ae?-16:15<Ae?15:Ae;for(Ae=-255;510>=Ae;++Ae)sf[255+Ae]=0>Ae?0:255<Ae?255:Ae;of=1}Ra=on,ml=Eo,os=To,En=fn,Vn=Zs,vr=Jo,wr=Pa,Fr=Mr,so=b,Yu=j,Ql=_i,na=Xo,Vc=te,Zl=ce,Uc=vi,Qh=Ms,Ju=wi,gl=Ia,Us[0]=Ku,Us[1]=Aa,Us[2]=rs,Us[3]=Ds,Us[4]=Wl,Us[5]=to,Us[6]=mr,Us[7]=Gl,Us[8]=Os,Us[9]=no,Hi[0]=mi,Hi[1]=$l,Hi[2]=Hl,Hi[3]=Ea,Hi[4]=Hr,Hi[5]=gi,Hi[6]=zi,as[0]=is,as[1]=Sa,as[2]=Ta,as[3]=yi,as[4]=Fn,as[5]=Io,as[6]=ul,Ae=1}else Ae=0}Ae&&(Ae=(function(dn,_r){for(dn.M=0;dn.M<dn.Va;++dn.M){var Jt,at=dn.Jc[dn.M&dn.Xb],et=dn.m,Ir=dn;for(Jt=0;Jt<Ir.za;++Jt){var Ut=et,ln=Ir,Qn=ln.Ac,si=ln.Bc+4*Jt,jr=ln.zc,ur=ln.ya[ln.aa+Jt];if(ln.Qa.Bb?ur.$b=Fe(Ut,ln.Pa.jb[0])?2+Fe(Ut,ln.Pa.jb[2]):Fe(Ut,ln.Pa.jb[1]):ur.$b=0,ln.kc&&(ur.Ad=Fe(Ut,ln.Bd)),ur.Za=!Fe(Ut,145)+0,ur.Za){var Wr=ur.Ob,oi=0;for(ln=0;4>ln;++ln){var nr,yn=jr[0+ln];for(nr=0;4>nr;++nr){yn=ug[Qn[si+nr]][yn];for(var Tn=Cd[Fe(Ut,yn[0])];0<Tn;)Tn=Cd[2*Tn+Fe(Ut,yn[Tn])];yn=-Tn,Qn[si+nr]=yn}r(Wr,oi,Qn,si,4),oi+=4,jr[0+ln]=yn}}else yn=Fe(Ut,156)?Fe(Ut,128)?1:3:Fe(Ut,163)?2:0,ur.Ob[0]=yn,i(Qn,si,yn,4),i(jr,0,yn,4);ur.Dd=Fe(Ut,142)?Fe(Ut,114)?Fe(Ut,183)?1:3:2:0}if(Ir.m.Ka)return or(dn,7,"Premature end-of-partition0 encountered.");for(;dn.ja<dn.za;++dn.ja){if(Ir=at,Ut=(et=dn).rb[et.sb-1],Qn=et.rb[et.sb+et.ja],Jt=et.ya[et.aa+et.ja],si=et.kc?Jt.Ad:0)Ut.la=Qn.la=0,Jt.Za||(Ut.Na=Qn.Na=0),Jt.Hc=0,Jt.Gc=0,Jt.ia=0;else{var rr,In;if(Ut=Qn,Qn=Ir,si=et.Pa.Xc,jr=et.ya[et.aa+et.ja],ur=et.pb[jr.$b],ln=jr.ad,Wr=0,oi=et.rb[et.sb-1],yn=nr=0,i(ln,Wr,0,384),jr.Za)var br=0,xr=si[3];else{Tn=s(16);var Hn=Ut.Na+oi.Na;if(Hn=_l(Qn,si[1],Hn,ur.Eb,0,Tn,0),Ut.Na=oi.Na=(0<Hn)+0,1<Hn)Ra(Tn,0,ln,Wr);else{var Di=Tn[0]+3>>3;for(Tn=0;256>Tn;Tn+=16)ln[Wr+Tn]=Di}br=1,xr=si[0]}var Bn=15&Ut.la,Wn=15&oi.la;for(Tn=0;4>Tn;++Tn){var Vr=1&Wn;for(Di=In=0;4>Di;++Di)Bn=Bn>>1|(Vr=(Hn=_l(Qn,xr,Hn=Vr+(1&Bn),ur.Sc,br,ln,Wr))>br)<<7,In=In<<2|(3<Hn?3:1<Hn?2:ln[Wr+0]!=0),Wr+=16;Bn>>=4,Wn=Wn>>1|Vr<<7,nr=(nr<<8|In)>>>0}for(xr=Bn,br=Wn>>4,rr=0;4>rr;rr+=2){for(In=0,Bn=Ut.la>>4+rr,Wn=oi.la>>4+rr,Tn=0;2>Tn;++Tn){for(Vr=1&Wn,Di=0;2>Di;++Di)Hn=Vr+(1&Bn),Bn=Bn>>1|(Vr=0<(Hn=_l(Qn,si[2],Hn,ur.Qc,0,ln,Wr)))<<3,In=In<<2|(3<Hn?3:1<Hn?2:ln[Wr+0]!=0),Wr+=16;Bn>>=2,Wn=Wn>>1|Vr<<5}yn|=In<<4*rr,xr|=Bn<<4<<rr,br|=(240&Wn)<<rr}Ut.la=xr,oi.la=br,jr.Hc=nr,jr.Gc=yn,jr.ia=43690&yn?0:ur.ia,si=!(nr|yn)}if(0<et.L&&(et.wa[et.Y+et.ja]=et.gd[Jt.$b][Jt.Za],et.wa[et.Y+et.ja].La|=!si),Ir.Ka)return or(dn,7,"Premature end-of-file encountered.")}if(ns(dn),et=_r,Ir=1,Jt=(at=dn).D,Ut=0<at.L&&at.M>=at.zb&&at.M<=at.Va,at.Aa==0)t:{if(Jt.M=at.M,Jt.uc=Ut,ii(at,Jt),Ir=1,Jt=(In=at.D).Nb,Ut=(yn=Al[at.L])*at.R,Qn=yn/2*at.B,Tn=16*Jt*at.R,Di=8*Jt*at.B,si=at.sa,jr=at.ta-Ut+Tn,ur=at.qa,ln=at.ra-Qn+Di,Wr=at.Ha,oi=at.Ia-Qn+Di,Wn=(Bn=In.M)==0,nr=Bn>=at.Va-1,at.Aa==2&&ii(at,In),In.uc)for(Vr=(Hn=at).D.M,e(Hn.D.uc),In=Hn.yb;In<Hn.Hb;++In){br=In,xr=Vr;var Si=(hs=(kr=Hn).D).Nb;rr=kr.R;var hs=hs.wa[hs.Y+br],Pr=kr.sa,Nr=kr.ta+16*Si*rr+16*br,Oi=hs.dd,Gn=hs.tc;if(Gn!=0)if(e(3<=Gn),kr.L==1)0<br&&Qh(Pr,Nr,rr,Gn+4),hs.La&&gl(Pr,Nr,rr,Gn),0<xr&&Uc(Pr,Nr,rr,Gn+4),hs.La&&Ju(Pr,Nr,rr,Gn);else{var Mi=kr.B,Bs=kr.qa,ao=kr.ra+8*Si*Mi+8*br,ai=kr.Ha,kr=kr.Ia+8*Si*Mi+8*br;Si=hs.ld,0<br&&(Fr(Pr,Nr,rr,Gn+4,Oi,Si),Yu(Bs,ao,ai,kr,Mi,Gn+4,Oi,Si)),hs.La&&(na(Pr,Nr,rr,Gn,Oi,Si),Zl(Bs,ao,ai,kr,Mi,Gn,Oi,Si)),0<xr&&(wr(Pr,Nr,rr,Gn+4,Oi,Si),so(Bs,ao,ai,kr,Mi,Gn+4,Oi,Si)),hs.La&&(Ql(Pr,Nr,rr,Gn,Oi,Si),Vc(Bs,ao,ai,kr,Mi,Gn,Oi,Si))}}if(at.ia&&alert("todo:DitherRow"),et.put!=null){if(In=16*Bn,Bn=16*(Bn+1),Wn?(et.y=at.sa,et.O=at.ta+Tn,et.f=at.qa,et.N=at.ra+Di,et.ea=at.Ha,et.W=at.Ia+Di):(In-=yn,et.y=si,et.O=jr,et.f=ur,et.N=ln,et.ea=Wr,et.W=oi),nr||(Bn-=yn),Bn>et.o&&(Bn=et.o),et.F=null,et.J=null,at.Fa!=null&&0<at.Fa.length&&In<Bn&&(et.J=ar(at,et,In,Bn-In),et.F=at.mb,et.F==null&&et.F.length==0)){Ir=or(at,3,"Could not decode alpha data.");break t}In<et.j&&(yn=et.j-In,In=et.j,e(!(1&yn)),et.O+=at.R*yn,et.N+=at.B*(yn>>1),et.W+=at.B*(yn>>1),et.F!=null&&(et.J+=et.width*yn)),In<Bn&&(et.O+=et.v,et.N+=et.v>>1,et.W+=et.v>>1,et.F!=null&&(et.J+=et.v),et.ka=In-et.j,et.U=et.va-et.v,et.T=Bn-In,Ir=et.put(et))}Jt+1!=at.Ic||nr||(r(at.sa,at.ta-Ut,si,jr+16*at.R,Ut),r(at.qa,at.ra-Qn,ur,ln+8*at.B,Qn),r(at.Ha,at.Ia-Qn,Wr,oi+8*at.B,Qn))}if(!Ir)return or(dn,6,"Output aborted.")}return 1})(ee,me)),me.bc!=null&&me.bc(me),Ae&=1}return Ae?(ee.cb=0,Ae):0})(d,T)||(y=d.a)}}else y=d.a}y==0&&H.Oa!=null&&H.Oa.fd&&(y=Yl(H.ba))}H=y}z=H!=0?null:11>z?Y.f.RGBA.eb:Y.f.kb.y}else z=null;return z};var sc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(k,U){for(var P="",F=0;F<4;F++)P+=String.fromCharCode(k[U++]);return P}function p(k,U){return k[U+0]|k[U+1]<<8}function w(k,U){return(k[U+0]|k[U+1]<<8|k[U+2]<<16)>>>0}function _(k,U){return(k[U+0]|k[U+1]<<8|k[U+2]<<16|k[U+3]<<24)>>>0}new c;var v=[0],C=[0],I=[],N=new c,L=n,K=(function(k,U){var P={},F=0,O=!1,ae=0,Pe=0;if(P.frames=[],!(function(M,Q){for(var re=0;re<4;re++)if(M[Q+re]!="RIFF".charCodeAt(re))return!0;return!1})(k,U)){for(_(k,U+=4),U+=8;U<k.length;){var Le=f(k,U),xe=_(k,U+=4);U+=4;var le=xe+(1&xe);switch(Le){case"VP8 ":case"VP8L":P.frames[F]===void 0&&(P.frames[F]={}),(ne=P.frames[F]).src_off=O?Pe:U-8,ne.src_size=ae+xe+8,F++,O&&(O=!1,ae=0,Pe=0);break;case"VP8X":(ne=P.header={}).feature_flags=k[U];var _e=U+4;ne.canvas_width=1+w(k,_e),_e+=3,ne.canvas_height=1+w(k,_e),_e+=3;break;case"ALPH":O=!0,ae=le+8,Pe=U-8;break;case"ANIM":(ne=P.header).bgcolor=_(k,U),_e=U+4,ne.loop_count=p(k,_e),_e+=2;break;case"ANMF":var ke,ne;(ne=P.frames[F]={}).offset_x=2*w(k,U),U+=3,ne.offset_y=2*w(k,U),U+=3,ne.width=1+w(k,U),U+=3,ne.height=1+w(k,U),U+=3,ne.duration=w(k,U),U+=3,ke=k[U++],ne.dispose=1&ke,ne.blend=ke>>1&1}Le!="ANMF"&&(U+=le)}return P}})(L,0);K.response=L,K.rgbaoutput=!0,K.dataurl=!1;var W=K.header?K.header:null,G=K.frames?K.frames:null;if(W){W.loop_counter=W.loop_count,v=[W.canvas_height],C=[W.canvas_width];for(var ie=0;ie<G.length&&G[ie].blend!=0;ie++);}var pe=G[0],q=N.WebPDecodeRGBA(L,pe.src_off,pe.src_size,C,v);pe.rgba=q,pe.imgwidth=C[0],pe.imgheight=v[0];for(var R=0;R<C[0]*v[0]*4;R++)I[R]=q[R];return this.width=C,this.height=v,this.data=I,this}(function(n){var e,t,r,i,s,l,u,c,f,p=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new c,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new l,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new l,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,l=this.internal.Point,u=this.internal.Rectangle,c=this.internal.Matrix,f=new p}]);var w=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=M;Object.defineProperty(this,"pdf",{get:function(){return Q}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(Me){re=!!Me}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(Me){ue=!!Me}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(Me){isNaN(Me)||(he=Me)}});var ve=0;Object.defineProperty(this,"posY",{get:function(){return ve},set:function(Me){isNaN(Me)||(ve=Me)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Me){var se;typeof Me=="number"?se=[Me,Me,Me,Me]:((se=new Array(4))[0]=Me[0],se[1]=Me.length>=2?Me[1]:se[0],se[2]=Me.length>=3?Me[2]:se[0],se[3]=Me.length>=4?Me[3]:se[1]),f.margin=se}});var Ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ee},set:function(Me){Ee=Me}});var Te=0;Object.defineProperty(this,"lastBreak",{get:function(){return Te},set:function(Me){Te=Me}});var Fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Fe},set:function(Me){Fe=Me}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Me){Me instanceof p&&(f=Me)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Me){f.path=Me}});var He=[];Object.defineProperty(this,"ctxStack",{get:function(){return He},set:function(Me){He=Me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Me){var se;se=_(Me),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Me){var se=_(Me);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Me){["butt","round","square"].indexOf(Me)!==-1&&(this.ctx.lineCap=Me,this.pdf.setLineCap(Me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Me){isNaN(Me)||(this.ctx.lineWidth=Me,this.pdf.setLineWidth(Me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Me){["bevel","round","miter"].indexOf(Me)!==-1&&(this.ctx.lineJoin=Me,this.pdf.setLineJoin(Me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Me){isNaN(Me)||(this.ctx.miterLimit=Me,this.pdf.setMiterLimit(Me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Me){this.ctx.textBaseline=Me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Me){["right","end","center","left","start"].indexOf(Me)!==-1&&(this.ctx.textAlign=Me)}});var nt=null,tt=null;Object.defineProperty(this,"fontFaces",{get:function(){return tt},set:function(Me){nt=null,tt=Me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Me){var se;if(this.ctx.font=Me,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Me))!==null){var nn=se[1];se[2];var zt=se[3],St=se[4];se[5];var Ye=se[6],lt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(St)[2];St=Math.floor(lt==="px"?parseFloat(St)*this.pdf.internal.scaleFactor:lt==="em"?parseFloat(St)*this.pdf.getFontSize():parseFloat(St)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(St);var Ze=(function(Et){var gt,bn,mn=[],ht=Et.trim();if(ht==="")return q0;if(ht in qb)return[qb[ht]];for(;ht!=="";){switch(bn=null,gt=(ht=Hb(ht)).charAt(0)){case'"':case"'":bn=xj(ht.substring(1),gt);break;default:bn=Aj(ht)}if(bn===null||(mn.push(bn[0]),(ht=Hb(bn[1]))!==""&&ht.charAt(0)!==","))return q0;ht=ht.replace(/^,/,"")}return mn})(Ye);if(this.fontFaces){var qt=(function(Et,gt){if(nt===null){var bn=(function(mn){var ht=[];return Object.keys(mn).forEach(function(Vt){mn[Vt].forEach(function(An){var Tt=null;switch(An){case"bold":Tt={family:Vt,weight:"bold"};break;case"italic":Tt={family:Vt,style:"italic"};break;case"bolditalic":Tt={family:Vt,weight:"bold",style:"italic"};break;case"":case"normal":Tt={family:Vt}}Tt!==null&&(Tt.ref={name:Vt,style:An},ht.push(Tt))})}),ht})(Et.getFontList());nt=(function(mn){for(var ht={},Vt=0;Vt<mn.length;++Vt){var An=z0(mn[Vt]),Tt=An.family,en=An.stretch,Mt=An.style,Jn=An.weight;ht[Tt]=ht[Tt]||{},ht[Tt][en]=ht[Tt][en]||{},ht[Tt][en][Mt]=ht[Tt][en][Mt]||{},ht[Tt][en][Mt][Jn]=An}return ht})(bn.concat(gt))}return nt})(this.pdf,this.fontFaces),vt=Ze.map(function(Et){return{family:Et,stretch:"normal",weight:zt,style:nn}}),cn=(function(Et,gt,bn){for(var mn=(bn=bn||{}).defaultFontFamily||"times",ht=Object.assign({},bj,bn.genericFontFamilies||{}),Vt=null,An=null,Tt=0;Tt<gt.length;++Tt)if(ht[(Vt=z0(gt[Tt])).family]&&(Vt.family=ht[Vt.family]),Et.hasOwnProperty(Vt.family)){An=Et[Vt.family];break}if(!(An=An||Et[mn]))throw new Error("Could not find a font-family for the rule '"+$b(Vt)+"' and default family '"+mn+"'.");if(An=(function(en,Mt){if(Mt[en])return Mt[en];var Jn=Y1[en],Nn=Jn<=Y1.normal?-1:1,hn=zb(Mt,wE,Jn,Nn);if(!hn)throw new Error("Could not find a matching font-stretch value for "+en);return hn})(Vt.stretch,An),An=(function(en,Mt){if(Mt[en])return Mt[en];for(var Jn=vE[en],Nn=0;Nn<Jn.length;++Nn)if(Mt[Jn[Nn]])return Mt[Jn[Nn]];throw new Error("Could not find a matching font-style for "+en)})(Vt.style,An),!(An=(function(en,Mt){if(Mt[en])return Mt[en];if(en===400&&Mt[500])return Mt[500];if(en===500&&Mt[400])return Mt[400];var Jn=_j[en],Nn=zb(Mt,_E,Jn,en<400?-1:1);if(!Nn)throw new Error("Could not find a matching font-weight for value "+en);return Nn})(Vt.weight,An)))throw new Error("Failed to resolve a font for the rule '"+$b(Vt)+"'.");return An})(qt,vt);this.pdf.setFont(cn.ref.name,cn.ref.style)}else{var jt="";(zt==="bold"||parseInt(zt,10)>=700||nn==="bold")&&(jt="bold"),nn==="italic"&&(jt+="italic"),jt.length===0&&(jt="normal");for(var mt="",$t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},kt=0;kt<Ze.length;kt++){if(this.pdf.internal.getFont(Ze[kt],jt,{noFallback:!0,disableWarning:!0})!==void 0){mt=Ze[kt];break}if(jt==="bolditalic"&&this.pdf.internal.getFont(Ze[kt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)mt=Ze[kt],jt="bold";else if(this.pdf.internal.getFont(Ze[kt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){mt=Ze[kt],jt="normal";break}}if(mt===""){for(var wt=0;wt<Ze.length;wt++)if($t[Ze[wt]]){mt=$t[Ze[wt]];break}}mt=mt===""?"Times":mt,this.pdf.setFont(mt,jt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Me){this.ctx.globalCompositeOperation=Me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Me){this.ctx.globalAlpha=Me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Me){this.ctx.lineDashOffset=Me,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Me){this.ctx.lineDash=Me,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Me){this.ctx.ignoreClearRect=!!Me}})};w.prototype.setLineDash=function(M){this.lineDash=M},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){G.call(this,"fill",!1)},w.prototype.stroke=function(){G.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(M,Q){if(isNaN(M)||isNaN(Q))throw er.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new l(M,Q));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new l(M,Q)},w.prototype.closePath=function(){var M=new l(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&Yn(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){M=new l(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(M.x,M.y)},w.prototype.lineTo=function(M,Q){if(isNaN(M)||isNaN(Q))throw er.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new l(M,Q));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new l(re.x,re.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),G.call(this,null,!0)},w.prototype.quadraticCurveTo=function(M,Q,re,ue){if(isNaN(re)||isNaN(ue)||isNaN(M)||isNaN(Q))throw er.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new l(re,ue)),ve=this.ctx.transform.applyToPoint(new l(M,Q));this.path.push({type:"qct",x1:ve.x,y1:ve.y,x:he.x,y:he.y}),this.ctx.lastPoint=new l(he.x,he.y)},w.prototype.bezierCurveTo=function(M,Q,re,ue,he,ve){if(isNaN(he)||isNaN(ve)||isNaN(M)||isNaN(Q)||isNaN(re)||isNaN(ue))throw er.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ee=this.ctx.transform.applyToPoint(new l(he,ve)),Te=this.ctx.transform.applyToPoint(new l(M,Q)),Fe=this.ctx.transform.applyToPoint(new l(re,ue));this.path.push({type:"bct",x1:Te.x,y1:Te.y,x2:Fe.x,y2:Fe.y,x:Ee.x,y:Ee.y}),this.ctx.lastPoint=new l(Ee.x,Ee.y)},w.prototype.arc=function(M,Q,re,ue,he,ve){if(isNaN(M)||isNaN(Q)||isNaN(re)||isNaN(ue)||isNaN(he))throw er.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ve=!!ve,!this.ctx.transform.isIdentity){var Ee=this.ctx.transform.applyToPoint(new l(M,Q));M=Ee.x,Q=Ee.y;var Te=this.ctx.transform.applyToPoint(new l(0,re)),Fe=this.ctx.transform.applyToPoint(new l(0,0));re=Math.sqrt(Math.pow(Te.x-Fe.x,2)+Math.pow(Te.y-Fe.y,2))}Math.abs(he-ue)>=2*Math.PI&&(ue=0,he=2*Math.PI),this.path.push({type:"arc",x:M,y:Q,radius:re,startAngle:ue,endAngle:he,counterclockwise:ve})},w.prototype.arcTo=function(M,Q,re,ue,he){throw new Error("arcTo not implemented.")},w.prototype.rect=function(M,Q,re,ue){if(isNaN(M)||isNaN(Q)||isNaN(re)||isNaN(ue))throw er.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,Q),this.lineTo(M+re,Q),this.lineTo(M+re,Q+ue),this.lineTo(M,Q+ue),this.lineTo(M,Q),this.lineTo(M+re,Q),this.lineTo(M,Q)},w.prototype.fillRect=function(M,Q,re,ue){if(isNaN(M)||isNaN(Q)||isNaN(re)||isNaN(ue))throw er.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,Q,re,ue),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},w.prototype.strokeRect=function(M,Q,re,ue){if(isNaN(M)||isNaN(Q)||isNaN(re)||isNaN(ue))throw er.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");C.call(this)||(this.beginPath(),this.rect(M,Q,re,ue),this.stroke())},w.prototype.clearRect=function(M,Q,re,ue){if(isNaN(M)||isNaN(Q)||isNaN(re)||isNaN(ue))throw er.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,Q,re,ue))},w.prototype.save=function(M){M=typeof M!="boolean"||M;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},w.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(M){var Q,re,ue,he;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))Q=0,re=0,ue=0,he=0;else{var ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ve!==null)Q=parseInt(ve[1]),re=parseInt(ve[2]),ue=parseInt(ve[3]),he=1;else if((ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)Q=parseInt(ve[1]),re=parseInt(ve[2]),ue=parseInt(ve[3]),he=parseFloat(ve[4]);else{if(he=1,typeof M=="string"&&M.charAt(0)!=="#"){var Ee=new hE(M);M=Ee.ok?Ee.toHex():"#000000"}M.length===4?(Q=M.substring(1,2),Q+=Q,re=M.substring(2,3),re+=re,ue=M.substring(3,4),ue+=ue):(Q=M.substring(1,3),re=M.substring(3,5),ue=M.substring(5,7)),Q=parseInt(Q,16),re=parseInt(re,16),ue=parseInt(ue,16)}}return{r:Q,g:re,b:ue,a:he,style:M}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},C=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(M,Q,re,ue){if(isNaN(Q)||isNaN(re)||typeof M!="string")throw er.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!v.call(this)){var he=le(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;F.call(this,{text:M,x:Q,y:re,scale:ve,angle:he,align:this.textAlign,maxWidth:ue})}},w.prototype.strokeText=function(M,Q,re,ue){if(isNaN(Q)||isNaN(re)||typeof M!="string")throw er.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!C.call(this)){ue=isNaN(ue)?void 0:ue;var he=le(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;F.call(this,{text:M,x:Q,y:re,scale:ve,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:ue})}},w.prototype.measureText=function(M){if(typeof M!="string")throw er.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,re=this.pdf.internal.scaleFactor,ue=Q.internal.getFontSize(),he=Q.getStringUnitWidth(M)*ue/Q.internal.scaleFactor;return new function(ve){var Ee=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this}({width:he*=Math.round(96*re/72*1e4)/1e4})},w.prototype.scale=function(M,Q){if(isNaN(M)||isNaN(Q))throw er.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new c(M,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},w.prototype.rotate=function(M){if(isNaN(M))throw er.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new c(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},w.prototype.translate=function(M,Q){if(isNaN(M)||isNaN(Q))throw er.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new c(1,0,0,1,M,Q);this.ctx.transform=this.ctx.transform.multiply(re)},w.prototype.transform=function(M,Q,re,ue,he,ve){if(isNaN(M)||isNaN(Q)||isNaN(re)||isNaN(ue)||isNaN(he)||isNaN(ve))throw er.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ee=new c(M,Q,re,ue,he,ve);this.ctx.transform=this.ctx.transform.multiply(Ee)},w.prototype.setTransform=function(M,Q,re,ue,he,ve){M=isNaN(M)?1:M,Q=isNaN(Q)?0:Q,re=isNaN(re)?0:re,ue=isNaN(ue)?1:ue,he=isNaN(he)?0:he,ve=isNaN(ve)?0:ve,this.ctx.transform=new c(M,Q,re,ue,he,ve)};var I=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(M,Q,re,ue,he,ve,Ee,Te,Fe){var He=this.pdf.getImageProperties(M),nt=1,tt=1,Me=1,se=1;ue!==void 0&&Te!==void 0&&(Me=Te/ue,se=Fe/he,nt=He.width/ue*Te/ue,tt=He.height/he*Fe/he),ve===void 0&&(ve=Q,Ee=re,Q=0,re=0),ue!==void 0&&Te===void 0&&(Te=ue,Fe=he),ue===void 0&&Te===void 0&&(Te=He.width,Fe=He.height);for(var nn,zt=this.ctx.transform.decompose(),St=le(zt.rotate.shx),Ye=new c,lt=(Ye=(Ye=(Ye=Ye.multiply(zt.translate)).multiply(zt.skew)).multiply(zt.scale)).applyToRectangle(new u(ve-Q*Me,Ee-re*se,ue*nt,he*tt)),Ze=N.call(this,lt),qt=[],vt=0;vt<Ze.length;vt+=1)qt.indexOf(Ze[vt])===-1&&qt.push(Ze[vt]);if(W(qt),this.autoPaging)for(var cn=qt[0],jt=qt[qt.length-1],mt=cn;mt<jt+1;mt++){this.pdf.setPage(mt);var $t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=mt===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],gt=mt===1?0:wt+(mt-2)*Et;if(this.ctx.clip_path.length!==0){var bn=this.path;nn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=K(nn,this.posX+this.margin[3],-gt+kt+this.ctx.prevPageLastElemOffset),ie.call(this,"fill",!0),this.path=bn}var mn=JSON.parse(JSON.stringify(lt));mn=K([mn],this.posX+this.margin[3],-gt+kt+this.ctx.prevPageLastElemOffset)[0];var ht=(mt>cn||mt<jt)&&I.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,Et,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",mn.x,mn.y,mn.w,mn.h,null,null,St),ht&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",lt.x,lt.y,lt.w,lt.h,null,null,St)};var N=function(M,Q,re){var ue=[];Q=Q||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ue.push(Math.floor((M.y+he)/re)+1);break;case"arc":ue.push(Math.floor((M.y+he-M.radius)/re)+1),ue.push(Math.floor((M.y+he+M.radius)/re)+1);break;case"qct":var ve=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ue.push(Math.floor((ve.y+he)/re)+1),ue.push(Math.floor((ve.y+ve.h+he)/re)+1);break;case"bct":var Ee=ke(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ue.push(Math.floor((Ee.y+he)/re)+1),ue.push(Math.floor((Ee.y+Ee.h+he)/re)+1);break;case"rect":ue.push(Math.floor((M.y+he)/re)+1),ue.push(Math.floor((M.y+M.h+he)/re)+1)}for(var Te=0;Te<ue.length;Te+=1)for(;this.pdf.internal.getNumberOfPages()<ue[Te];)L.call(this);return ue},L=function(){var M=this.fillStyle,Q=this.strokeStyle,re=this.font,ue=this.lineCap,he=this.lineWidth,ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=Q,this.font=re,this.lineCap=ue,this.lineWidth=he,this.lineJoin=ve},K=function(M,Q,re){for(var ue=0;ue<M.length;ue++)switch(M[ue].type){case"bct":M[ue].x2+=Q,M[ue].y2+=re;case"qct":M[ue].x1+=Q,M[ue].y1+=re;default:M[ue].x+=Q,M[ue].y+=re}return M},W=function(M){return M.sort(function(Q,re){return Q-re})},G=function(M,Q){for(var re,ue,he=this.fillStyle,ve=this.strokeStyle,Ee=this.lineCap,Te=this.lineWidth,Fe=Math.abs(Te*this.ctx.transform.scaleX),He=this.lineJoin,nt=JSON.parse(JSON.stringify(this.path)),tt=JSON.parse(JSON.stringify(this.path)),Me=[],se=0;se<tt.length;se++)if(tt[se].x!==void 0)for(var nn=N.call(this,tt[se]),zt=0;zt<nn.length;zt+=1)Me.indexOf(nn[zt])===-1&&Me.push(nn[zt]);for(var St=0;St<Me.length;St++)for(;this.pdf.internal.getNumberOfPages()<Me[St];)L.call(this);if(W(Me),this.autoPaging)for(var Ye=Me[0],lt=Me[Me.length-1],Ze=Ye;Ze<lt+1;Ze++){this.pdf.setPage(Ze),this.fillStyle=he,this.strokeStyle=ve,this.lineCap=Ee,this.lineWidth=Fe,this.lineJoin=He;var qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=Ze===1?this.posY+this.margin[0]:this.margin[0],cn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=Ze===1?0:cn+(Ze-2)*jt;if(this.ctx.clip_path.length!==0){var $t=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=K(re,this.posX+this.margin[3],-mt+vt+this.ctx.prevPageLastElemOffset),ie.call(this,M,!0),this.path=$t}if(ue=JSON.parse(JSON.stringify(nt)),this.path=K(ue,this.posX+this.margin[3],-mt+vt+this.ctx.prevPageLastElemOffset),Q===!1||Ze===0){var kt=(Ze>Ye||Ze<lt)&&I.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qt,jt,null).clip().discardPath()),ie.call(this,M,Q),kt&&this.pdf.restoreGraphicsState()}this.lineWidth=Te}else this.lineWidth=Fe,ie.call(this,M,Q),this.lineWidth=Te;this.path=nt},ie=function(M,Q){if((M!=="stroke"||Q||!C.call(this))&&(M==="stroke"||Q||!v.call(this))){for(var re,ue,he=[],ve=this.path,Ee=0;Ee<ve.length;Ee++){var Te=ve[Ee];switch(Te.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:Te,deltas:[],abs:[]});break;case"lt":var Fe=he.length;if(ve[Ee-1]&&!isNaN(ve[Ee-1].x)&&(re=[Te.x-ve[Ee-1].x,Te.y-ve[Ee-1].y],Fe>0)){for(;Fe>=0;Fe--)if(he[Fe-1].close!==!0&&he[Fe-1].begin!==!0){he[Fe-1].deltas.push(re),he[Fe-1].abs.push(Te);break}}break;case"bct":re=[Te.x1-ve[Ee-1].x,Te.y1-ve[Ee-1].y,Te.x2-ve[Ee-1].x,Te.y2-ve[Ee-1].y,Te.x-ve[Ee-1].x,Te.y-ve[Ee-1].y],he[he.length-1].deltas.push(re);break;case"qct":var He=ve[Ee-1].x+2/3*(Te.x1-ve[Ee-1].x),nt=ve[Ee-1].y+2/3*(Te.y1-ve[Ee-1].y),tt=Te.x+2/3*(Te.x1-Te.x),Me=Te.y+2/3*(Te.y1-Te.y),se=Te.x,nn=Te.y;re=[He-ve[Ee-1].x,nt-ve[Ee-1].y,tt-ve[Ee-1].x,Me-ve[Ee-1].y,se-ve[Ee-1].x,nn-ve[Ee-1].y],he[he.length-1].deltas.push(re);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(Te)}}ue=Q?null:M==="stroke"?"stroke":"fill";for(var zt=!1,St=0;St<he.length;St++)if(he[St].arc)for(var Ye=he[St].abs,lt=0;lt<Ye.length;lt++){var Ze=Ye[lt];Ze.type==="arc"?R.call(this,Ze.x,Ze.y,Ze.radius,Ze.startAngle,Ze.endAngle,Ze.counterclockwise,void 0,Q,!zt):O.call(this,Ze.x,Ze.y),zt=!0}else if(he[St].close===!0)this.pdf.internal.out("h"),zt=!1;else if(he[St].begin!==!0){var qt=he[St].start.x,vt=he[St].start.y;ae.call(this,he[St].deltas,qt,vt),zt=!0}ue&&k.call(this,ue),Q&&U.call(this)}},pe=function(M){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-re;case"top":return M+Q-re;case"hanging":return M+Q-2*re;case"middle":return M+Q/2-re;default:return M}},q=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(Q,re){this.colorStops.push([Q,re])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(M,Q,re,ue,he,ve,Ee,Te,Fe){for(var He=Le.call(this,re,ue,he,ve),nt=0;nt<He.length;nt++){var tt=He[nt];nt===0&&(Fe?P.call(this,tt.x1+M,tt.y1+Q):O.call(this,tt.x1+M,tt.y1+Q)),Pe.call(this,M,Q,tt.x2,tt.y2,tt.x3,tt.y3,tt.x4,tt.y4)}Te?U.call(this):k.call(this,Ee)},k=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(M,Q){this.pdf.internal.out(t(M)+" "+r(Q)+" m")},F=function(M){var Q;switch(M.align){case"right":case"end":Q="right";break;case"center":Q="center";break;default:Q="left"}var re=this.pdf.getTextDimensions(M.text),ue=pe.call(this,M.y),he=q.call(this,ue)-re.h,ve=this.ctx.transform.applyToPoint(new l(M.x,ue)),Ee=this.ctx.transform.decompose(),Te=new c;Te=(Te=(Te=Te.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale);for(var Fe,He,nt,tt=this.ctx.transform.applyToRectangle(new u(M.x,ue,re.w,re.h)),Me=Te.applyToRectangle(new u(M.x,he,re.w,re.h)),se=N.call(this,Me),nn=[],zt=0;zt<se.length;zt+=1)nn.indexOf(se[zt])===-1&&nn.push(se[zt]);if(W(nn),this.autoPaging)for(var St=nn[0],Ye=nn[nn.length-1],lt=St;lt<Ye+1;lt++){this.pdf.setPage(lt);var Ze=lt===1?this.posY+this.margin[0]:this.margin[0],qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[2],cn=vt-this.margin[0],jt=this.pdf.internal.pageSize.width-this.margin[1],mt=jt-this.margin[3],$t=lt===1?0:qt+(lt-2)*cn;if(this.ctx.clip_path.length!==0){var kt=this.path;Fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=K(Fe,this.posX+this.margin[3],-1*$t+Ze),ie.call(this,"fill",!0),this.path=kt}var wt=K([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-$t+Ze+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(He=this.pdf.internal.getFontSize(),this.pdf.setFontSize(He*M.scale),nt=this.lineWidth,this.lineWidth=nt*M.scale);var Et=this.autoPaging!=="text";if(Et||wt.y+wt.h<=vt){if(Et||wt.y>=Ze&&wt.x<=jt){var gt=Et?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||jt-wt.x)[0],bn=K([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-$t+Ze+this.ctx.prevPageLastElemOffset)[0],mn=Et&&(lt>St||lt<Ye)&&I.call(this);mn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,cn,null).clip().discardPath()),this.pdf.text(gt,bn.x,bn.y,{angle:M.angle,align:Q,renderingMode:M.renderingMode}),mn&&this.pdf.restoreGraphicsState()}}else wt.y<vt&&(this.ctx.prevPageLastElemOffset+=vt-wt.y);M.scale>=.01&&(this.pdf.setFontSize(He),this.lineWidth=nt)}else M.scale>=.01&&(He=this.pdf.internal.getFontSize(),this.pdf.setFontSize(He*M.scale),nt=this.lineWidth,this.lineWidth=nt*M.scale),this.pdf.text(M.text,ve.x+this.posX,ve.y+this.posY,{angle:M.angle,align:Q,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(He),this.lineWidth=nt)},O=function(M,Q,re,ue){re=re||0,ue=ue||0,this.pdf.internal.out(t(M+re)+" "+r(Q+ue)+" l")},ae=function(M,Q,re){return this.pdf.lines(M,Q,re,null,null)},Pe=function(M,Q,re,ue,he,ve,Ee,Te){this.pdf.internal.out([e(i(re+M)),e(s(ue+Q)),e(i(he+M)),e(s(ve+Q)),e(i(Ee+M)),e(s(Te+Q)),"c"].join(" "))},Le=function(M,Q,re,ue){for(var he=2*Math.PI,ve=Math.PI/2;Q>re;)Q-=he;var Ee=Math.abs(re-Q);Ee<he&&ue&&(Ee=he-Ee);for(var Te=[],Fe=ue?-1:1,He=Q;Ee>1e-5;){var nt=He+Fe*Math.min(Ee,ve);Te.push(xe.call(this,M,He,nt)),Ee-=Math.abs(nt-He),He=nt}return Te},xe=function(M,Q,re){var ue=(re-Q)/2,he=M*Math.cos(ue),ve=M*Math.sin(ue),Ee=he,Te=-ve,Fe=Ee*Ee+Te*Te,He=Fe+Ee*he+Te*ve,nt=4/3*(Math.sqrt(2*Fe*He)-He)/(Ee*ve-Te*he),tt=Ee-nt*Te,Me=Te+nt*Ee,se=tt,nn=-Me,zt=ue+Q,St=Math.cos(zt),Ye=Math.sin(zt);return{x1:M*Math.cos(Q),y1:M*Math.sin(Q),x2:tt*St-Me*Ye,y2:tt*Ye+Me*St,x3:se*St-nn*Ye,y3:se*Ye+nn*St,x4:M*Math.cos(re),y4:M*Math.sin(re)}},le=function(M){return 180*M/Math.PI},_e=function(M,Q,re,ue,he,ve){var Ee=M+.5*(re-M),Te=Q+.5*(ue-Q),Fe=he+.5*(re-he),He=ve+.5*(ue-ve),nt=Math.min(M,he,Ee,Fe),tt=Math.max(M,he,Ee,Fe),Me=Math.min(Q,ve,Te,He),se=Math.max(Q,ve,Te,He);return new u(nt,Me,tt-nt,se-Me)},ke=function(M,Q,re,ue,he,ve,Ee,Te){var Fe,He,nt,tt,Me,se,nn,zt,St,Ye,lt,Ze,qt,vt,cn=re-M,jt=ue-Q,mt=he-re,$t=ve-ue,kt=Ee-he,wt=Te-ve;for(He=0;He<41;He++)St=(nn=(nt=M+(Fe=He/40)*cn)+Fe*((Me=re+Fe*mt)-nt))+Fe*(Me+Fe*(he+Fe*kt-Me)-nn),Ye=(zt=(tt=Q+Fe*jt)+Fe*((se=ue+Fe*$t)-tt))+Fe*(se+Fe*(ve+Fe*wt-se)-zt),He==0?(lt=St,Ze=Ye,qt=St,vt=Ye):(lt=Math.min(lt,St),Ze=Math.min(Ze,Ye),qt=Math.max(qt,St),vt=Math.max(vt,Ye));return new u(Math.round(lt),Math.round(Ze),Math.round(qt-lt),Math.round(vt-Ze))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,Q,re=(M=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:Q}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(At.API),(function(n){var e=function(l){var u,c,f,p,w,_,v,C,I,N;for(c=[],f=0,p=(l+=u="\0\0\0\0".slice(l.length%4||4)).length;p>f;f+=4)(w=(l.charCodeAt(f)<<24)+(l.charCodeAt(f+1)<<16)+(l.charCodeAt(f+2)<<8)+l.charCodeAt(f+3))!==0?(_=(w=((w=((w=((w=(w-(N=w%85))/85)-(I=w%85))/85)-(C=w%85))/85)-(v=w%85))/85)%85,c.push(_+33,v+33,C+33,I+33,N+33)):c.push(122);return(function(L,K){for(var W=K;W>0;W--)L.pop()})(c,u.length),String.fromCharCode.apply(String,c)+"~>"},t=function(l){var u,c,f,p,w,_=String,v="length",C=255,I="charCodeAt",N="slice",L="replace";for(l[N](-2),l=l[N](0,-2)[L](/\s/g,"")[L]("z","!!!!!"),f=[],p=0,w=(l+=u="uuuuu"[N](l[v]%5||5))[v];w>p;p+=5)c=52200625*(l[I](p)-33)+614125*(l[I](p+1)-33)+7225*(l[I](p+2)-33)+85*(l[I](p+3)-33)+(l[I](p+4)-33),f.push(C&c>>24,C&c>>16,C&c>>8,C&c);return(function(K,W){for(var G=W;G>0;G--)K.pop()})(f,u[v]),_.fromCharCode.apply(_,f)},r=function(l){return l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(l){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),u.test(l)===!1)return"";for(var c="",f=0;f<l.length;f+=2)c+=String.fromCharCode("0x"+(l[f]+l[f+1]));return c},s=function(l){for(var u=new Uint8Array(l.length),c=l.length;c--;)u[c]=l.charCodeAt(c);return(u=z1(u)).reduce(function(f,p){return f+String.fromCharCode(p)},"")};n.processDataByFilters=function(l,u){var c=0,f=l||"",p=[];for(typeof(u=u||[])=="string"&&(u=[u]),c=0;c<u.length;c+=1)switch(u[c]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=r(f),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=s(f),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[c]+'" is not implemented')}return{data:f,reverseChain:p.reverse().join(" ")}}})(At.API),(function(n){n.loadFile=function(e,t,r){return(function(i,s,l){s=s!==!1,l=typeof l=="function"?l:function(){};var u=void 0;try{u=(function(c,f,p){var w=new XMLHttpRequest,_=0,v=function(C){var I=C.length,N=[],L=String.fromCharCode;for(_=0;_<I;_+=1)N.push(L(255&C.charCodeAt(_)));return N.join("")};if(w.open("GET",c,!f),w.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(w.onload=function(){w.status===200?p(v(this.responseText)):p(void 0)}),w.send(null),f&&w.status===200)return v(w.responseText)})(i,s,l)}catch{}return u})(e,t,r)},n.loadImageFile=n.loadFile})(At.API),(function(n){function e(){return(Wt.html2canvas?Promise.resolve(Wt.html2canvas):S0(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function t(){return(Wt.DOMPurify?Promise.resolve(Wt.DOMPurify):S0(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var r=function(u){var c=Yn(u);return c==="undefined"?"undefined":c==="string"||u instanceof String?"string":c==="number"||u instanceof Number?"number":c==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(u,c){var f=document.createElement(u);for(var p in c.className&&(f.className=c.className),c.innerHTML&&c.dompurify&&(f.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)f.style[p]=c.style[p];return f},s=function u(c,f){for(var p=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),w=c.firstChild;w;w=w.nextSibling)f!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||p.appendChild(u(w,f));return c.nodeType===1&&(c.nodeName==="CANVAS"?(p.width=c.width,p.height=c.height,p.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(p.value=c.value),p.addEventListener("load",function(){p.scrollTop=c.scrollTop,p.scrollLeft=c.scrollLeft},!0)),p},l=function u(c){var f=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),p=u.convert(Promise.resolve(),f);return(p=p.setProgress(1,u,1,[u])).set(c)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(u,c){return u.__proto__=c||l.prototype,u},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(u,c){return this.then(function(){switch(c=c||(function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),c){case"string":return this.then(t).then(function(f){return this.set({src:i("div",{innerHTML:u,dompurify:f})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},l.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(c){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,c(this.prop.container,f)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(c){var f=this.opt.jsPDF,p=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=p,p)for(var v=0;v<p.length;++v){var C=p[v],I=C.src.find(function(N){return N.format==="truetype"});I&&f.addFont(I.url,C.ref.name,C.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,f.context2d.save(!0),c(this.prop.container,_)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(u,c,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(u,c):this.outputPdf(u,c)},l.prototype.outputPdf=function(u,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,c)})},l.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},l.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(u){if(r(u)!=="object")return this;var c=Object.keys(u||{}).map(function(f){if(f in l.template.prop)return function(){this.prop[f]=u[f]};switch(f){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[f]=u[f]}}},this);return this.then(function(){return this.thenList(c)})},l.prototype.get=function(u,c){return this.then(function(){var f=u in l.template.prop?this.prop[u]:this.opt[u];return c?c(f):f})},l.prototype.setMargin=function(u){return this.then(function(){switch(r(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},l.prototype.setPageSize=function(u){function c(f,p){return Math.floor(f*p/72*96)}return this.then(function(){(u=u||At.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:c(u.inner.width,u.k),height:c(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},l.prototype.setProgress=function(u,c,f,p){return u!=null&&(this.progress.val=u),c!=null&&(this.progress.state=c),f!=null&&(this.progress.n=f),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(u,c,f,p){return this.setProgress(u?this.progress.val+u:null,c||null,f?this.progress.n+f:null,p?this.progress.stack.concat(p):null)},l.prototype.then=function(u,c){var f=this;return this.thenCore(u,c,function(p,w){return f.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(_){return f.updateProgress(null,p),_}).then(p,w).then(function(_){return f.updateProgress(1),_})})},l.prototype.thenCore=function(u,c,f){f=f||Promise.prototype.then;var p=this;u&&(u=u.bind(p)),c&&(c=c.bind(p));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:l.convert(Object.assign({},p),Promise.prototype),_=f.call(w,u,c);return l.convert(_,p.__proto__)},l.prototype.thenExternal=function(u,c){return Promise.prototype.then.call(this,u,c)},l.prototype.thenList=function(u){var c=this;return u.forEach(function(f){c=c.thenCore(f)}),c},l.prototype.catch=function(u){u&&(u=u.bind(this));var c=Promise.prototype.catch.call(this,u);return l.convert(c,this)},l.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},l.prototype.error=function(u){return this.then(function(){throw new Error(u)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,At.getPageSize=function(u,c,f){if(Yn(u)==="object"){var p=u;u=p.orientation,c=p.unit||c,f=p.format||f}c=c||"mm",f=f||"a4",u=(""+(u||"P")).toLowerCase();var w,_=(""+f).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+c}var C,I=0,N=0;if(v.hasOwnProperty(_))I=v[_][1]/w,N=v[_][0]/w;else try{I=f[1],N=f[0]}catch{throw new Error("Invalid format: "+f)}if(u==="p"||u==="portrait")u="p",N>I&&(C=N,N=I,I=C);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",I>N&&(C=N,N=I,I=C)}return{width:N,height:I,unit:c,k:w,orientation:u}},n.html=function(u,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(z0):null;var f=new l(c);return c.worker?f:f.from(u).doCallback()}})(At.API),At.API.addJS=function(n){return Gb=n,this.internal.events.subscribe("postPutResources",function(){Tp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Tp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Wb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Gb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Tp!==void 0&&Wb!==void 0&&this.internal.out("/Names <</JavaScript "+Tp+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var l=i[s],u=r.exec(l);if(u!=null){var c=u[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(s=0;s<f;s++){var w=t.internal.newObject();p.push(w);var _=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var v=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<p.length;s++)t.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+v+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var l={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var l=r.children[s];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var u=this.count=this.count_r({count:0},l);if(u>0&&this.line("/Count "+u),l.options&&l.options.pageNumber){var c=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(At.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,l,u){var c,f=this.decode.DCT_DECODE,p=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,c=(function(w){for(var _,v=256*w.charCodeAt(4)+w.charCodeAt(5),C=w.length,I={width:0,height:0,numcomponents:1},N=4;N<C;N+=2){if(N+=v,e.indexOf(w.charCodeAt(N+1))!==-1){_=256*w.charCodeAt(N+5)+w.charCodeAt(N+6),I={width:256*w.charCodeAt(N+7)+w.charCodeAt(N+8),height:_,numcomponents:w.charCodeAt(N+9)};break}v=256*w.charCodeAt(N+2)+w.charCodeAt(N+3)}return I})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),c.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}p={data:t,width:c.width,height:c.height,colorSpace:u,bitsPerComponent:8,filter:f,index:r,alias:i}}return p}})(At.API),At.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,s=oj(n,{checkCrc:!0}),l=s.width,u=s.height,c=s.channels,f=s.palette,p=s.depth;i=f&&c===1?(function(R){for(var k=R.width,U=R.height,P=R.data,F=R.palette,O=R.depth,ae=!1,Pe=[],Le=[],xe=void 0,le=!1,_e=0,ke=0;ke<F.length;ke++){var ne=X_(F[ke],4),M=ne[0],Q=ne[1],re=ne[2],ue=ne[3];Pe.push(M,Q,re),ue!=null&&(ue===0?(_e++,Le.length<1&&Le.push(ke)):ue<255&&(le=!0))}if(le||_e>1){ae=!0,Le=void 0;var he=k*U;xe=new Uint8Array(he);for(var ve=new DataView(P.buffer),Ee=0;Ee<he;Ee++){var Te=$0(ve,Ee,O),Fe=X_(F[Te],4)[3];xe[Ee]=Fe}}else _e===0&&(Le=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ae?8:void 0,colorBytes:P,alphaBytes:xe,needSMask:ae,palette:Pe,mask:Le}})(s):c===2||c===4?(function(R){for(var k=R.data,U=R.width,P=R.height,F=R.channels,O=R.depth,ae=F===2?"DeviceGray":"DeviceRGB",Pe=F-1,Le=U*P,xe=Pe,le=Le*xe,_e=1*Le,ke=Math.ceil(le*O/8),ne=Math.ceil(_e*O/8),M=new Uint8Array(ke),Q=new Uint8Array(ne),re=new DataView(k.buffer),ue=new DataView(M.buffer),he=new DataView(Q.buffer),ve=!1,Ee=0;Ee<Le;Ee++){for(var Te=Ee*F,Fe=0;Fe<xe;Fe++)nx(ue,$0(re,Te+Fe,O),Ee*xe+Fe,O);var He=$0(re,Te+xe,O);He<(1<<O)-1&&(ve=!0),nx(he,He,1*Ee,O)}return{colorSpace:ae,colorsPerPixel:Pe,sMaskBitsPerComponent:ve?O:void 0,colorBytes:M,alphaBytes:Q,needSMask:ve}})(s):(function(R){var k=R.data,U=R.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:U,colorsPerPixel:U==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?(function(P){for(var F=P.length,O=new Uint8Array(2*F),ae=new DataView(O.buffer,O.byteOffset,O.byteLength),Pe=0;Pe<F;Pe++)ae.setUint16(2*Pe,P[Pe],!1);return O})(k):k,needSMask:!1}})(s);var w,_,v,C=i,I=C.colorSpace,N=C.colorsPerPixel,L=C.sMaskBitsPerComponent,K=C.colorBytes,W=C.alphaBytes,G=C.needSMask,ie=C.palette,pe=C.mask,q=null;return r!==At.API.image_compression.NONE&&typeof z1=="function"?(q=(function(R){var k;switch(R){case At.API.image_compression.FAST:k=11;break;case At.API.image_compression.MEDIUM:k=13;break;case At.API.image_compression.SLOW:k=14;break;default:k=12}return k})(r),w=this.decode.FLATE_DECODE,_="/Predictor ".concat(q," /Colors ").concat(N," /BitsPerComponent ").concat(p," /Columns ").concat(l),n=Xb(K,Math.ceil(l*N*p/8),N,p,r),G&&(v=Xb(W,Math.ceil(l*L/8),1,L,r))):(w=void 0,_=void 0,n=K,G&&(v=W)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(v&&this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),{alias:t,data:n,index:e,filter:w,decodeParameters:_,transparency:pe,palette:ie,sMask:v,predictor:q,width:l,height:u,bitsPerComponent:p,sMaskBitsPerComponent:L,colorSpace:I}}},(function(n){n.processGIF89A=function(e,t,r,i){var s=new Ij(e),l=s.width,u=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:l,height:u},p=new H0(100).encode(f,100);return n.processJPEG.call(this,p,t,r,i)},n.processGIF87A=n.processGIF89A})(At.API),fa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fa.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){er.log("bit decode error:"+t)}},fa.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*i*4,u=0;u<8&&8*i+u<this.width;u++){var c=this.palette[s>>7-u&1];this.data[l+4*u]=c.blue,this.data[l+4*u+1]=c.green,this.data[l+4*u+2]=c.red,this.data[l+4*u+3]=255}t!==0&&(this.pos+=4-t)}},fa.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*i*4,u=s>>4,c=15&s,f=this.palette[u];if(this.data[l]=f.blue,this.data[l+1]=f.green,this.data[l+2]=f.red,this.data[l+3]=255,2*i+1>=this.width)break;f=this.palette[c],this.data[l+4]=f.blue,this.data[l+4+1]=f.green,this.data[l+4+2]=f.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},fa.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var l=this.palette[i];this.data[s]=l.red,this.data[s+1]=l.green,this.data[s+2]=l.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},fa.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,u=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,f=s>>15?255:0,p=r*this.width*4+4*i;this.data[p]=c,this.data[p+1]=u,this.data[p+2]=l,this.data[p+3]=f}this.pos+=n}},fa.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(l&e)/e*255|0,c=(l>>5&t)/t*255|0,f=(l>>11)/e*255|0,p=i*this.width*4+4*s;this.data[p]=f,this.data[p+1]=c,this.data[p+2]=u,this.data[p+3]=255}this.pos+=n}},fa.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},fa.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=s,this.data[u+1]=i,this.data[u+2]=r,this.data[u+3]=l}},fa.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,i){var s=new fa(e,!1),l=s.width,u=s.height,c={data:s.getData(),width:l,height:u},f=new H0(100).encode(c,100);return n.processJPEG.call(this,f,t,r,i)}})(At.API),ix.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,i){var s=new ix(e),l=s.width,u=s.height,c={data:s.getData(),width:l,height:u},f=new H0(100).encode(c,100);return n.processJPEG.call(this,f,t,r,i)}})(At.API),At.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),l=new Uint8Array(i/4),u=0,c=0,f=0;f<i;f+=4){var p=r[f],w=r[f+1],_=r[f+2],v=r[f+3];s[u++]=p,s[u++]=w,s[u++]=_,l[c++]=v}var C=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:C,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},At.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},lh=At.API,Ip=lh.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:i.metadata.Unicode.widths,c=u.fof?u.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,p=f.fof?f.fof:1,w=e.doKerning!==!1,_=0,v=n.length,C=0,I=u[0]||c,N=[];for(t=0;t<v;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?N.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+l*(1e3/s)||0)/1e3):(_=w&&Yn(f[r])==="object"&&!isNaN(parseInt(f[r][C],10))?f[r][C]/p:0,N.push((u[r]||I)/c+_)),C=r;return N},Kb=lh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return lh.processArabic&&(n=lh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Ip.apply(this,arguments).reduce(function(s,l){return s+l},0)},Yb=function(n,e,t,r){for(var i=[],s=0,l=n.length,u=0;s!==l&&u+e[s]<t;)u+=e[s],s++;i.push(n.slice(0,s));var c=s;for(u=0;s!==l;)u+e[s]>r&&(i.push(n.slice(c,s)),u=0,c=s),u+=e[s],s++;return c!==s&&i.push(n.slice(c,s)),i},Jb=function(n,e,t){t||(t={});var r,i,s,l,u,c,f,p=[],w=[p],_=t.textIndent||0,v=0,C=0,I=n.split(" "),N=Ip.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?I[0].length+2:t.lineIndent||0){var L=Array(c).join(" "),K=[];I.map(function(G){(G=G.split(/\s*\n/)).length>1?K=K.concat(G.map(function(ie,pe){return(pe&&ie.length?`
`:"")+ie})):K.push(G[0])}),I=K,c=Kb.apply(this,[L,t])}for(s=0,l=I.length;s<l;s++){var W=0;if(r=I[s],c&&r[0]==`
`&&(r=r.substr(1),W=1),_+v+(C=(i=Ip.apply(this,[r,t])).reduce(function(G,ie){return G+ie},0))>e||W){if(C>e){for(u=Yb.apply(this,[r,i,e-(_+v),e]),p.push(u.shift()),p=[u.pop()];u.length;)w.push([u.shift()]);C=i.slice(r.length-(p[0]?p[0].length:0)).reduce(function(G,ie){return G+ie},0)}else p=[r];w.push(p),_=C+c,v=N}else p.push(r),_+=v+C,v=N}return f=c?function(G,ie){return(ie?L:"")+G.join(" ")}:function(G){return G.join(" ")},w.map(f)},lh.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var w=this.internal.getFont(p.fontName,p.fontStyle),_="Unicode";return w.metadata[_]?{widths:w.metadata[_].widths||{0:1},kerning:w.metadata[_].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var u,c,f=[];for(u=0,c=r.length;u<c;u++)f=f.concat(Jb.apply(this,[r[u],l,s]));return f},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[t[s]]=e[s],i[e[s]]=t[s];var l=function(_){return"0x"+parseInt(_,10).toString(16)},u=n.__fontmetrics__.compress=function(_){var v,C,I,N,L=["{"];for(var K in _){if(v=_[K],isNaN(parseInt(K,10))?C="'"+K+"'":(K=parseInt(K,10),C=(C=l(K).slice(2)).slice(0,-1)+i[C.slice(-1)]),typeof v=="number")v<0?(I=l(v).slice(3),N="-"):(I=l(v).slice(2),N=""),I=N+I.slice(0,-1)+i[I.slice(-1)];else{if(Yn(v)!=="object")throw new Error("Don't know what to do with value type "+Yn(v)+".");I=u(v)}L.push(C+I)}return L.push("}"),L.join("")},c=n.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,C,I,N,L={},K=1,W=L,G=[],ie="",pe="",q=_.length-1,R=1;R<q;R+=1)(N=_[R])=="'"?v?(I=v.join(""),v=void 0):v=[]:v?v.push(N):N=="{"?(G.push([W,I]),W={},I=void 0):N=="}"?((C=G.pop())[0][C[1]]=W,I=void 0,W=C[0]):N=="-"?K=-1:I===void 0?r.hasOwnProperty(N)?(ie+=r[N],I=parseInt(ie,16)*K,K=1,ie=""):ie+=N:r.hasOwnProperty(N)?(pe+=r[N],W[I]=parseInt(pe,16)*K,K=1,I=void 0,pe=""):pe+=N;return L},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},w={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(_){var v=_.font,C=w.Unicode[v.postScriptName];C&&(v.metadata.Unicode={},v.metadata.Unicode.widths=C.widths,v.metadata.Unicode.kerning=C.kerning);var I=p.Unicode[v.postScriptName];I&&(v.metadata.Unicode.encoding=I,v.encoding=I.codePages[0])}])})(At.API),(function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(l,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e($p(u)),l.metadata=n.API.TTFFont.open(u),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(i,r)}}])})(At),At.API.addSvgAsImage=function(n,e,t,r,i,s,l,u){if(isNaN(e)||isNaN(t))throw er.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw er.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(Wt.canvg?Promise.resolve(Wt.canvg):S0(()=>import("./index.es-BcopgL1F.js"),[])).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(f,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(p)}).then(function(){w.addImage(c.toDataURL("image/jpeg",1),e,t,r,i,l,u)})},At.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},At.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(l),c=[],f=0,p=0,w=0;function _(C,I){var N,L=!1;for(N=0;N<C.length;N+=1)C[N]===I&&(L=!0);return L}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var v=u.length;for(w=0;w<v;w+=1)t[u[w]].value=t[u[w]].defaultValue,t[u[w]].explicitSet=!1}if(Yn(n)==="object"){for(i in n)if(s=n[i],_(u,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&_(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(f=0;f<s.length;f+=1)if(r=!0,s[f].length===1&&typeof s[f][0]=="number")c.push(String(s[f]-1));else if(s[f].length>1){for(p=0;p<s[f].length;p+=1)typeof s[f][p]!="number"&&(r=!1);r===!0&&c.push([s[f][0]-1,s[f][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var C,I=[];for(C in t)t[C].explicitSet===!0&&(t[C].type==="name"?I.push("/"+C+" /"+t[C].value):I.push("/"+C+" "+t[C].value));I.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+I.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+l.length+u.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+s+l+u+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(At.API),(function(n){var e=n.API,t=e.pdfEscape16=function(s,l){for(var u,c=l.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],w=0,_=s.length;w<_;++w){if(u=l.metadata.characterToGlyph(s.charCodeAt(w)),l.metadata.glyIdsUsed.push(u),l.metadata.toUnicode[u]=s.charCodeAt(w),c.indexOf(u)==-1&&(c.push(u),c.push([parseInt(l.metadata.widthOfGlyph(u),10)])),u=="0")return p.join("");u=u.toString(16),p.push(f[4-u.length],u)}return p.join("")},r=function(s){var l,u,c,f,p,w,_;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],w=0,_=(u=Object.keys(s).sort(function(v,C){return v-C})).length;w<_;w++)l=u[w],c.length>=100&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[l]!==void 0&&s[l]!==null&&typeof s[l].toString=="function"&&(f=("0000"+s[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),c.push("<"+l+"><"+f+">"));return c.length&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(l){var u=l.font,c=l.out,f=l.newObject,p=l.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var w=u.metadata.Unicode.widths,_=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),v="",C=0;C<_.length;C++)v+=String.fromCharCode(_[C]);var I=f();p({data:v,addLength1:!0,objectId:I}),c("endobj");var N=f();p({data:r(u.metadata.toUnicode),addLength1:!0,objectId:N}),c("endobj");var L=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+ph(u.fontName)),c("/FontFile2 "+I+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),c("/Flags "+u.metadata.flags),c("/StemV "+u.metadata.stemV),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c(">>"),c("endobj");var K=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+ph(u.fontName)),c("/FontDescriptor "+L+" 0 R"),c("/W "+n.API.PDFObject.convert(w)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+u.encoding+")"),c(">>"),c(">>"),c("endobj"),u.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+N+" 0 R"),c("/BaseFont /"+ph(u.fontName)),c("/Encoding /"+u.encoding),c("/DescendantFonts ["+K+" 0 R]"),c(">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(l){var u=l.font,c=l.out,f=l.newObject,p=l.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var w=u.metadata.rawData,_="",v=0;v<w.length;v++)_+=String.fromCharCode(w[v]);var C=f();p({data:_,addLength1:!0,objectId:C}),c("endobj");var I=f();p({data:r(u.metadata.toUnicode),addLength1:!0,objectId:I}),c("endobj");var N=f();c("<<"),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c("/StemV "+u.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+C+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),c("/FontName /"+ph(u.fontName)),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c(">>"),c("endobj"),u.objectNumber=f();for(var L=0;L<u.metadata.hmtx.widths.length;L++)u.metadata.hmtx.widths[L]=parseInt(u.metadata.hmtx.widths[L]*(1e3/u.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+I+" 0 R/BaseFont/"+ph(u.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]);var i=function(s){var l,u=s.text||"",c=s.x,f=s.y,p=s.options||{},w=s.mutex||{},_=w.pdfEscape,v=w.activeFontKey,C=w.fonts,I=v,N="",L=0,K="",W=C[I].encoding;if(C[I].encoding!=="Identity-H")return{text:u,x:c,y:f,options:p,mutex:w};for(K=u,I=v,Array.isArray(u)&&(K=u[0]),L=0;L<K.length;L+=1)C[I].metadata.hasOwnProperty("cmap")&&(l=C[I].metadata.cmap.unicode.codeMap[K[L].charCodeAt(0)]),l||K[L].charCodeAt(0)<256&&C[I].metadata.hasOwnProperty("Unicode")?N+=K[L]:N+="";var G="";return parseInt(I.slice(1))<14||W==="WinAnsiEncoding"?G=_(N,I).split("").map(function(ie){return ie.charCodeAt(0).toString(16)}).join(""):W==="Identity-H"&&(G=t(N,C[I])),w.isHex=!0,{text:G,x:c,y:f,options:p,mutex:w}};e.events.push(["postProcessText",function(s){var l=s.text||"",u=[],c={text:l,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(l)){var f=0;for(f=0;f<l.length;f+=1)Array.isArray(l[f])&&l[f].length===3?u.push([i(Object.assign({},c,{text:l[f][0]})).text,l[f][1],l[f][2]]):u.push(i(Object.assign({},c,{text:l[f]})).text);s.text=u}else s.text=i(Object.assign({},c,{text:l})).text}])})(At),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(At.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,l,u,c,f,p,w=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],C={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},I={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],L=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),K=!1,W=0;this.__bidiEngine__={};var G=function(P){var F=P.charCodeAt(),O=F>>8,ae=I[O];return ae!==void 0?w[256*ae+(255&F)]:O===252||O===253?"AL":L.test(O)?"L":O===8?"R":"N"},ie=function(P){for(var F,O=0;O<P.length;O++){if((F=G(P.charAt(O)))==="L")return!1;if(F==="R")return!0}return!1},pe=function(P,F,O,ae){var Pe,Le,xe,le,_e=F[ae];switch(_e){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":K=!1;break;case"N":case"AN":break;case"EN":K&&(_e="AN");break;case"AL":K=!0,_e="R";break;case"WS":case"BN":_e="N";break;case"CS":ae<1||ae+1>=F.length||(Pe=O[ae-1])!=="EN"&&Pe!=="AN"||(Le=F[ae+1])!=="EN"&&Le!=="AN"?_e="N":K&&(Le="AN"),_e=Le===Pe?Le:"N";break;case"ES":_e=(Pe=ae>0?O[ae-1]:"B")==="EN"&&ae+1<F.length&&F[ae+1]==="EN"?"EN":"N";break;case"ET":if(ae>0&&O[ae-1]==="EN"){_e="EN";break}if(K){_e="N";break}for(xe=ae+1,le=F.length;xe<le&&F[xe]==="ET";)xe++;_e=xe<le&&F[xe]==="EN"?"EN":"N";break;case"NSM":if(l&&!u){for(le=F.length,xe=ae+1;xe<le&&F[xe]==="NSM";)xe++;if(xe<le){var ke=P[ae],ne=ke>=1425&&ke<=2303||ke===64286;if(Pe=F[xe],ne&&(Pe==="R"||Pe==="AL")){_e="R";break}}}_e=ae<1||(Pe=F[ae-1])==="B"?"N":O[ae-1];break;case"B":K=!1,i=!0,_e=W;break;case"S":s=!0,_e="N"}return _e},q=function(P,F,O){var ae=P.split("");return O&&R(ae,O,{hiLevel:W}),ae.reverse(),F&&F.reverse(),ae.join("")},R=function(P,F,O){var ae,Pe,Le,xe,le,_e=-1,ke=P.length,ne=0,M=[],Q=W?v:_,re=[];for(K=!1,i=!1,s=!1,Pe=0;Pe<ke;Pe++)re[Pe]=G(P[Pe]);for(Le=0;Le<ke;Le++){if(le=ne,M[Le]=pe(P,re,M,Le),ae=240&(ne=Q[le][C[M[Le]]]),ne&=15,F[Le]=xe=Q[ne][5],ae>0)if(ae===16){for(Pe=_e;Pe<Le;Pe++)F[Pe]=1;_e=-1}else _e=-1;if(Q[ne][6])_e===-1&&(_e=Le);else if(_e>-1){for(Pe=_e;Pe<Le;Pe++)F[Pe]=xe;_e=-1}re[Le]==="B"&&(F[Le]=0),O.hiLevel|=xe}s&&(function(ue,he,ve){for(var Ee=0;Ee<ve;Ee++)if(ue[Ee]==="S"){he[Ee]=W;for(var Te=Ee-1;Te>=0&&ue[Te]==="WS";Te--)he[Te]=W}})(re,F,ke)},k=function(P,F,O,ae,Pe){if(!(Pe.hiLevel<P)){if(P===1&&W===1&&!i)return F.reverse(),void(O&&O.reverse());for(var Le,xe,le,_e,ke=F.length,ne=0;ne<ke;){if(ae[ne]>=P){for(le=ne+1;le<ke&&ae[le]>=P;)le++;for(_e=ne,xe=le-1;_e<xe;_e++,xe--)Le=F[_e],F[_e]=F[xe],F[xe]=Le,O&&(Le=O[_e],O[_e]=O[xe],O[xe]=Le);ne=le}ne++}}},U=function(P,F,O){var ae=P.split(""),Pe={hiLevel:W};return O||(O=[]),R(ae,O,Pe),(function(Le,xe,le){if(le.hiLevel!==0&&p)for(var _e,ke=0;ke<Le.length;ke++)xe[ke]===1&&(_e=N.indexOf(Le[ke]))>=0&&(Le[ke]=N[_e+1])})(ae,O,Pe),k(2,ae,F,O,Pe),k(1,ae,F,O,Pe),ae.join("")};return this.__bidiEngine__.doBidiReorder=function(P,F,O){if((function(Pe,Le){if(Le)for(var xe=0;xe<Pe.length;xe++)Le[xe]=xe;u===void 0&&(u=ie(Pe)),f===void 0&&(f=ie(Pe))})(P,F),l||!c||f)if(l&&c&&u^f)W=u?1:0,P=q(P,F,O);else if(!l&&c&&f)W=u?1:0,P=U(P,F,O),P=q(P,F);else if(!l||u||c||f){if(l&&!c&&u^f)P=q(P,F),u?(W=0,P=U(P,F,O)):(W=1,P=U(P,F,O),P=q(P,F));else if(l&&u&&!c&&f)W=1,P=U(P,F,O),P=q(P,F);else if(!l&&!c&&u^f){var ae=p;u?(W=1,P=U(P,F,O),W=0,p=!1,P=U(P,F,O),p=ae):(W=0,P=U(P,F,O),P=q(P,F),W=1,p=!1,P=U(P,F,O),p=ae,P=q(P,F))}}else W=0,P=U(P,F,O);else W=u?1:0,P=U(P,F,O);return P},this.__bidiEngine__.setOptions=function(P){P&&(l=P.isInputVisual,c=P.isOutputVisual,u=P.isInputRtl,f=P.isOutputRtl,p=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var l=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var u=0;for(l=[],u=0;u<i.length;u+=1)Object.prototype.toString.call(i[u])==="[object Array]"?l.push([t.doBidiReorder(i[u][0]),i[u][1],i[u][2]]):l.push([t.doBidiReorder(i[u])]);r.text=l}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(At),At.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new zu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new zj(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new Pj(this.contents),this.head=new kj(this),this.name=new Oj(this),this.cmap=new xE(this),this.toUnicode={},this.hhea=new Cj(this),this.maxp=new Mj(this),this.hmtx=new Fj(this),this.post=new Lj(this),this.os2=new Rj(this),this.loca=new Bj(this),this.glyf=new jj(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,u,c,f;for(f=[],l=0,u=(c=this.bbox).length;l<u;l++)e=c[l],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,l,u;for(l=0,s=0,u=(e=""+e).length;0<=u?s<u:s>u;s=0<=u?++s:--s)i=e.charCodeAt(s),l+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return l*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var _a,zu=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,l,u,c;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),l=this.readByte(),u=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^l)+256*(255^u)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*l+256*u+c},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n})(),Pj=(function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,l,u,c,f,p,w,_,v,C,I;for(I in v=Object.keys(t).length,c=Math.log(2),w=16*Math.floor(Math.log(v)/c),l=Math.floor(w/c),p=16*v-w,(i=new zu).writeInt(this.scalarType),i.writeShort(v),i.writeShort(w),i.writeShort(l),i.writeShort(p),s=16*v,f=i.pos+s,u=null,C=[],t)for(_=t[I],i.writeString(I),i.writeInt(n(_)),i.writeInt(f),i.writeInt(_.length),C=C.concat(_),I==="head"&&(u=f),f+=_.length;f%4;)C.push(0),f++;return i.write(C),r=2981146554-n(i.data),i.pos=u+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,l;for(t=AE.call(t);t.length%4;)t.push(0);for(s=new zu(t),i=0,r=0,l=t.length;r<l;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),Nj={}.hasOwnProperty,il=function(n,e){for(var t in e)Nj.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};_a=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var kj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return il(n,_a),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new zu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),sx=(function(){function n(e,t){var r,i,s,l,u,c,f,p,w,_,v,C,I,N,L,K,W;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(v=e.readUInt16(),_=v/2,e.pos+=6,s=(function(){var G,ie;for(ie=[],c=G=0;0<=_?G<_:G>_;c=0<=_?++G:--G)ie.push(e.readUInt16());return ie})(),e.pos+=2,I=(function(){var G,ie;for(ie=[],c=G=0;0<=_?G<_:G>_;c=0<=_?++G:--G)ie.push(e.readUInt16());return ie})(),f=(function(){var G,ie;for(ie=[],c=G=0;0<=_?G<_:G>_;c=0<=_?++G:--G)ie.push(e.readUInt16());return ie})(),p=(function(){var G,ie;for(ie=[],c=G=0;0<=_?G<_:G>_;c=0<=_?++G:--G)ie.push(e.readUInt16());return ie})(),i=(this.length-e.pos+this.offset)/2,u=(function(){var G,ie;for(ie=[],c=G=0;0<=i?G<i:G>i;c=0<=i?++G:--G)ie.push(e.readUInt16());return ie})(),c=L=0,W=s.length;L<W;c=++L)for(N=s[c],r=K=C=I[c];C<=N?K<=N:K>=N;r=C<=N?++K:--K)p[c]===0?l=r+f[c]:(l=u[p[c]/2+(r-C)-(_-c)]||0)!==0&&(l+=f[c]),this.codeMap[r]=65535&l}e.pos=w}return n.encode=function(e,t){var r,i,s,l,u,c,f,p,w,_,v,C,I,N,L,K,W,G,ie,pe,q,R,k,U,P,F,O,ae,Pe,Le,xe,le,_e,ke,ne,M,Q,re,ue,he,ve,Ee,Te,Fe,He,nt;switch(ae=new zu,l=Object.keys(e).sort(function(tt,Me){return tt-Me}),t){case"macroman":for(I=0,N=(function(){var tt=[];for(C=0;C<256;++C)tt.push(0);return tt})(),K={0:0},s={},Pe=0,_e=l.length;Pe<_e;Pe++)K[Te=e[i=l[Pe]]]==null&&(K[Te]=++I),s[i]={old:e[i],new:K[e[i]]},N[i]=K[e[i]];return ae.writeUInt16(1),ae.writeUInt16(0),ae.writeUInt32(12),ae.writeUInt16(0),ae.writeUInt16(262),ae.writeUInt16(0),ae.write(N),{charMap:s,subtable:ae.data,maxGlyphID:I+1};case"unicode":for(F=[],w=[],W=0,K={},r={},L=f=null,Le=0,ke=l.length;Le<ke;Le++)K[ie=e[i=l[Le]]]==null&&(K[ie]=++W),r[i]={old:ie,new:K[ie]},u=K[ie]-i,L!=null&&u===f||(L&&w.push(L),F.push(i),f=u),L=i;for(L&&w.push(L),w.push(65535),F.push(65535),U=2*(k=F.length),R=2*Math.pow(Math.log(k)/Math.LN2,2),_=Math.log(R/2)/Math.LN2,q=2*k-R,c=[],pe=[],v=[],C=xe=0,ne=F.length;xe<ne;C=++xe){if(P=F[C],p=w[C],P===65535){c.push(0),pe.push(0);break}if(P-(O=r[P].new)>=32768)for(c.push(0),pe.push(2*(v.length+k-C)),i=le=P;P<=p?le<=p:le>=p;i=P<=p?++le:--le)v.push(r[i].new);else c.push(O-P),pe.push(0)}for(ae.writeUInt16(3),ae.writeUInt16(1),ae.writeUInt32(12),ae.writeUInt16(4),ae.writeUInt16(16+8*k+2*v.length),ae.writeUInt16(0),ae.writeUInt16(U),ae.writeUInt16(R),ae.writeUInt16(_),ae.writeUInt16(q),ve=0,M=w.length;ve<M;ve++)i=w[ve],ae.writeUInt16(i);for(ae.writeUInt16(0),Ee=0,Q=F.length;Ee<Q;Ee++)i=F[Ee],ae.writeUInt16(i);for(Fe=0,re=c.length;Fe<re;Fe++)u=c[Fe],ae.writeUInt16(u);for(He=0,ue=pe.length;He<ue;He++)G=pe[He],ae.writeUInt16(G);for(nt=0,he=v.length;nt<he;nt++)I=v[nt],ae.writeUInt16(I);return{charMap:r,subtable:ae.data,maxGlyphID:W+1}}},n})(),xE=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return il(n,_a),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new sx(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=sx.encode(e,t),(i=new zu).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n})(),Cj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return il(n,_a),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),Rj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return il(n,_a),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),Lj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return il(n,_a),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var l,u,c;for(c=[],s=l=0,u=this.file.maxp.numGlyphs;0<=u?l<u:l>u;s=0<=u?++l:--l)c.push(e.readUInt32());return c}).call(this)}},n})(),Dj=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Oj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return il(n,_a),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,s,l,u,c,f,p,w,_;for(e.pos=this.offset,e.readShort(),t=e.readShort(),u=e.readShort(),r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(c={},s=p=0,w=r.length;p<w;s=++p)i=r[s],e.pos=i.offset,f=e.readString(i.length),l=new Dj(f,i),c[_=i.nameID]==null&&(c[_]=[]),c[i.nameID].push(l);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},n})(),Mj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return il(n,_a),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),Fj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return il(n,_a),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,s,l,u,c;for(e.pos=this.offset,this.metrics=[],t=0,u=this.file.hhea.numberOfMetrics;0<=u?t<u:t>u;t=0<=u?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,p;for(p=[],t=f=0;0<=i?f<i:f>i;t=0<=i?++f:--f)p.push(e.readInt16());return p})(),this.widths=(function(){var f,p,w,_;for(_=[],f=0,p=(w=this.metrics).length;f<p;f++)s=w[f],_.push(s.advance);return _}).call(this),r=this.widths[this.widths.length-1],c=[],t=l=0;0<=i?l<i:l>i;t=0<=i?++l:--l)c.push(this.widths.push(r));return c},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),AE=[].slice,jj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return il(n,_a),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,s,l,u,c,f,p,w;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,l=(u=new zu(t.read(i))).readShort(),f=u.readShort(),w=u.readShort(),c=u.readShort(),p=u.readShort(),this.cache[e]=l===-1?new Uj(u,f,w,c,p):new Vj(u,l,f,w,c,p),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,s,l,u,c;for(l=[],s=[],u=0,c=t.length;u<c;u++)i=e[t[u]],s.push(l.length),i&&(l=l.concat(i.encode(r)));return s.push(l.length),{table:l,offsets:s}},n})(),Vj=(function(){function n(e,t,r,i,s,l){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=l,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),Uj=(function(){function n(e,t,r,i,s){var l,u;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;u=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&u;)l.pos+=1&u?4:2,128&u?l.pos+=8:64&u?l.pos+=4:8&u&&(l.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new zu(AE.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),Bj=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return il(n,_a),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,l=0;l<r.length;++l)if(r[l]=i,s<t.length&&t[s]==l){++s,r[l]=i;var u=this.offsets[l],c=this.offsets[l+1]-u;c>0&&(i+=c)}for(var f=new Array(4*r.length),p=0;p<r.length;++p)f[4*p+3]=255&r[p],f[4*p+2]=(65280&r[p])>>8,f[4*p+1]=(16711680&r[p])>>16,f[4*p]=(4278190080&r[p])>>24;return f},n})(),zj=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,l,u,c;for(i={},l=0,u=e.length;l<u;l++)i[s=e[l]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))r=c[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,l,u,c,f,p,w,_,v,C,I,N,L;for(i in r=xE.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),v={0:0},L=r.charMap)v[(c=L[i]).old]=c.new;for(C in _=r.maxGlyphID,l)C in v||(v[C]=_++);return p=(function(K){var W,G;for(W in G={},K)G[K[W]]=W;return G})(v),w=Object.keys(p).sort(function(K,W){return K-W}),I=(function(){var K,W,G;for(G=[],K=0,W=w.length;K<W;K++)u=w[K],G.push(p[u]);return G})(),s=this.font.glyf.encode(l,I,v),f=this.font.loca.encode(s.offsets,I),N={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},n})();At.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,l;if(Array.isArray(t))return"["+(function(){var u,c,f;for(f=[],u=0,c=t.length;u<c;u++)r=t[u],f.push(e.convert(r));return f})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)l=t[i],s.push("/"+i+" "+e.convert(l));return s.push(">>"),s.join(`
`)}return""+t},e})();function qj(){const n=ql(),e=localStorage.getItem("gameCode"),t=localStorage.getItem("playerId"),r=localStorage.getItem("isAdmin")==="true",{game:i,loading:s}=ig(e),[l,u]=ye.useState(!1),c=()=>{localStorage.clear(),n("/")},f=async I=>{if(!i||!e||l)return;const N=t;if(N){u(!0);try{const W=(await ES(IS,"generateReport")({gameCode:e,playerId:N})).data,G=new At,ie=G.internal.pageSize.getWidth(),pe=20;let q=20;G.setFontSize(20),G.setTextColor(75,0,130),G.text("Reporte de Desempeo",pe,q),q+=10,G.setFontSize(16),G.text("MGT300 - Unidad 2",pe,q),q+=15,G.setFontSize(12),G.setTextColor(0,0,0),G.text(`Estudiante: ${W.playerName}`,pe,q),q+=8,G.text(`Puntaje Promedio: ${W.totalScore.toFixed(1)}`,pe,q),q+=12,G.setFontSize(14),G.setTextColor(34,139,34),G.text("Conceptos Dominados:",pe,q),q+=8,G.setFontSize(10),G.setTextColor(0,0,0),W.strongConcepts.slice(0,5).forEach(R=>{G.text(` ${R}`,pe+5,q),q+=6}),q+=8,G.setFontSize(14),G.setTextColor(220,20,60),G.text("reas a Reforzar:",pe,q),q+=8,G.setFontSize(10),G.setTextColor(0,0,0),W.weakConcepts.slice(0,5).forEach(R=>{G.text(` ${R}`,pe+5,q),q+=6}),q+=10,G.setFontSize(14),G.setTextColor(0,102,204),G.text("Recomendaciones Personalizadas:",pe,q),q+=8,G.setFontSize(10),G.setTextColor(0,0,0),W.recommendations.forEach(R=>{const k=G.splitTextToSize(R,ie-2*pe-5);G.text(` ${k[0]}`,pe+5,q),q+=6;for(let U=1;U<k.length;U++)G.text(`  ${k[U]}`,pe+5,q),q+=6;q+=2}),G.save(`reporte_${W.playerName.replace(/\s+/g,"_")}_MGT300.pdf`),alert("Reporte descargado exitosamente")}catch(L){console.error("Error generating report:",L),alert("Error al generar el reporte. Por favor intenta de nuevo.")}finally{u(!1)}}};if(s)return $.jsx("div",{className:"min-h-screen flex items-center justify-center",children:$.jsx(mo,{className:"w-12 h-12 text-blue-400 animate-spin"})});if(!i)return $.jsx("div",{className:"min-h-screen flex items-center justify-center",children:$.jsx("p",{className:"text-red-400",children:"Error cargando resultados"})});const w=Object.values(i.players).filter(I=>I.isActive&&!I.isAdmin).sort((I,N)=>N.totalScore-I.totalScore),[_,v,C]=w;return $.jsx("div",{className:"min-h-screen p-4 md:p-8",children:$.jsxs("div",{className:"max-w-6xl mx-auto",children:[$.jsx(Qt.h1,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.8},className:"text-5xl font-bold text-center mb-12 gradient-text",children:" Juego Completado! "}),$.jsx("div",{className:"max-w-5xl mx-auto mb-12",children:$.jsxs("div",{className:"flex items-end justify-center gap-4 h-96",children:[v&&$.jsxs(Qt.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,type:"spring"},className:"flex flex-col items-center",children:[$.jsx("div",{className:"text-6xl mb-2",children:""}),$.jsxs("div",{className:"bg-gradient-to-b from-gray-300 to-gray-500 rounded-t-lg p-6 w-48 h-64 flex flex-col items-center justify-end shadow-2xl",children:[$.jsx("p",{className:"text-white font-bold text-xl mb-2 text-center",children:v.name}),$.jsx("p",{className:"text-4xl font-bold text-white",children:v.totalScore.toFixed(1)}),$.jsx("p",{className:"text-white/70 text-sm mt-2",children:"2 Lugar"})]})]}),_&&$.jsxs(Qt.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,type:"spring"},className:"flex flex-col items-center",children:[$.jsx(Qt.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:1,repeat:1/0,repeatDelay:2},className:"text-8xl mb-2",children:""}),$.jsxs("div",{className:"bg-gradient-to-b from-yellow-300 to-yellow-600 rounded-t-lg p-6 w-56 h-80 flex flex-col items-center justify-end shadow-2xl",children:[$.jsx("p",{className:"text-white font-bold text-2xl mb-2 text-center",children:_.name}),$.jsx("p",{className:"text-5xl font-bold text-white",children:_.totalScore.toFixed(1)}),$.jsx("p",{className:"text-white/90 text-lg mt-2",children:" CAMPEN "})]})]}),C&&$.jsxs(Qt.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1,type:"spring"},className:"flex flex-col items-center",children:[$.jsx("div",{className:"text-6xl mb-2",children:""}),$.jsxs("div",{className:"bg-gradient-to-b from-orange-300 to-orange-600 rounded-t-lg p-6 w-48 h-48 flex flex-col items-center justify-end shadow-2xl",children:[$.jsx("p",{className:"text-white font-bold text-xl mb-2 text-center",children:C.name}),$.jsx("p",{className:"text-4xl font-bold text-white",children:C.totalScore.toFixed(1)}),$.jsx("p",{className:"text-white/70 text-sm mt-2",children:"3 Lugar"})]})]})]})}),$.jsxs(Qt.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8},className:"max-w-4xl mx-auto dramatic-card p-6 mb-8",children:[$.jsx("h2",{className:"text-2xl font-bold text-white mb-4 text-center",children:" Clasificacin Final"}),$.jsx("div",{className:"overflow-x-auto",children:$.jsxs("table",{className:"w-full",children:[$.jsx("thead",{children:$.jsxs("tr",{className:"border-b border-blue-500/30",children:[$.jsx("th",{className:"text-left py-3 px-2 text-gray-400",children:"Posicin"}),$.jsx("th",{className:"text-left py-3 px-2 text-gray-400",children:"Jugador"}),$.jsx("th",{className:"text-right py-3 px-2 text-gray-400",children:"Puntaje Final"})]})}),$.jsx("tbody",{children:w.map((I,N)=>$.jsxs(Qt.tr,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.9+N*.05},className:`border-b border-slate-700 ${N<3?"bg-yellow-500/10":""} ${I.uid===t?"bg-blue-500/20":""}`,children:[$.jsx("td",{className:"py-3 px-2 font-bold text-xl",children:PS(N+1)}),$.jsxs("td",{className:"py-3 px-2 font-semibold text-white",children:[I.name,I.uid===t&&" (T)"]}),$.jsx("td",{className:"py-3 px-2 text-right font-bold text-2xl text-white",children:I.totalScore.toFixed(1)})]},I.uid))})]})})]}),$.jsxs(Qt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.2},className:"flex flex-col md:flex-row gap-4 justify-center items-center",children:[!r&&t&&$.jsx("button",{onClick:()=>f(),disabled:l,className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 text-white font-bold py-3 px-6 rounded-xl shadow-xl hover:shadow-2xl transition-all duration-300 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?$.jsxs($.Fragment,{children:[$.jsx(mo,{className:"w-5 h-5 animate-spin"}),"Generando..."]}):$.jsxs($.Fragment,{children:[$.jsx($6,{className:"w-5 h-5"}),"Descargar Mi Reporte"]})}),$.jsxs("button",{onClick:()=>n("/"),className:"primary-button py-3 px-6 flex items-center gap-2",children:[$.jsx(W6,{className:"w-5 h-5"}),"Volver al Inicio"]}),r&&$.jsx("button",{onClick:c,className:"primary-button py-3 px-6 flex items-center gap-2",children:" Nuevo Juego"})]}),$.jsxs(Qt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"text-center mt-12",children:[$.jsx("p",{className:"text-gray-400 text-lg",children:"Gracias por participar!"}),$.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"MGT300 - Revisin Unidad 2"})]})]})})}function $j(){return $.jsx(I6,{basename:"/revision_mgt300",children:$.jsxs(i6,{children:[$.jsx(Nl,{path:"/",element:$.jsx(AC,{})}),$.jsx(Nl,{path:"/create",element:$.jsx(WM,{})}),$.jsx(Nl,{path:"/join",element:$.jsx(GM,{})}),$.jsx(Nl,{path:"/lobby",element:$.jsx(KM,{})}),$.jsx(Nl,{path:"/round/:roundNumber",element:$.jsx(XM,{})}),$.jsx(Nl,{path:"/results/:roundNumber",element:$.jsx(QM,{})}),$.jsx(Nl,{path:"/end",element:$.jsx(qj,{})}),$.jsx(Nl,{path:"*",element:$.jsx(n6,{to:"/"})})]})})}fT.createRoot(document.getElementById("root")).render($.jsx(ye.StrictMode,{children:$.jsx($j,{})}));export{Yn as _};
